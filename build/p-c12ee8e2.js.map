{"version":3,"names":["p","e","r","constructor","o","super","this","frameCenter","frameOutline","lineOfSight","sensorLocation","sensorTrail","t","type","Boolean","prototype","s","i","f","g","n","c","arguments","_graphicsLayer","h","_frameOutlineGraphic","symbol","outline","color","_sensorTrailGraphic","_lineOfSightGraphic","_sensorLocationGraphic","_frameCenterGraphic","layer","symbolColor","visibleTelemetryElements","destroy","initialize","addHandles","l","graphics","addMany","m","telemetryDisplay","attach","graphicsView","requestUpdateCallback","requestUpdate","view","container","y","featuresTilingScheme","addChild","addAttachHandles","on","graphicUpdateHandler","_updateVisibleTelemetryElements","telemetry","_updateGraphicGeometries","detach","removeAllChildren","supportsSpatialReference","moveStart","moveEnd","viewChange","update","processUpdate","isUpdating","updating","geometry","a","u"],"sources":["./node_modules/@arcgis/core/layers/support/TelemetryDisplay.js","./node_modules/@arcgis/core/views/2d/layers/VideoLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as e}from\"../../core/Clonable.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(e(r)){constructor(o){super(o),this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};o([t({type:Boolean})],p.prototype,\"frameCenter\",void 0),o([t({type:Boolean})],p.prototype,\"frameOutline\",void 0),o([t({type:Boolean})],p.prototype,\"lineOfSight\",void 0),o([t({type:Boolean})],p.prototype,\"sensorLocation\",void 0),o([t({type:Boolean})],p.prototype,\"sensorTrail\",void 0),p=o([s(\"esri.layers.support.TelemetryDisplay\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Color.js\";import r from\"../../../Graphic.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{watch as s,initial as l}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import h from\"../../../layers/GraphicsLayer.js\";import m from\"../../../layers/support/TelemetryDisplay.js\";import{LayerView2DMixin as n}from\"./LayerView2D.js\";import y from\"./graphics/GraphicContainer.js\";import p from\"./graphics/GraphicsView2D.js\";import c from\"../../layers/LayerView.js\";const f=new i([255,127,0]);let g=class extends(n(c)){constructor(){super(...arguments),this._graphicsLayer=new h,this._frameOutlineGraphic=new r({symbol:{type:\"simple-fill\",outline:{type:\"simple-line\",color:f}}}),this._sensorTrailGraphic=new r({symbol:{type:\"simple-line\",color:f}}),this._lineOfSightGraphic=new r({symbol:{type:\"simple-line\",color:f}}),this._sensorLocationGraphic=new r({symbol:{type:\"simple-marker\",color:f}}),this._frameCenterGraphic=new r({symbol:{type:\"simple-marker\",color:f}}),this.layer=null,this.symbolColor=f,this.visibleTelemetryElements=null}destroy(){this._graphicsLayer=t(this._graphicsLayer)}initialize(){this.addHandles(s((()=>this.symbolColor),(()=>{this._frameOutlineGraphic.symbol.outline.color=this.symbolColor,this._sensorTrailGraphic.symbol.color=this.symbolColor,this._lineOfSightGraphic.symbol.color=this.symbolColor,this._sensorLocationGraphic.symbol.color=this.symbolColor,this._frameCenterGraphic.symbol.color=this.symbolColor}),l)),this._graphicsLayer.graphics.addMany([this._frameOutlineGraphic,this._sensorTrailGraphic,this._lineOfSightGraphic,this._sensorLocationGraphic,this._frameCenterGraphic]),this.visibleTelemetryElements=new m({frameCenter:this.layer.telemetryDisplay?.frameCenter??!0,frameOutline:this.layer.telemetryDisplay?.frameOutline??!0,lineOfSight:this.layer.telemetryDisplay?.lineOfSight??!0,sensorLocation:this.layer.telemetryDisplay?.sensorLocation??!0,sensorTrail:this.layer.telemetryDisplay?.sensorTrail??!0})}attach(){this.graphicsView=new p({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this._graphicsLayer.graphics,container:new y(this.view.featuresTilingScheme)}),this.container.addChild(this.graphicsView.container),this.addAttachHandles(this._graphicsLayer.on(\"graphic-update\",this.graphicsView.graphicUpdateHandler)),this.addAttachHandles([s((()=>[this.layer.telemetryDisplay?.frameCenter,this.layer.telemetryDisplay?.frameOutline,this.layer.telemetryDisplay?.sensorLocation,this.layer.telemetryDisplay?.sensorTrail,this.layer.telemetryDisplay?.lineOfSight]),(()=>this._updateVisibleTelemetryElements()),l),s((()=>[this.layer.telemetry,this.visibleTelemetryElements?.frameCenter,this.visibleTelemetryElements?.frameOutline,this.visibleTelemetryElements?.sensorLocation,this.visibleTelemetryElements?.sensorTrail,this.visibleTelemetryElements?.lineOfSight]),(()=>this._updateGraphicGeometries()),l)])}detach(){this.container.removeAllChildren(),this.graphicsView=t(this.graphicsView)}supportsSpatialReference(e){return!0}moveStart(){}moveEnd(){}viewChange(){this.graphicsView.viewChange()}update(e){this.graphicsView.processUpdate(e)}isUpdating(){return!this.graphicsView||this.graphicsView.updating}_updateVisibleTelemetryElements(){this.visibleTelemetryElements&&this.layer.telemetryDisplay&&(this.visibleTelemetryElements.frameCenter=this.layer.telemetryDisplay.frameCenter,this.visibleTelemetryElements.frameOutline=this.layer.telemetryDisplay.frameOutline,this.visibleTelemetryElements.lineOfSight=this.layer.telemetryDisplay.lineOfSight,this.visibleTelemetryElements.sensorLocation=this.layer.telemetryDisplay.sensorLocation,this.visibleTelemetryElements.sensorTrail=this.layer.telemetryDisplay.sensorTrail)}_updateGraphicGeometries(){const{telemetry:e}=this.layer,{visibleTelemetryElements:i}=this;e&&i&&(i.frameOutline&&e.frameOutline?this._frameOutlineGraphic.geometry=this.layer.telemetry.frameOutline:this._frameOutlineGraphic.geometry=null,i.sensorTrail&&e.sensorTrail?this._sensorTrailGraphic.geometry=this.layer.telemetry.sensorTrail:this._sensorTrailGraphic.geometry=null,i.lineOfSight&&e.lineOfSight?this._lineOfSightGraphic.geometry=this.layer.telemetry.lineOfSight:this._lineOfSightGraphic.geometry=null,i.sensorLocation&&e.sensorLocation?this._sensorLocationGraphic.geometry=this.layer.telemetry.sensorLocation:this._sensorLocationGraphic.geometry=null,i.frameCenter&&e.frameCenter?this._frameCenterGraphic.geometry=this.layer.telemetry.frameCenter:this._frameCenterGraphic.geometry=null)}};e([a()],g.prototype,\"graphicsView\",void 0),e([a()],g.prototype,\"layer\",void 0),e([a()],g.prototype,\"symbolColor\",void 0),e([a({type:m})],g.prototype,\"visibleTelemetryElements\",void 0),g=e([o(\"esri.views.2d.layers.VideoLayerView2D\")],g);const u=g;export{u as default};\n"],"mappings":"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"}