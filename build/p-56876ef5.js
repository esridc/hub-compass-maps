import{c as t}from"./p-8e631d44.js";import{p as h}from"./p-196df462.js";class e{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(t){return this._resourceMap.get(t)??null}async fetchResource(t,e){const i=this._resourceMap.get(t);if(i)return{width:i.width,height:i.height};let s=this._inFlightResourceMap.get(t);return s?s.then((t=>({width:t.width,height:t.height}))):(s=h(t,e),this._inFlightResourceMap.set(t,s),s.then((h=>(this._inFlightResourceMap.delete(t),this._resourceMap.set(t,h),{width:h.width,height:h.height})),(()=>({width:0,height:0}))))}deleteResource(t){this._inFlightResourceMap.delete(t),this._resourceMap.delete(t)}loadFont(h){return t(h)}}export{e as i};
//# sourceMappingURL=p-56876ef5.js.map