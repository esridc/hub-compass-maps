import{bt as n,iJ as t,iK as s,iL as i,iM as a,iN as e,iO as r,iP as u,iQ as l,iR as o,iS as c,iT as f,ch as M,iU as h,iV as w,a0 as p,iW as m,M as b}from"./p-3013819f.js";const j=new n(t),x=new n(s),J=new n(i);new n(a);function K(n){const t=L.get(n);if(t)return t;let s=j;if(n)if(n===x)s=x;else if(n===J)s=J;else{const t=n.wkid,i=n.latestWkid;if(null!=t||null!=i)e(t)||e(i)?s=x:(r(t)||r(i))&&(s=J);else{const t=n.wkt2??n.wkt;if(t){const n=t.toUpperCase();n===N?s=x:n===O&&(s=J)}}}return L.set(n,s),s}const L=new Map,N=x.wkt.toUpperCase(),O=J.wkt.toUpperCase();function P(n,t,s){const i=Math.sin(n),a=Math.cos(n),e=Math.sin(t),r=Math.cos(t),u=s;return u[0]=-i,u[4]=-e*a,u[8]=r*a,u[12]=0,u[1]=a,u[5]=-e*i,u[9]=r*i,u[13]=0,u[2]=0,u[6]=r,u[10]=e,u[14]=0,u[3]=0,u[7]=0,u[11]=0,u[15]=1,u}function Q(n,t,s){return P(n,t,s),u(s,s),s}function R(n,t,s,i){if(null==n||null==i)return!1;const a=l(n,o),e=l(i,c);if(a===e&&!S(e)&&(a!==f.UNKNOWN||M(n,i)))return h(s,t),!0;if(S(e)){const n=m[a][f.LON_LAT],i=m[f.LON_LAT][e];return null!=n&&null!=i&&(n(t,0,U,0),i(U,0,V,0),P(T*U[0],T*U[1],s),s[12]=V[0],s[13]=V[1],s[14]=V[2],!0)}if((e===f.WEB_MERCATOR||e===f.PLATE_CARREE||e===f.WGS84)&&(a===f.WGS84||a===f.CGCS2000&&e===f.PLATE_CARREE||a===f.SPHERICAL_ECEF||a===f.WEB_MERCATOR)){const n=m[a][f.LON_LAT],i=m[f.LON_LAT][e];return null!=n&&null!=i&&(n(t,0,U,0),i(U,0,V,0),a===f.SPHERICAL_ECEF?Q(T*U[0],T*U[1],s):w(s),s[12]=V[0],s[13]=V[1],s[14]=V[2],!0)}return!1}function S(n){return n===f.SPHERICAL_ECEF||n===f.SPHERICAL_MARS_PCPF||n===f.SPHERICAL_MOON_PCPF}const T=b(1),U=p(),V=p();export{R,K as a};
//# sourceMappingURL=p-71ed4ac4.js.map