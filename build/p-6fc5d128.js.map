{"version":3,"names":["D","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","Q","constructor","this","_queryEngine","_snapshotFeatures","async","t","_fetch","e","_createFeatures","destroy","_createDefaultAttributes","_loadOptions","url","customParameters","i","r","Promise","all","signal","_checkProjection","spatialReference","n","g","geometryType","o","fields","l","hasZ","u","d","objectIdField","objectIdFieldName","p","a","c","timeInfo","unknownFields","length","push","name","message","details","y","S","h","get","type","editable","nullable","alias","objectIdFieldType","unshift","_","s","field","R","jsonValues","includes","O","k","startTimeField","endTimeField","trackIdField","F","I","b","dateFields","timeZoneIANA","C","T","warnings","featureErrors","layerDefinition","drawingInfo","templates","j","extent","dateFieldsTimeReference","f","fieldsIndex","fromLayerJSON","hasM","featureStore","m","cacheSpatialQueries","w","requiredFields","indexOf","splice","E","q","_objectIdGenerator","_createObjectIdGenerator","x","_normalizeFeatures","addMany","fullExtent","timeExtent","v","fetchRecomputedExtents","start","end","adds","updates","_waitSnapshotComplete","_applyEdits","executeQuery","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","_snapshotTask","abort","promise","then","clear","getLogger","error","geometry","finished","responseType","query","data","attributes","_assignObjectId","objectId","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","removeManyById","featureEditResults","uid","has","getFeature","add","Date","now","toString","Number","NEGATIVE_INFINITY","Math","max"],"sources":["./node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{createTask as t}from\"../../../../core/asyncUtils.js\";import s from\"../../../../core/Error.js\";import i from\"../../../../core/Logger.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{getJsonType as n}from\"../../../../geometry/support/jsonUtils.js\";import{wgs84 as a,equals as o}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as l,convertToGeometry as u,convertFromFeatures as d,convertToFeature as p,convertFromFeature as c}from\"../../featureConversionUtils.js\";import m from\"../../data/FeatureStore.js\";import{checkProjectionSupport as y,project as h}from\"../../data/projectionSupport.js\";import{QueryEngine as f}from\"../../data/QueryEngine.js\";import{inferLayerProperties as g,createOptimizedFeatures as _,validateGeoJSON as F}from\"./geojson.js\";import{createDrawingInfo as I,createDefaultTemplate as j,createDefaultAttributesFunction as E}from\"../support/clientSideDefaults.js\";import{loadGeometryEngineForSimplify as b,mixAttributes as T,createFeatureEditSuccessResult as w,createFeatureEditErrorResult as q,simplify as x}from\"../support/sourceUtils.js\";import S from\"../../../support/FieldsIndex.js\";import{kebabDict as R}from\"../../../support/fieldType.js\";import{getFieldDefaultValue as O,getFieldDefaultLength as k}from\"../../../support/fieldUtils.js\";import{utc as C}from\"../../../../time/timeZoneUtils.js\";const D={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class Q{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{const t=await this._fetch(e);return this._createFeatures(t)}}destroy(){this._queryEngine?.destroy(),this._queryEngine=this._createDefaultAttributes=null}async load(e,t={}){this._loadOptions={url:e.url,customParameters:e.customParameters};const i=[],[r]=await Promise.all([e.url?this._fetch(t?.signal):null,this._checkProjection(e.spatialReference)]),n=g(r,{geometryType:e.geometryType}),o=e.fields||n.fields||[],l=null!=e.hasZ?e.hasZ:n.hasZ,u=n.geometryType;let d=e.objectIdField||n.objectIdFieldName||\"__OBJECTID\";const p=e.spatialReference||a;let c=e.timeInfo;o===n.fields&&n.unknownFields.length>0&&i.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:n.unknownFields}});const y=new S(o);let h=y.get(d);h?(\"esriFieldTypeString\"!==h.type&&(h.type=\"esriFieldTypeOID\"),h.editable=!1,h.nullable=!1,d=h.name):(h={alias:d,name:d,type:\"string\"===n.objectIdFieldType?\"esriFieldTypeString\":\"esriFieldTypeOID\",editable:!1,nullable:!1},o.unshift(h));const _={};for(const a of o){if(null==a.name&&(a.name=a.alias),null==a.alias&&(a.alias=a.name),!a.name)throw new s(\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:a});if(!R.jsonValues.includes(a.type))throw new s(\"geojson-layer:invalid-field-type\",`invalid type for field \"${a.name}\"`,{field:a});if(a.name!==h.name){const e=O(a);void 0!==e&&(_[a.name]=e)}null==a.length&&(a.length=k(a))}if(c){if(c.startTimeField){const e=y.get(c.startTimeField);e?(c.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.startTimeField=null}if(c.endTimeField){const e=y.get(c.endTimeField);e?(c.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.endTimeField=null}if(c.trackIdField){const e=y.get(c.trackIdField);e?c.trackIdField=e.name:(c.trackIdField=null,i.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:c}}))}c.startTimeField||c.endTimeField||(i.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:c}}),c=null)}const F=u?I(u):void 0,b=y.dateFields.length?{timeZoneIANA:C}:null,T={warnings:i,featureErrors:[],layerDefinition:{...D,drawingInfo:F??void 0,templates:j(_),extent:void 0,geometryType:u,objectIdField:d,fields:o,hasZ:!!l,timeInfo:c,dateFieldsTimeReference:b}};this._queryEngine=new f({fieldsIndex:S.fromLayerJSON({fields:o,timeInfo:c,dateFieldsTimeReference:b}),geometryType:u,hasM:!1,hasZ:l,objectIdField:d,spatialReference:p,timeInfo:c,featureStore:new m({geometryType:u,hasM:!1,hasZ:l}),cacheSpatialQueries:!0});const w=this._queryEngine.fieldsIndex.requiredFields.indexOf(h);w>-1&&this._queryEngine.fieldsIndex.requiredFields.splice(w,1),this._createDefaultAttributes=E(_,d);const q=await this._createFeatures(r);this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,q);const x=this._normalizeFeatures(q,T.featureErrors);this._queryEngine.featureStore.addMany(x);const{fullExtent:Q,timeExtent:v}=await this._queryEngine.fetchRecomputedExtents();if(T.layerDefinition.extent=Q,v){const{start:e,end:t}=v;T.layerDefinition.timeInfo.timeExtent=[e,t]}return T}async applyEdits(e){const{spatialReference:t,geometryType:s}=this._queryEngine;return await Promise.all([b(t,s),y(e.adds,t),y(e.updates,t)]),await this._waitSnapshotComplete(),this._applyEdits(e)}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){this._loadOptions.customParameters=e,this._snapshotTask?.abort(),this._snapshotTask=t(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,e);const t=this._normalizeFeatures(e);t&&this._queryEngine.featureStore.addMany(t)}),(e=>{this._queryEngine.featureStore.clear(),r(e)||i.getLogger(\"esri.layers.GeoJSONLayer\").error(new s(\"geojson-layer:refresh\",\"An error occurred during refresh\",{error:e}))})),await this._waitSnapshotComplete();const{fullExtent:n,timeExtent:a}=await this._queryEngine.fetchRecomputedExtents();return{extent:n,timeExtent:a}}async _createFeatures(e){if(null==e)return[];const{geometryType:t,hasZ:s,objectIdField:i}=this._queryEngine,r=_(e,{geometryType:t,hasZ:s,objectIdField:i});if(!o(this._queryEngine.spatialReference,a))for(const n of r)null!=n.geometry&&(n.geometry=l(h(u(n.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),a,this._queryEngine.spatialReference)));return r}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(t){const{url:s,customParameters:i}=this._loadOptions,r=(await e(s,{responseType:\"json\",query:{...i},signal:t})).data;return F(r),r}_normalizeFeatures(e,t){const{objectIdField:s,fieldsIndex:i}=this._queryEngine,r=[];for(const n of e){const e=this._createDefaultAttributes(),a=T(i,e,n.attributes,!0);a?t?.push(a):(this._assignObjectId(e,n.attributes,!0),n.attributes=e,n.objectId=e[s],r.push(n))}return r}async _applyEdits(e){const{adds:t,updates:s,deletes:i}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t?.length&&this._applyAddEdits(r,t),s?.length&&this._applyUpdateEdits(r,s),i?.length){for(const e of i)r.deleteResults.push(w(e));this._queryEngine.featureStore.removeManyById(i)}const{fullExtent:n,timeExtent:a}=await this._queryEngine.fetchRecomputedExtents();return{extent:n,timeExtent:a,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:s}=e,{geometryType:i,hasM:r,hasZ:a,objectIdField:o,spatialReference:l,featureStore:u,fieldsIndex:p}=this._queryEngine,c=[];for(const d of t){if(d.geometry&&i!==n(d.geometry)){s.push(q(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),r=T(p,t,d.attributes);if(r)s.push(r);else{if(this._assignObjectId(t,d.attributes),d.attributes=t,null!=d.uid){const t=d.attributes[o];e.uidToObjectId[d.uid]=t}if(null!=d.geometry){const e=d.geometry.spatialReference??l;d.geometry=h(x(d.geometry,e),e,l)}c.push(d),s.push(w(d.attributes[o]))}}u.addMany(d([],c,i,a,r,o))}_applyUpdateEdits({updateResults:e},t){const{geometryType:s,hasM:i,hasZ:r,objectIdField:a,spatialReference:o,featureStore:l,fieldsIndex:u}=this._queryEngine;for(const d of t){const{attributes:t,geometry:m}=d,y=t?.[a];if(null==y){e.push(q(`Identifier field ${a} missing`));continue}if(!l.has(y)){e.push(q(`Feature with object id ${y} missing`));continue}const f=p(l.getFeature(y),s,r,i);if(null!=m){if(s!==n(m)){e.push(q(\"Incorrect geometry type.\"));continue}const t=m.spatialReference??o;f.geometry=h(x(m,t),t,o)}if(t){const s=T(u,f.attributes,t);if(s){e.push(s);continue}}l.add(c(f,s,r,i,a)),e.push(w(y))}}_createObjectIdGenerator(e,t){const s=e.fieldsIndex.get(e.objectIdField);if(\"esriFieldTypeString\"===s.type)return()=>s.name+\"-\"+Date.now().toString(16);let i=Number.NEGATIVE_INFINITY;for(const r of t)r.objectId&&(i=Math.max(i,r.objectId));return i=Math.max(0,i)+1,()=>i++}_assignObjectId(e,t,s=!1){const i=this._queryEngine.objectIdField;e[i]=s&&i in t?t[i]:this._objectIdGenerator()}async _checkProjection(e){try{await y(a,e)}catch{throw new s(\"geojson-layer\",\"Projection not supported\")}}}export{Q as default};\n"],"mappings":"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"}