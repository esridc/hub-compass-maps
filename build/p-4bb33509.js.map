{"version":3,"names":["I","map","e","toLowerCase","async","A","t","r","U","o","updatingFromView","load","E","P","M","a","portalItem","json","i","jsonContext","n","O","S","errorName","name","V","ye","Promise","all","updateItemThumbnail","W","resourceReferences","d","write","resources","pendingOperations","T","D","s","X","l","getThumbnailState","he","restoreThumbnailFromState","C","type","itemType","basemap","baseLayers","length","R","initialViewProperties","spatialReference","updating","expected","actual","f","from","id","clone","portal","m","getDefault","push","ground","allSettled","then","extent","pe","viewpoint","targetGeometry","Y","k","w","JSAPI","x","G","L","N","$","B","F","K","H","J","q","DEVELOPER_BASEMAP","z","Q","y","METADATA","h","Z","re","ae","ie","ne","se","le","typeKeywords","filter","indexOf","ee","toArray","allLayers","concat","allTables","te","some","loaded","c","capabilities","operations","supportsEditing","editingEnabled","sublayers","oe","every","me","g","j","utilityNetworks","ipsInfo","normalize","width","ce","isWGS84","isWebMercator","getGeometryServiceURL","import","b","geometries","outSpatialReference","WGS84","_","ue","u","supportsSync","fe","de","equals","supportsExportTiles","we","v","Object","keys","sourceNameToSource","p","url","includes","update","data","be","item","authenticated","user","signIn","copyAllowed","itemReloaded","ge","_e","portalHostname","reload","itemControl","folder","copyAllResources","parseInt","currentVersion","total","fetchResources","copy","copyResources","toJSON","read","addItem","prototype","call","version","authoringApp","authoringAppVersion","origin","ignoreDefaults","itemUrl","resourceInfo"],"sources":["./node_modules/@arcgis/core/webdoc/support/webdocSaveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{MultiOriginJSONSupport as t}from\"../../core/MultiOriginJSONSupport.js\";import{whenOnce as o}from\"../../core/reactiveUtils.js\";import{hasSameCanonicalPortal as r,urlToObject as a}from\"../../core/urlUtils.js\";import{updateOrigins as i}from\"../../core/accessorSupport/originUtils.js\";import n from\"../../geometry/SpatialReference.js\";import{equals as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as l}from\"../../geometry/support/webMercatorUtils.js\";import{isServerOrServicesAGOLUrl as p}from\"../../layers/support/arcgisLayerUrl.js\";import{isLayerWithFeatureLayerSource as c,isFeatureCollectionLayer as u}from\"../../layers/support/layerUtils.js\";import m from\"../../portal/Portal.js\";import f from\"../../portal/PortalItem.js\";import{createForItemWrite as d}from\"../../portal/support/jsonContext.js\";import{typeKeyword as w,removeTypeKeyword as y,addTypeKeyword as h,hasTypeKeyword as g}from\"../../portal/support/portalItemUtils.js\";import{project as _}from\"../../rest/geometryService/project.js\";import b from\"../../rest/support/ProjectParameters.js\";import{hasDeveloperBasemapLayer as j,findSpatialReference as R,isDeveloperBasemapLayer as v}from\"../../support/basemapUtils.js\";import{saveResources as W}from\"./resourceUtils.js\";import{beforeSave as P,evaluateWriteErrors as S}from\"./saveUtils.js\";const I=[\"NatGeo_World_Map\",\"Ocean_Basemap\",\"USA_Topo_Maps\",\"World_Imagery\",\"World_Street_Map\",\"World_Terrain_Base\",\"World_Topo_Map\",\"World_Hillshade\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Reference_Overlay\",\"Reference/World_Transportation\"].map((e=>e.toLowerCase()));async function A(e,t,r){r??={},U(e,t),await o((()=>!t.updatingFromView)),await t.load(),await E(t),await P(t),await M(e,t);const a=t.portalItem,{json:i,jsonContext:n}=await O(t,a);return S(n,{errorName:`${e.name}:save`},r),await V(t,a),await ye(e,t,a,i,n),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,n)]),a}async function O(e,t){const o=d(t,\"web-map\",!0),r=e.write({},o);return await Promise.all(o.resources.pendingOperations),{json:r,jsonContext:o}}async function T(e,t,r,a){a??={};const i=D(e,r);await o((()=>!t.updatingFromView)),await t.load(),await E(t),await P(t),await M(e,t);const{json:n,jsonContext:s}=await O(t,i);S(s,{errorName:`${e.name}:save`},a),await X(t,i);const l=t.getThumbnailState();return await he(e,t,i,n,s,a)&&(t.resourceReferences.portalItem=i),t.restoreThumbnailFromState(l),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,s)]),i}function U(t,o){if(!o.portalItem)throw new e(`${t.name}:portal-item-not-set`,\"Portal item to save to has not been set on the WebMap\");C(t,o.portalItem)}function C(t,o){if(o.type!==t.itemType)throw new e(`${t.name}:portal-item-wrong-type`,`Portal item needs to have type \"${t.itemType}\"`)}async function M(t,r){if(!r.basemap?.baseLayers.length)throw new e(`${t.name}:save`,\"Map does not have a valid basemap with a base layer.\");let a=null;if(await o((()=>{const e=R(r.initialViewProperties,r.basemap);return a=e.spatialReference,!e.updating})),!s(a,r.initialViewProperties.spatialReference))throw new e(`${t.name}:save`,\"The spatial reference of the basemap is not compatible with the one from the map.\",{expected:r.initialViewProperties.spatialReference,actual:a})}function D(e,t){let o=f.from(t);return o.id&&(o=o.clone(),o.id=null),o.type||(o.type=e.itemType),o.portal||(o.portal=m.getDefault()),C(e,o),o}function E(e){const t=[];return e.basemap&&t.push(e.basemap.load()),e.ground&&t.push(e.ground.load()),Promise.allSettled(t).then((()=>{}))}async function V(e,t){t.extent=await pe(e.portalItem,e.initialViewProperties.viewpoint.targetGeometry),await Y(e,t)}const k=w.JSAPI,x=\"CollectorDisabled\",G=\"Collector\",L=\"Data Editing\",N=\"OfflineDisabled\",$=\"Offline\",B=\"Workforce Project\",F=\"Workforce Worker\",K=\"Workforce Dispatcher\",H=\"Offline Map Areas\",J=\"FieldMapsDisabled\",q=w.DEVELOPER_BASEMAP,z=\"UtilityNetwork\",Q=\"IPS\";async function X(e,t){y(t,x),y(t,J),y(t,w.METADATA),y(t,N),y(t,H),y(t,K),y(t,B),y(t,F),await V(e,t)}async function Y(e,t){h(t,k),await Z(e),re(e,t),ae(e,t),ie(e,t),ne(e,t),se(e,t),le(e,t),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter(((e,t,o)=>o.indexOf(e)===t)))}function Z(e){const t=ee(e).map((e=>e.load())).toArray();return Promise.allSettled(t).then((()=>{}))}function ee(e){return e.allLayers.concat(e.allTables)}function te(e){return ee(e).some((e=>e.loaded&&c(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled&&(\"subtype-group\"!==e.type||e.sublayers.some((e=>e.editingEnabled)))))}function oe(e){return ee(e).filter((e=>\"group\"!==e.type)).every((t=>t.loaded&&me(e,t)))}function re(e,t){g(t,x)||g(t,B)||g(t,F)||g(t,K)||!te(e)?y(t,G):h(t,G)}function ae(e,t){te(e)?h(t,L):y(t,L)}function ie(e,t){!g(t,N)&&oe(e)?h(t,$):y(t,$)}function ne(e,t){j(e.basemap)?h(t,q):y(t,q)}function se(e,t){e.utilityNetworks?.length?h(t,z):y(t,z)}function le(e,t){e.ipsInfo?h(t,Q):y(t,Q)}async function pe(e,t){const o=t.clone().normalize();let r;if(o.length>1)for(const a of o)r?a.width>r.width&&(r=a):r=a;else r=o[0];return ce(e,r)}async function ce(e,t){const o=t.spatialReference;if(o.isWGS84)return t.clone();if(o.isWebMercator)return l(t);const{getGeometryServiceURL:r}=await import(\"../../portal/support/geometryServiceUtils.js\"),a=await r(e),i=new b({geometries:[t],outSpatialReference:n.WGS84});return(await _(a,i))[0]}function ue(e){return u(e)||\"map-notes\"===e.type||\"route\"===e.type}function me(e,t){return c(t)&&t.capabilities.operations.supportsSync||ue(t)&&!t.portalItem||fe(t)&&!de(t)&&t.spatialReference.equals(e.initialViewProperties.spatialReference)}function fe(e){return(\"tile\"===e.type||\"vector-tile\"===e.type)&&(e.capabilities.operations.supportsExportTiles||we(e)||v(e))}function de(e){return\"vector-tile\"===e.type&&Object.keys(e.sourceNameToSource).length>1}function we(e){return\"tile\"===e.type&&(p(e.url)&&I.some((t=>e.url?.toLowerCase().includes(\"/\"+t+\"/\"))))}async function ye(e,t,o,r,a){await o.update({data:r}),be(e,t,o,r,a)}async function he(t,o,r,a,i,n){const s=o.portalItem,l={item:s,authenticated:!(!s?.id||!s.portal.user)},p=r.portal;await p.signIn();const{copyAllowed:c,itemReloaded:u}=await ge(l,p);if(l.authenticated||=u,!c)throw new e(`${t.name}:save-as-copy-not-allowed`,\"Owner of this map does not allow others to save a copy\");const m=await _e(r,l,a,n);return o.portalItem=r,be(t,o,r,a,i),m}async function ge(e,t){const{item:o,authenticated:r}=e;return o?.id&&o.typeKeywords?.includes(\"useOnly\")?o.portal.portalHostname!==t.portalHostname?{copyAllowed:!1,itemReloaded:!1}:(r||await o.reload(),{copyAllowed:\"admin\"===o.itemControl||\"update\"===o.itemControl,itemReloaded:!0}):{copyAllowed:!0,itemReloaded:!1}}async function _e(e,t,o,a){const i=e.portal,{item:n}=t,{folder:s,copyAllResources:l}=a;let p=!1;if(l&&n?.id&&r(n.portal.url,i.url)&&parseInt(n.portal.currentVersion,10)>=2023){const{total:e}=await n.fetchResources();p=!!e}if(p){const t=await n.copy({copyResources:\"all\",folder:s});e.id=t.id,e.portal=t.portal;const r=e.toJSON();await e.load(),e.read(r),await e.update({data:o})}else await i.user.addItem({item:e,folder:s,data:o});return p}function be(e,o,r,n,s){t.prototype.read.call(o,{version:n.version,authoringApp:n.authoringApp,authoringAppVersion:n.authoringAppVersion},{origin:e.origin,ignoreDefaults:!0,url:r.itemUrl?a(r.itemUrl):void 0}),i(s),o.resourceInfo=n}export{O as createJSON,_e as initializeNewItem,ge as isCopyAllowed,A as save,T as saveAs};\n"],"mappings":"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"}