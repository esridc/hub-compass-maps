{"version":3,"names":["L","P","$","N","x","g","O","e","isValid","v","dynamicDataSource","errorMessage","U","r","a","layer","t","layerJSON","n","isTable","push","layers","tables","j","async","R","test","url","M","reverse","D","k","Y","fetchData","J","F","customParameters","apiKey","o","K","map","layerId","Array","isArray","_","length","id","sort","G","slice","indexOf","serviceJSON","s","layersJSON","i","h","l","z","c","itemResources","u","added","p","B","filter","removed","some","forEach","includes","V","type","get","sourceJSON","find","Promise","allSettled","load","loaded","defaultPopupTemplate","popupInfo","toJSON","operationalLayerType","layerType","w","I","all","Map","set","q","findIndex","C","H","portalItem","Set","size","Q","W","y","itemType","errorNamePrefix","X","A","b","ORIENTED_IMAGERY_LAYER","Z","ee","title","fullExtent","d","serverType","extent","T","S","METADATA","MULTI_LAYER","E","SINGLE_LAYER","TABLE","re","parsedUrl","path","m","every","ae","te","f","ne","reduce","clone","union","oe","validateLayer","createItemData","setItemProperties","se","update","data","reload","ie","resolve","newItem","le"],"sources":["./node_modules/@arcgis/core/layers/save/featureLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{equals as e,difference as r,isSome as a}from\"../../core/arrayUtils.js\";import t from\"../../core/Error.js\";import{updateOrigins as n}from\"../../core/accessorSupport/originUtils.js\";import{save as o,createJSONContextForWrite as s,getLayerJSON as i,saveAs as l,getPortalItem as c,addItem as u,ensureLayerConfig as p,ensureItemConfig as y,setCommonItemProperties as f,createErrorMessage as m}from\"./utils.js\";import{parse as d}from\"../support/arcgisLayerUrl.js\";import{fetchFeatureService as h,getLayerModuleType as w}from\"../support/fetchService.js\";import{isLayerWithFeatureLayerSource as v}from\"../support/layerUtils.js\";import{layerLookupMap as I}from\"../support/lazyLayerLoader.js\";import{getWGS84ExtentForItem as T,removeTypeKeyword as S,typeKeyword as b,toggleTypeKeyword as A,addTypeKeyword as E}from\"../../portal/support/portalItemUtils.js\";const L=\"Feature Service\",P=\"feature-layer-utils\",$=`${P}-save`,N=`${P}-save-as`,x=`${P}-saveall`,g=`${P}-saveall-as`;function O(e){return{isValid:v(e)&&(!(\"dynamicDataSource\"in e)||!e.dynamicDataSource),errorMessage:\"Feature layer should be a layer or table in a map or feature service\"}}function U(e){const r=[],a=[];for(const{layer:t,layerJSON:n}of e)t.isTable?a.push(n):r.push(n);return{layers:r,tables:a}}function j(e){return U([e])}async function R(e,r){return/\\/\\d+\\/?$/.test(e.url)?j(r[0]):M(r,e)}async function M(e,r){if(e.reverse(),!r)return U(e);const a=await D(r,e);for(const t of e)k(t.layer,t.layerJSON,a);return Y(a,e),a}async function D(e,r){let a=await e.fetchData(\"json\");if(J(a))return a;a||={},F(a);const{layer:{url:t,customParameters:n,apiKey:o}}=r[0];return await K(a,{url:t??\"\",customParameters:n,apiKey:o},r.map((e=>e.layer.layerId))),a}function J(e){return!!(e&&Array.isArray(e.layers)&&Array.isArray(e.tables))}function F(e){e.layers||=[],e.tables||=[]}function Y(e,r){const a=[],t=[];for(const{layer:n}of r){const{isTable:e,layerId:r}=n;e?t.push(r):a.push(r)}_(e.layers,a),_(e.tables,t)}function _(r,a){if(r.length<2)return;const t=[];for(const{id:e}of r)t.push(e);e(t.sort(G),a.slice().sort(G))&&r.sort(((e,r)=>{const t=a.indexOf(e.id),n=a.indexOf(r.id);return t<n?-1:t>n?1:0}))}function G(e,r){return e<r?-1:e>r?1:0}async function K(e,r,a){const{url:t,customParameters:n,apiKey:o}=r,{serviceJSON:s,layersJSON:i}=await h(t,{customParameters:n,apiKey:o}),l=z(e.layers,s.layers,a),c=z(e.tables,s.tables,a);e.layers=l.itemResources,e.tables=c.itemResources;const u=[...l.added,...c.added],p=i?[...i.layers,...i.tables]:[];await B(e,u,t,p)}function z(e,a,t){const n=r(e,a,((e,r)=>e.id===r.id));e=e.filter((e=>!n.removed.some((r=>r.id===e.id))));const o=n.added;return o.forEach((({id:r})=>{e.push({id:r})})),{itemResources:e,added:o.filter((({id:e})=>!t.includes(e)))}}async function B(e,r,a,t){const n=await V(r),o=r.map((({id:e,type:r})=>new(n.get(r))({url:a,layerId:e,sourceJSON:t.find((({id:r})=>r===e))})));await Promise.allSettled(o.map((e=>e.load()))),o.forEach((r=>{const{layerId:a,loaded:t,defaultPopupTemplate:n}=r;if(!t||null==n)return;const o={id:a,popupInfo:n.toJSON()};\"ArcGISFeatureLayer\"!==r.operationalLayerType&&(o.layerType=r.operationalLayerType),k(r,o,e)}))}async function V(e){const r=[];e.forEach((({type:e})=>{const a=w(e),t=I[a];r.push(t())}));const a=await Promise.all(r),t=new Map;return e.forEach((({type:e},r)=>{t.set(e,a[r])})),t}function k(e,r,a){e.isTable?q(a.tables,r):q(a.layers,r)}function q(e,r){const a=e.findIndex((({id:e})=>e===r.id));-1===a?e.push(r):e[a]=r}function C(e,r){if(!e.length)throw new t(`${r}:missing-parameters`,\"'layers' array should contain at least one feature layer\")}function H(e,r){const a=e.map((e=>e.portalItem.id));if(new Set(a).size>1)throw new t(`${r}:invalid-parameters`,\"All layers in the 'layers' array should be loaded from the same portal item\")}function Q(e,r){const a=e.map((e=>e.layerId));if(new Set(a).size!==a.length)throw new t(`${r}:invalid-parameters`,\"'layers' array should contain only one instance each of layer or table in a feature service\")}async function W(e){C(e,x),await Promise.all(e.map((e=>e.load())));for(const r of e)p(r,x,O),y({layer:r,itemType:L,errorNamePrefix:x});H(e,x),Q(e,x)}function X(e,r){const a=e.some((e=>\"oriented-imagery\"===e.type));A(r,b.ORIENTED_IMAGERY_LAYER,a)}async function Z(e,r){X([e],r)}async function ee(e,r){const{url:a,layerId:t,title:n,fullExtent:o,isTable:s}=e,i=d(a);r.url=(\"FeatureServer\"===i?.serverType?a:`${a}/${t}`)??null,r.title||=n,r.extent=null,s||null==o||(r.extent=await T(o)),S(r,b.METADATA),S(r,b.MULTI_LAYER),E(r,b.SINGLE_LAYER),A(r,b.TABLE,s),X([e],r)}function re(e,r){for(const s of e){const a=s.parsedUrl.path,n=d(a),o=n?.url.path;if(!o)throw new t(`${r}:invalid-parameters`,m(s,`has unsupported url pattern: ${a}`),{layer:s});const i=n?.serverType;if(\"FeatureServer\"!==i&&\"MapServer\"!==i)throw new t(`${r}:invalid-parameters`,m(s,`has unsupported server type: ${i}`),{layer:s});if(\"MapServer\"===i&&e.length>1)throw new t(`${r}:invalid-parameters`,\"Only one layer or table in a map service can be saved\")}const a=d(e[0].parsedUrl.path),n=a?.url.path,o=e.every((e=>{const r=d(e.parsedUrl.path);return r?.url.path===n}));if(!o)throw new t(`${r}:invalid-parameters`,\"'layers' array should only contain layers or tables that belong to the same feature service\")}async function ae(e){C(e,g),await Promise.all(e.map((e=>e.load())));for(const r of e)p(r,g,O);re(e,g),Q(e,g)}function te(e,r){X(r,e),f(e)}async function ne(e,r){let t=0,n=0;for(const{isTable:a}of r)a?n++:t++;const o=r[0].parsedUrl.path,s=d(o);if(e.url=\"FeatureServer\"===s?.serverType?s.url.path:o,e.title||=s.title,e.extent=null,t>0){const t=r.map((e=>e.fullExtent)).filter(a).reduce(((e,r)=>e.clone().union(r)));t&&(e.extent=await T(t))}S(e,b.METADATA),A(e,b.MULTI_LAYER,r.length>1),A(e,b.SINGLE_LAYER,1===r.length),A(e,b.TABLE,n>0&&0===t),X(r,e),f(e)}async function oe(e,r){return o({layer:e,itemType:L,validateLayer:O,createItemData:(e,r)=>R(r,[e]),errorNamePrefix:$,setItemProperties:Z},r)}async function se(e,r){await W(e);const a=e[0].portalItem,t=s(a),o=await Promise.all(e.map((e=>i(e,t,r)))),l=await R(a,e.map(((e,r)=>({layer:e,layerJSON:o[r]}))));return te(a,e),await a.update({data:l}),await Promise.all(e.slice(1).map((e=>e.portalItem.reload()))),n(t),a.clone()}async function ie(e,r,a){return l({layer:e,itemType:L,validateLayer:O,createItemData:(e,r)=>Promise.resolve(j(e)),errorNamePrefix:N,newItem:r,setItemProperties:ee},a)}async function le(e,r,a){await ae(e);const t=c({itemType:L,errorNamePrefix:g,newItem:r}),o=s(t),l=await Promise.all(e.map((e=>i(e,o,a)))),p=await M(e.map(((e,r)=>({layer:e,layerJSON:l[r]}))));await ne(t,e),await u(t,p,a);for(const n of e)n.portalItem=t.clone();return n(o),t}export{oe as save,se as saveAll,le as saveAllAs,ie as saveAs};\n"],"mappings":"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"}