import{k$ as t,s as i,di as a}from"./p-aad64c9f.js";class e{constructor(t,i=0,a=t.lods[t.lods.length-1].level){this.tileInfo=t,this.minLOD=i,this.maxLOD=a,t.lodAt(i)||(this.minLOD=t.lods[0].level),t.lodAt(a)||(this.maxLOD=t.lods[t.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(t,i,a){const e=this.tileInfo?.lodAt(t);return!e||t<this.minLOD||t>this.maxLOD?"unavailable":e.cols&&e.rows?a>=e.cols[0]&&a<=e.cols[1]&&i>=e.rows[0]&&i<=e.rows[1]?"unknown":"unavailable":"unknown"}async fetchAvailability(a,e,s,n){await t(n);const l=this.getAvailability(a,e,s);if("unavailable"===l)throw new i("tile-map:tile-unavailable","Tile is not available",{level:a,row:e,col:s});return l}async fetchAvailabilityUpsample(i,e,s,n,l){await t(l),n.level=i,n.row=e,n.col=s;const h=this.tileInfo;return h.updateTileInfo(n),this.fetchAvailability(i,e,s,l).catch((t=>{if(a(t))throw t;if(h.upsampleTile(n))return this.fetchAvailabilityUpsample(n.level,n.row,n.col,n,l);throw t}))}}export{e};
//# sourceMappingURL=p-44e1cc72.js.map