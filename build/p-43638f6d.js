import{f as s,a as e}from"./p-682c165c.js";import{dC as r}from"./p-aad64c9f.js";class t extends s{constructor(){super(...arguments),this._hasCrossfade=!1}get requiresDedicatedFBO(){return super.requiresDedicatedFBO||this._hasCrossfade}beforeRender(s){super.beforeRender(s),this._manageFade()}prepareRenderPasses(s){const t=s.registerRenderPass({name:"bitmap",brushes:[e.bitmap],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}_manageFade(){this.children.reduce(((s,e)=>s+(e.inFadeTransition?1:0)),0)>=2?(this.children.forEach((s=>s.blendFunction="additive")),this._hasCrossfade=!0):(this.children.forEach((s=>s.blendFunction="standard")),this._hasCrossfade=!1)}}export{t as a};
//# sourceMappingURL=p-43638f6d.js.map