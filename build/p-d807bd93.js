import{c as t}from"./p-b947b9d2.js";import{g_ as h}from"./p-aad64c9f.js";class s{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(t){return this._resourceMap.get(t)??null}async fetchResource(t,s){const i=this._resourceMap.get(t);if(i)return{width:i.width,height:i.height};let e=this._inFlightResourceMap.get(t);return e?e.then((t=>({width:t.width,height:t.height}))):(e=h(t,s),this._inFlightResourceMap.set(t,e),e.then((h=>(this._inFlightResourceMap.delete(t),this._resourceMap.set(t,h),{width:h.width,height:h.height})),(()=>({width:0,height:0}))))}deleteResource(t){this._inFlightResourceMap.delete(t),this._resourceMap.delete(t)}loadFont(h){return t(h)}}export{s as i};
//# sourceMappingURL=p-d807bd93.js.map