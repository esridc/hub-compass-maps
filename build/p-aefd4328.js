import{o}from"./p-de84037a.js";import{fb as r}from"./p-aad64c9f.js";import{t,c as a,o as s}from"./p-deddb82e.js";const n=o=>"vertical"===o||"horizontal"===o||"cross"===o||"esriSFSCross"===o||"esriSFSVertical"===o||"esriSFSHorizontal"===o;function e(o,t,a){const s=t.style,e=r(Math.ceil(a)),i=n(s)?8*e:16*e,c=2*e;o.width=i,o.height=i;const l=o.getContext("2d");l.strokeStyle="#ffffff",l.lineWidth=e,l.beginPath(),"vertical"!==s&&"cross"!==s&&"esriSFSCross"!==s&&"esriSFSVertical"!==s||(l.moveTo(i/2,-c),l.lineTo(i/2,i+c)),"horizontal"!==s&&"cross"!==s&&"esriSFSCross"!==s&&"esriSFSHorizontal"!==s||(l.moveTo(-c,i/2),l.lineTo(i+c,i/2)),"backward-diagonal"!==s&&"diagonal-cross"!==s&&"esriSFSDiagonalCross"!==s&&"esriSFSBackwardDiagonal"!==s||(l.moveTo(-c,-c),l.lineTo(i+c,i+c),l.moveTo(i-c,-c),l.lineTo(i+c,c),l.moveTo(-c,i-c),l.lineTo(c,i+c)),"forward-diagonal"!==s&&"diagonal-cross"!==s&&"esriSFSForwardDiagonal"!==s&&"esriSFSDiagonalCross"!==s||(l.moveTo(i+c,-c),l.lineTo(-c,i+c),l.moveTo(c,-c),l.lineTo(-c,c),l.moveTo(i+c,i-c),l.lineTo(i-c,i+c)),l.stroke();const f=l.getImageData(0,0,o.width,o.height),S=new Uint8Array(f.data);let h;for(let o=0;o<S.length;o+=4)h=S[o+3]/255,S[o]=S[o]*h,S[o+1]=S[o+1]*h,S[o+2]=S[o+2]*h;return[S,o.width,o.height,e]}function i(r){r.length%2==1&&(r=[...r,...r]);const s=r.reduce(((o,r)=>o+r),0),n=Math.round(s*t),e=1,i=new Float32Array(n*e);let c=0,l=0,f=.5,S=!0;for(const o of r){for(c=l,l+=o*t;f<=l;){const o=f-.5,r=Math.min(Math.abs(f-c),Math.abs(f-l));i[o]=S?-r:r,f++}S=!S}const h=i.length,M=new Uint8Array(4*h);for(let r=0;r<h;++r){const s=i[r]/t;o(s/a*.5+.5,M,4*r)}return[M,n,e]}function c(r,t){null==r&&(r=[]);const a="Butt"===t,n="Square"===t,e=!a&&!n;r.length%2==1&&(r=[...r,...r]);const i=s,c=2*i;let l=0;for(const o of r)l+=o;const f=Math.round(l*i),S=new Float32Array(f*c),h=.5*i;let M=0,d=0,F=.5,u=!0;for(const o of r){for(M=d,d+=o*i;F<=d;){let o=.5;for(;o<c;){const r=(o-.5)*f+F-.5,t=e?(o-i)*(o-i):Math.abs(o-i);S[r]=u?a?Math.max(Math.max(M+h-F,t),Math.max(F-d+h,t)):t:e?Math.min((F-M)*(F-M)+t,(F-d)*(F-d)+t):n?Math.min(Math.max(F-M,t),Math.max(d-F,t)):Math.min(Math.max(F-M+h,t),Math.max(d+h-F,t)),o++}F++}u=!u}const w=S.length,g=new Uint8Array(4*w);for(let r=0;r<w;++r){const t=(e?Math.sqrt(S[r]):S[r])/i;o(t,g,4*r)}return[g,f,c]}export{i,c as l,e as s};
//# sourceMappingURL=p-aefd4328.js.map