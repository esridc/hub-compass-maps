{"version":3,"names":["r","o","e","a","i","style","n","t","Math","ceil","s","l","width","height","h","getContext","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","c","getImageData","m","Uint8Array","data","S","length","round","Float32Array","F","g","T","d","abs","max","min","f","M","sqrt"],"sources":["./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as o}from\"../../core/floatRGBA.js\";import{nextPowerOfTwo as t}from\"../../core/mathUtils.js\";import{dashRadius as a}from\"./constants.js\";const r=o=>\"vertical\"===o||\"horizontal\"===o||\"cross\"===o||\"esriSFSCross\"===o||\"esriSFSVertical\"===o||\"esriSFSHorizontal\"===o;function e(o,a,e){const i=a.style,n=t(Math.ceil(e)),s=r(i)?8*n:16*n,l=2*n;o.width=s,o.height=s;const h=o.getContext(\"2d\");h.strokeStyle=\"#FFFFFF\",h.lineWidth=n,h.beginPath(),\"vertical\"!==i&&\"cross\"!==i&&\"esriSFSCross\"!==i&&\"esriSFSVertical\"!==i||(h.moveTo(s/2,-l),h.lineTo(s/2,s+l)),\"horizontal\"!==i&&\"cross\"!==i&&\"esriSFSCross\"!==i&&\"esriSFSHorizontal\"!==i||(h.moveTo(-l,s/2),h.lineTo(s+l,s/2)),\"backward-diagonal\"!==i&&\"diagonal-cross\"!==i&&\"esriSFSDiagonalCross\"!==i&&\"esriSFSBackwardDiagonal\"!==i||(h.moveTo(-l,-l),h.lineTo(s+l,s+l),h.moveTo(s-l,-l),h.lineTo(s+l,l),h.moveTo(-l,s-l),h.lineTo(l,s+l)),\"forward-diagonal\"!==i&&\"diagonal-cross\"!==i&&\"esriSFSForwardDiagonal\"!==i&&\"esriSFSDiagonalCross\"!==i||(h.moveTo(s+l,-l),h.lineTo(-l,s+l),h.moveTo(l,-l),h.lineTo(-l,l),h.moveTo(s+l,s-l),h.lineTo(s-l,s+l)),h.stroke();const c=h.getImageData(0,0,o.width,o.height),m=new Uint8Array(c.data);let S;for(let t=0;t<m.length;t+=4)S=m[t+3]/255,m[t]=m[t]*S,m[t+1]=m[t+1]*S,m[t+2]=m[t+2]*S;return[m,o.width,o.height,n]}function i(t,r){const e=\"Butt\"===r,i=\"Square\"===r,n=!e&&!i;t.length%2==1&&(t=[...t,...t]);const s=a,l=2*s;let h=0;for(const o of t)h+=o;const c=Math.round(h*s),m=new Float32Array(c*l),S=.5*s;let F=0,g=0,T=.5,d=!0;for(const o of t){for(F=g,g+=o*s;T<=g;){let o=.5;for(;o<l;){const t=(o-.5)*c+T-.5,a=n?(o-s)*(o-s):Math.abs(o-s);m[t]=d?e?Math.max(Math.max(F+S-T,a),Math.max(T-g+S,a)):a:n?Math.min((T-F)*(T-F)+a,(T-g)*(T-g)+a):i?Math.min(Math.max(T-F,a),Math.max(g-T,a)):Math.min(Math.max(T-F+S,a),Math.max(g+S-T,a)),o++}T++}d=!d}const f=m.length,M=new Uint8Array(4*f);for(let a=0;a<f;++a){const t=(n?Math.sqrt(m[a]):m[a])/s;o(t,M,4*a)}return[M,c,l]}export{i as rasterizeDash,e as rasterizeFillStyle};\n"],"mappings":"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"}