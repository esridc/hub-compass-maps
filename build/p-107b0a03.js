import{a as e,r,w as t,K as n,g as i,d as s}from"./p-63562f76.js";import{s as a}from"./p-4295487d.js";import{c as o,u}from"./p-cf77d7c5.js";import{i$ as l}from"./p-aad64c9f.js";import{crosses as f,touches as p,within as c,overlaps as m,contains as w,intersects as j,relate as R}from"./p-4e3882f9.js";import"./p-11492679.js";import"./p-7950bc60.js";import"./p-1bb606f6.js";import"./p-448d8eb2.js";import"./p-875cbb57.js";import"./p-da522976.js";import"./p-aff89b86.js";import"./p-d492d39b.js";import"./p-cea3971b.js";import"./p-2af77f97.js";function S(e){return e instanceof l}function h(i,s,R,h){return h(i,s,(async(h,b,d)=>{if(d.length<2)throw new e(i,r.WrongNumberOfParameters,s);if(null===(d=t(d))[0]&&null===d[1])return!1;if(n(d[0])){if(d[1]instanceof l)return new o({parentfeatureset:d[0],relation:R,relationGeom:d[1]});if(null===d[1])return new u({parentfeatureset:d[0]});throw new e(i,r.InvalidParameter,s)}if(S(d[0])){if(S(d[1])){switch(R){case"esriSpatialRelEnvelopeIntersects":return j(a(d[0]),a(d[1]));case"esriSpatialRelIntersects":return j(d[0],d[1]);case"esriSpatialRelContains":return w(d[0],d[1]);case"esriSpatialRelOverlaps":return m(d[0],d[1]);case"esriSpatialRelWithin":return c(d[0],d[1]);case"esriSpatialRelTouches":return p(d[0],d[1]);case"esriSpatialRelCrosses":return f(d[0],d[1])}throw new e(i,r.InvalidParameter,s)}if(n(d[1]))return new o({parentfeatureset:d[1],relation:R,relationGeom:d[0]});if(null===d[1])return!1;throw new e(i,r.InvalidParameter,s)}if(null===d[0]){if(n(d[1]))return new u({parentfeatureset:d[1]});if(d[1]instanceof l||null===d[1])return!1}throw new e(i,r.InvalidParameter,s)}))}function b(a){"async"===a.mode&&(a.functions.intersects=function(e,r){return h(e,r,"esriSpatialRelIntersects",a.standardFunctionAsync)},a.functions.envelopeintersects=function(e,r){return h(e,r,"esriSpatialRelEnvelopeIntersects",a.standardFunctionAsync)},a.signatures.push({name:"envelopeintersects",min:2,max:2}),a.functions.contains=function(e,r){return h(e,r,"esriSpatialRelContains",a.standardFunctionAsync)},a.functions.overlaps=function(e,r){return h(e,r,"esriSpatialRelOverlaps",a.standardFunctionAsync)},a.functions.within=function(e,r){return h(e,r,"esriSpatialRelWithin",a.standardFunctionAsync)},a.functions.touches=function(e,r){return h(e,r,"esriSpatialRelTouches",a.standardFunctionAsync)},a.functions.crosses=function(e,r){return h(e,r,"esriSpatialRelCrosses",a.standardFunctionAsync)},a.functions.relate=function(o,f){return a.standardFunctionAsync(o,f,(async(a,p,c)=>{if(c=t(c),i(c,3,3,o,f),S(c[0])&&S(c[1]))return R(c[0],c[1],s(c[2]));if(c[0]instanceof l&&null===c[1])return!1;if(c[1]instanceof l&&null===c[0])return!1;if(n(c[0])&&null===c[1])return new u({parentfeatureset:c[0]});if(n(c[1])&&null===c[0])return new u({parentfeatureset:c[1]});if(n(c[0])&&c[1]instanceof l)return c[0].relate(c[1],s(c[2]));if(n(c[1])&&c[0]instanceof l)return c[1].relate(c[0],s(c[2]));if(null===c[0]&&null===c[1])return!1;throw new e(o,r.InvalidParameter,f)}))})}export{b as registerFunctions};
//# sourceMappingURL=p-107b0a03.js.map