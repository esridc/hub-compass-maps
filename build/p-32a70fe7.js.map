{"version":3,"names":["i","e","t","elevationInfo","alignPointsInFeatures","s","c","a","async","notifyElevationSourceChange","r","constructor","this","_elevationInfo","_alignPointsInFeatures","_alignmentsCache","_cacheVersion","n","mode","featureExpressionInfo","_alignComputedElevationCandidates","_alignAbsoluteElevationCandidates","clear","offset","unit","o","type","start","z","end","target","Map","objectId","d","push","_prepareQuery","l","_applyCacheAndResponse","drapedObjectIds","h","failedObjectIds","u","p","has","draped","_addToQueriesOrCachedResult","length","points","spatialReference","toJSON","pointsInFeatures","get","elevations","apply","put","point","x","y","wkid","filter","distance","_updateCandidatesTo3D","sort","f","Math","sqrt","min","max","notifySymbologyChange","_getSymbologyCandidates","_candidatesCache","candidates","sourceCandidateIndices","fetch","g","concat","toString","super","arguments","updating","_pending","promise","callback","_process","then","catch","shift","prototype","data","resolution","state","CREATED","alive","process","_gotoFetchCount","task","resume","FETCH_COUNT","FETCHED_COUNT","_gotoFetchFeatures","FETCH_FEATURES","FETCHED_FEATURES","_goToDone","debugInfo","featureCount","_featureCount","_stateToString","previous","features","DONE","fetchCount","_gotoFetchedCount","ok","value","E","fetchFeatures","_gotoFetchedFeatures","finish","reset","abort","intersects","extent","T","_minimumVerticesPerFeature","store","featureStore","geometryType","_mandatoryOutFields","Set","objectIdField","add","globalIdField","outFields","_get","_set","refresh","_filterProperties","JSON","stringify","customParameters","_configuration","tileInfo","tileSize","updatingExcludingEdits","_pendingEdits","_updatingHandles","hasZ","suspended","tilesOfInterest","availability","_pendingTiles","_pendingEditsAbortController","AbortController","initialize","_initializeFetchExtent","id","addHandles","destroy","forEach","_deletePendingTile","applyEdits","addedFeatures","updatedFeatures","deletedFeatures","map","globalId","_lookupObjectIdByGlobalId","addPromise","processEdits","_queryFeaturesById","signal","_processPendingTiles","capabilities","query","supportsExtent","url","I","S","where","outSpatialReference","cacheHint","supportsCacheHint","_","fromJSON","getLogger","warn","numberOfFeatures","numFeatures","pendingTiles","Array","from","values","storedTiles","_markTilesNotAlive","_createPendingTiles","_deletePendingTiles","_collectMissingTilesInfo","_setAvailability","coveredArea","fullArea","missingTiles","_createPendingTile","_verifyTileComplexity","prepend","_fetchCount","_fetchFeatures","_finishPendingTile","_ensureFetchAllCounts","getFeatureCount","_verifyVertexComplexity","_verifyFeatureDensity","q","A","H","C","_updateAvailability","set","delete","_createCountQuery","timeout","w","_createFeaturesQuery","_setPagingParameters","exceededTransferLimit","_queryFeatures","num","gdbVersion","timeExtent","Error","attributes","objectIds","supportsFormatPBF","_queryFeaturesPBF","_queryFeaturesJSON","sourceSpatialReference","v","P","F","O","b","_createBaseQuery","getAttributesForTile","returnGeometry","supportsResultType","resultType","returnZ","returnM","geometry","m","supportsPagination","supportsMaxRecordCountFactor","tileMaxRecordCount","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","j","maxRecordCountFactor","ceil","constructOnly","readOnly","_store","_byteSize","byteSize","_used","applyByteSizeLimit","Symbol","iterator","maximumByteSize","MEGABYTES","_tileBounds","_tiles","_refCounts","_tileFeatureCounts","_tmpBoundingRect","_referenceFeature","upsertMany","Object","keys","reduce","_addTileStorage","_removeTileStorage","attributeKeys","_processEditsDelete","_processEditsRefetch","size","_remove","_unreferenceFeature","REMOVED","removeManyById","hasM","forEachInBounds","_createTileTree","_simplify","_collectMissingTiles","count","level","row","col","updateTileInfo","ExtrapolateOptions","POWER_OF_TWO","_tilesAreRelated","_populateChildren","floor","isLeaf","children","_mergeChildren","_purge","_forEachLeaf","_collectMissingTilesRecurse","info","addMissing","hasChildren","ADDED","UNCHANGED","test","tiles","featureReferences","lengths","coords","_tileInfo","_extent","EventedAccessor","_isInitializing","remoteClient","_whenSetup","_elevationAligner","_elevationFilter","_symbologyCandidatesFetcher","_editsUpdatingHandles","_pendingApplyEdits","invoke","_spatialReference","_featureFetcher","_queryEngine","_featureStore","destroyed","result","timeInfo","fieldsIndex","serviceInfo","configuration","viewType","emit","_notifyUpdating","resolve","configure","_updateFeatureFetcherConfiguration","executeQueryForSnapping","alignCandidates","WGS84","edits","units","spatialRel"],"sources":["./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationAlignment.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationFilter.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js","./node_modules/@arcgis/core/core/AsyncSequence.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{LRUCache as e}from\"../../../../core/LRUCache.js\";import{getOrCreateMapValue as t}from\"../../../../core/MapUtils.js\";import{throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{getMetersPerVerticalUnitForSR as n}from\"../../../../core/unitUtils.js\";import{getMetersPerUnit as o}from\"../../../../symbols/support/unitConversionUtils.js\";function i(e=!1,t){if(e){const{elevationInfo:e,alignPointsInFeatures:s}=t;return new c(e,s)}return new a}class a{async alignCandidates(e,t,s){return e}notifyElevationSourceChange(){}}const r=1024;class c{constructor(t,s){this._elevationInfo=t,this._alignPointsInFeatures=s,this._alignmentsCache=new e(r),this._cacheVersion=0}async alignCandidates(e,t,s){const n=this._elevationInfo;return null==n||\"absolute-height\"!==n.mode||n.featureExpressionInfo?this._alignComputedElevationCandidates(e,t,s):(this._alignAbsoluteElevationCandidates(e,t,n),e)}notifyElevationSourceChange(){this._alignmentsCache.clear(),this._cacheVersion++}_alignAbsoluteElevationCandidates(e,t,s){const{offset:i,unit:a}=s;if(null==i)return;const r=n(t),c=i*(o(a??\"meters\")/r);for(const n of e)switch(n.type){case\"edge\":n.start.z+=c,n.end.z+=c;continue;case\"vertex\":n.target.z+=c;continue}}async _alignComputedElevationCandidates(e,n,o){const i=new Map;for(const s of e)t(i,s.objectId,d).push(s);const[a,r,c]=this._prepareQuery(i,n),l=await this._alignPointsInFeatures(a,o);s(o);if(c!==this._cacheVersion)return this._alignComputedElevationCandidates(e,n,o);this._applyCacheAndResponse(a,l,r);const{drapedObjectIds:h,failedObjectIds:u}=l,p=[];for(const t of e){const{objectId:e}=t;h.has(e)&&\"edge\"===t.type&&(t.draped=!0),u.has(e)||p.push(t)}return p}_prepareQuery(e,t){const s=[],n=[];for(const[o,i]of e){const e=[];for(const t of i)this._addToQueriesOrCachedResult(o,t.target,e,n),\"edge\"===t.type&&(this._addToQueriesOrCachedResult(o,t.start,e,n),this._addToQueriesOrCachedResult(o,t.end,e,n));0!==e.length&&s.push({objectId:o,points:e})}return[{spatialReference:t.toJSON(),pointsInFeatures:s},n,this._cacheVersion]}_addToQueriesOrCachedResult(e,t,s,n){const o=h(e,t),i=this._alignmentsCache.get(o);null==i?s.push(t):n.push(new l(t,i))}_applyCacheAndResponse(e,{elevations:t,drapedObjectIds:s,failedObjectIds:n},o){for(const r of o)r.apply();let i=0;const a=this._alignmentsCache;for(const{objectId:r,points:c}of e.pointsInFeatures){if(n.has(r)){i+=c.length;continue}const e=!s.has(r);for(const s of c){const n=h(r,s),o=t[i++];s.z=o,e&&a.put(n,o,1)}}}}class l{constructor(e,t){this.point=e,this.z=t}apply(){this.point.z=this.z}}function h(e,{x:t,y:s,z:n,spatialReference:o}){return`${e}-${t}-${s}-${n??0}}-wkid:${o?.wkid}`}function d(){return[]}export{i as getSnappingCandidateElevationAligner};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";class t{filter(t,n){return n}notifyElevationSourceChange(){}}class n{filter(t,n){const{point:r,distance:c}=t,{z:i}=r;if(!(null!=i))return n;if(0===n.length)return n;const o=s(c),u=this._updateCandidatesTo3D(n,r,o).filter(e);return u.sort(a),u}_updateCandidatesTo3D(t,n,e){for(const r of t)switch(r.type){case\"edge\":c(r,n,e);continue;case\"vertex\":o(r,n,e);continue}return t}}function e(t){return t.distance<=1}function r(e=!1){return e?new n:new t}function c(t,n,{x:e,y:r,z:c}){const{start:o,end:s,target:a}=t;t.draped||i(a,n,o,s);const u=(n.x-a.x)/e,d=(n.y-a.y)/r,f=(n.z-a.z)/c;t.distance=Math.sqrt(u*u+d*d+f*f)}function i(t,n,e,r){const c=r.x-e.x,i=r.y-e.y,o=r.z-e.z,s=c*c+i*i+o*o,a=(n.x-e.x)*c+(n.y-e.y)*i+o*(n.z-e.z),u=Math.min(1,Math.max(0,a/s)),d=e.x+c*u,f=e.y+i*u,x=e.z+o*u;t.x=d,t.y=f,t.z=x}function o(t,n,{x:e,y:r,z:c}){const{target:i}=t,o=(n.x-i.x)/e,s=(n.y-i.y)/r,a=(n.z-i.z)/c,u=Math.sqrt(o*o+s*s+a*a);t.distance=u}function s(t){return\"number\"==typeof t?{x:t,y:t,z:t}:t}function a(t,n){return t.distance-n.distance}export{r as getSnappingCandidateElevationFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{LRUCache as e}from\"../../../../core/LRUCache.js\";import{throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{numericHash as o}from\"../../../../core/string.js\";function n(t=!1,e){return t?new i(e):new c}class c{async fetch(){return[]}notifySymbologyChange(){}}const r=1024;class i{constructor(t){this._getSymbologyCandidates=t,this._candidatesCache=new e(r),this._cacheVersion=0}async fetch(e,o){if(0===e.length)return[];const n=[],c=[],r=this._candidatesCache;for(const s of e){const e=a(s),o=r.get(e);if(o)for(const s of o)c.push(t(s));else n.push(s),r.put(e,[],1)}if(0===n.length)return c;const i=this._cacheVersion,{candidates:h,sourceCandidateIndices:d}=await this._getSymbologyCandidates(n,o);s(o);if(i!==this._cacheVersion)return this.fetch(e,o);const f=[],{length:g}=h;for(let s=0;s<g;++s){const e=h[s],o=a(n[d[s]]),c=r.get(o);c.push(e),r.put(o,c,c.length),f.push(t(e))}return c.concat(f)}notifySymbologyChange(){this._candidatesCache.clear(),this._cacheVersion++}}function a(t){switch(t.type){case\"vertex\":{const{objectId:e,target:s}=t,n=`${e}-vertex-${s.x}-${s.y}-${s.z??0}`;return o(n).toString()}case\"edge\":{const{objectId:e,start:s,end:n}=t,c=`${e}-edge-${s.x}-${s.y}-${s.z??0}-to-${n.x}-${n.y}-${n.z??0}`;return o(c).toString()}default:return\"\"}}export{n as getSymbologySnappingCandidatesFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{property as e}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(){super(...arguments),this.updating=!1,this._pending=[]}push(s,t){this._pending.push({promise:s,callback:t}),1===this._pending.length&&this._process()}_process(){if(!this._pending.length)return void(this.updating=!1);this.updating=!0;const s=this._pending[0];s.promise.then((t=>s.callback(t))).catch((()=>{})).then((()=>{this._pending.shift(),this._process()}))}};s([e()],r.prototype,\"updating\",void 0),r=s([i(\"esri.core.AsyncSequence\")],r);export{r as AsyncSequence};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{createTask as t,resultOrAbort as e}from\"../../../../../core/asyncUtils.js\";import{create as s,fromExtent as a,intersects as E}from\"../../../../../geometry/support/aaBoundingRect.js\";class r{constructor(t,e){this.data=t,this.resolution=e,this.state={type:u.CREATED},this.alive=!0}process(t){switch(this.state.type){case u.CREATED:return this.state=this._gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_COUNT:break;case u.FETCHED_COUNT:return this.state=this._gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_FEATURES:break;case u.FETCHED_FEATURES:this.state=this._goToDone(this.state,t);case u.DONE:}return null}get debugInfo(){return{data:this.data,featureCount:this._featureCount,state:this._stateToString}}get _featureCount(){switch(this.state.type){case u.CREATED:case u.FETCH_COUNT:return 0;case u.FETCHED_COUNT:return this.state.featureCount;case u.FETCH_FEATURES:return this.state.previous.featureCount;case u.FETCHED_FEATURES:return this.state.features.length;case u.DONE:return this.state.previous.features.length}}get _stateToString(){switch(this.state.type){case u.CREATED:return\"created\";case u.FETCH_COUNT:return\"fetch-count\";case u.FETCHED_COUNT:return\"fetched-count\";case u.FETCH_FEATURES:return\"fetch-features\";case u.FETCHED_FEATURES:return\"fetched-features\";case u.DONE:return\"done\"}}_gotoFetchCount(s,a){return{type:u.FETCH_COUNT,previous:s,task:t((async t=>{const s=await e(a.fetchCount(this,t));this.state.type===u.FETCH_COUNT&&(this.state=this._gotoFetchedCount(this.state,s.ok?s.value:1/0))}))}}_gotoFetchedCount(t,e){return{type:u.FETCHED_COUNT,featureCount:e,previous:t}}_gotoFetchFeatures(s,a){return{type:u.FETCH_FEATURES,previous:s,task:t((async t=>{const E=await e(a.fetchFeatures(this,s.featureCount,t));this.state.type===u.FETCH_FEATURES&&(this.state=this._gotoFetchedFeatures(this.state,E.ok?E.value:[]))}))}}_gotoFetchedFeatures(t,e){return{type:u.FETCHED_FEATURES,previous:t,features:e}}_goToDone(t,e){return e.finish(this,t.features),{type:u.DONE,previous:t}}reset(){const t=this.state;switch(this.state={type:u.CREATED},t.type){case u.CREATED:case u.FETCHED_COUNT:case u.FETCHED_FEATURES:case u.DONE:break;case u.FETCH_COUNT:case u.FETCH_FEATURES:t.task.abort()}}intersects(t){return null==t||!this.data.extent||(a(t,T),E(this.data.extent,T))}}var u;!function(t){t[t.CREATED=0]=\"CREATED\",t[t.FETCH_COUNT=1]=\"FETCH_COUNT\",t[t.FETCHED_COUNT=2]=\"FETCHED_COUNT\",t[t.FETCH_FEATURES=3]=\"FETCH_FEATURES\",t[t.FETCHED_FEATURES=4]=\"FETCHED_FEATURES\",t[t.DONE=5]=\"DONE\"}(u||(u={}));const T=s();export{r as PendingFeatureTile,u as StateType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{equals as i}from\"../../../../../core/arrayUtils.js\";import{AsyncSequence as s}from\"../../../../../core/AsyncSequence.js\";import{createTask as r}from\"../../../../../core/asyncUtils.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import n from\"../../../../../core/Logger.js\";import{throwIfAbortError as l}from\"../../../../../core/promiseUtils.js\";import{sync as a,when as u}from\"../../../../../core/reactiveUtils.js\";import{union as d,equals as c,isSubsetOf as h,difference as p}from\"../../../../../core/SetUtils.js\";import{property as f}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import{subclass as y}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as g}from\"../../../../../core/support/UpdatingHandles.js\";import _ from\"../../../../../geometry/Extent.js\";import{toExtent as m}from\"../../../../../geometry/support/aaBoundingRect.js\";import{unquantizeOptimizedFeatureSet as F,convertFromFeatureSet as b}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{isHostedAgolService as T}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{OptimizedFeatureSetParserContext as P}from\"../../../../../rest/query/operations/pbfOptimizedFeatureSet.js\";import{executeQueryForExtent as I,executeQueryPBF as v,executeQuery as O}from\"../../../../../rest/query/operations/query.js\";import S from\"../../../../../rest/support/Query.js\";import{StateType as C,PendingFeatureTile as E}from\"./PendingFeatureTile.js\";let x=class extends t{get _minimumVerticesPerFeature(){switch(this.store?.featureStore.geometryType){case\"esriGeometryPoint\":case\"esriGeometryMultipoint\":return 1;case\"esriGeometryPolygon\":return 4;case\"esriGeometryPolyline\":return 2}}get _mandatoryOutFields(){const e=new Set;return this.objectIdField&&e.add(this.objectIdField),this.globalIdField&&e.add(this.globalIdField),e}set outFields(e){const t=this._get(\"outFields\"),i=d(e,this._mandatoryOutFields);c(i,t)||(this._set(\"outFields\",i),h(i,t)||this.refresh())}get outFields(){return this._get(\"outFields\")??this._mandatoryOutFields}set filter(e){const t=this._get(\"filter\"),i=this._filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set(\"filter\",i)}set customParameters(e){const t=this._get(\"customParameters\");JSON.stringify(t)!==JSON.stringify(e)&&this._set(\"customParameters\",e)}get _configuration(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const t=this._get(\"tileInfo\");t!==e&&(null!=e&&null!=t&&JSON.stringify(e)===JSON.stringify(t)||(this._set(\"tileInfo\",e),this.store.tileInfo=e))}set tileSize(e){this._get(\"tileSize\")!==e&&this._set(\"tileSize\",e)}get updating(){return this.updatingExcludingEdits||this._pendingEdits.updating}get updatingExcludingEdits(){return this._updatingHandles.updating}get hasZ(){return this.store.featureStore.hasZ}constructor(e){super(e),this.suspended=!0,this.tilesOfInterest=[],this.availability=0,this._pendingTiles=new Map,this._updatingHandles=new g,this._pendingEdits=new s,this._pendingEditsAbortController=new AbortController}initialize(){this._initializeFetchExtent(),this._updatingHandles.add((()=>this._configuration),(()=>this.refresh())),this._updatingHandles.add((()=>this.tilesOfInterest),((e,t)=>{i(e,t,(({id:e},{id:t})=>e===t))||this._process()}),a),this.addHandles(u((()=>!this.suspended),(()=>this._process())))}destroy(){this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this._pendingEditsAbortController.abort(),this._pendingEditsAbortController=null,this._updatingHandles.destroy()}refresh(){this.store.refresh(),this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._process()}applyEdits(e){this._pendingEdits.push(e,(async e=>{if(0===e.addedFeatures.length&&0===e.updatedFeatures.length&&0===e.deletedFeatures.length)return;for(const[,i]of this._pendingTiles)i.reset();const t={...e,deletedFeatures:e.deletedFeatures.map((({objectId:e,globalId:t})=>e&&-1!==e?e:this._lookupObjectIdByGlobalId(t)))};await this._updatingHandles.addPromise(this.store.processEdits(t,((e,t)=>this._queryFeaturesById(e,t)),this._pendingEditsAbortController.signal)),this._processPendingTiles()}))}_initializeFetchExtent(){if(!this.capabilities.query.supportsExtent||!T(this.url))return;const e=r((async e=>{try{const t=await I(this.url,new S({where:\"1=1\",outSpatialReference:this.spatialReference,cacheHint:this.capabilities.query.supportsCacheHint??void 0}),{query:this._configuration.customParameters,signal:e});this.store.extent=_.fromJSON(t.data?.extent)}catch(t){l(t),n.getLogger(this).warn(\"Failed to fetch data extent\",t)}}));this._updatingHandles.addPromise(e.promise.then((()=>this._process()))),this.addHandles(o((()=>e.abort())))}get debugInfo(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this._pendingTiles.values()).map((e=>e.debugInfo)),storedTiles:this.store.debugInfo}}_process(){this._markTilesNotAlive(),this._createPendingTiles(),this._deletePendingTiles(),this._processPendingTiles()}_markTilesNotAlive(){for(const[,e]of this._pendingTiles)e.alive=!1}_createPendingTiles(){if(this.suspended)return;const e=this._collectMissingTilesInfo();if(this._setAvailability(null==e?1:e.coveredArea/e.fullArea),null!=e)for(const{data:t,resolution:i}of e.missingTiles){const e=this._pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this._createPendingTile(t,i)}}_collectMissingTilesInfo(){let e=null;for(let t=this.tilesOfInterest.length-1;t>=0;t--){const i=this.tilesOfInterest[t],s=this.store.process(i,((e,t)=>this._verifyTileComplexity(e,t)),this.outFields);null==e?e=s:e.prepend(s)}return e}_deletePendingTiles(){for(const[,e]of this._pendingTiles)e.alive||this._deletePendingTile(e)}_processPendingTiles(){const e={fetchCount:(e,t)=>this._fetchCount(e,t),fetchFeatures:(e,t,i)=>this._fetchFeatures(e,t,i),finish:(e,t)=>this._finishPendingTile(e,t),resume:()=>this._processPendingTiles()};if(this._ensureFetchAllCounts(e))for(const[,t]of this._pendingTiles)this._verifyTileComplexity(this.store.getFeatureCount(t.data),t.resolution)&&this._updatingHandles.addPromise(t.process(e))}_verifyTileComplexity(e,t){return this._verifyVertexComplexity(e)&&this._verifyFeatureDensity(e,t)}_verifyVertexComplexity(e){return e*this._minimumVerticesPerFeature<q}_verifyFeatureDensity(e,t){if(null==this.tileInfo)return!1;const i=this.tileSize*t;return e*(A/(i*i))<H}_ensureFetchAllCounts(e){let t=!0;for(const[,i]of this._pendingTiles)i.state.type<C.FETCHED_COUNT&&this._updatingHandles.addPromise(i.process(e)),i.state.type<=C.FETCH_COUNT&&(t=!1);return t}_finishPendingTile(e,t){this.store.add(e.data,t),this._deletePendingTile(e),this._updateAvailability()}_updateAvailability(){const e=this._collectMissingTilesInfo();this._setAvailability(null==e?1:e.coveredArea/e.fullArea)}_setAvailability(e){this._set(\"availability\",e)}_createPendingTile(e,t){const i=new E(e,t);return this._pendingTiles.set(e.id,i),i}_deletePendingTile(e){e.reset(),this._pendingTiles.delete(e.data.id)}async _fetchCount(e,t){return this.store.fetchCount(e.data,this.url,this._createCountQuery(e),{query:this.customParameters,timeout:w,signal:t})}async _fetchFeatures(e,t,i){let s=0;const r=[];let o=0,n=t;for(;;){const l=this._createFeaturesQuery(e),a=this._setPagingParameters(l,s,n),{features:u,exceededTransferLimit:d}=await this._queryFeatures(l,i);a&&(s+=l.num),o+=u.length;for(const e of u)r.push(e);if(n=t-o,!a||!d||n<=0)return r}}_filterProperties(e){return null==e?{where:\"1=1\",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||\"1=1\",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}_lookupObjectIdByGlobalId(e){const t=this.globalIdField,i=this.objectIdField;if(null==t)throw new Error(\"Expected globalIdField to be defined\");let s=null;if(this.store.featureStore.forEach((r=>{e===r.attributes[t]&&(s=r.objectId??r.attributes[i])})),null==s)throw new Error(`Expected to find a feature with globalId ${e}`);return s}_queryFeaturesById(e,t){const i=this._createFeaturesQuery();return i.objectIds=e,this._queryFeatures(i,t)}_queryFeatures(e,t){return this.capabilities.query.supportsFormatPBF?this._queryFeaturesPBF(e,t):this._queryFeaturesJSON(e,t)}async _queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await v(this.url,e,new P({sourceSpatialReference:i}),{query:this._configuration.customParameters,timeout:w,signal:t});return F(s)}async _queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await O(this.url,e,i,{query:this._configuration.customParameters,timeout:w,signal:t});return b(s,this.objectIdField)}_createCountQuery(e){const t=this._createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_createFeaturesQuery(e=null){const t=this._createBaseQuery(e),i=null!=e?.data?this.store.getAttributesForTile(e?.data?.id):null,s=d(p(this.outFields,i??new Set),this._mandatoryOutFields);return t.outFields=Array.from(s),t.returnGeometry=!0,null!=e&&(this.capabilities.query.supportsResultType?t.resultType=\"tile\":this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0)),t}_createBaseQuery(e){const t=new S({returnZ:this.hasZ,returnM:!1,geometry:null!=this.tileInfo&&null!=e?m(e.data.extent,this.tileInfo.spatialReference):void 0}),i=this._configuration.filter;return null!=i&&(t.where=i.where,t.gdbVersion=i.gdbVersion,t.timeExtent=i.timeExtent),t.outSpatialReference=this.spatialReference,t}_setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return!1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:o,maxRecordCount:n,supportsResultType:l}=this.capabilities.query,a=s?S.MAX_MAX_RECORD_COUNT_FACTOR:1,u=a*((l||r)&&o?o:n||j);return e.start=t,s?(e.maxRecordCountFactor=Math.min(a,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};e([f({constructOnly:!0})],x.prototype,\"url\",void 0),e([f({constructOnly:!0})],x.prototype,\"objectIdField\",void 0),e([f({constructOnly:!0})],x.prototype,\"globalIdField\",void 0),e([f({constructOnly:!0})],x.prototype,\"capabilities\",void 0),e([f({constructOnly:!0})],x.prototype,\"sourceSpatialReference\",void 0),e([f({constructOnly:!0})],x.prototype,\"spatialReference\",void 0),e([f({constructOnly:!0})],x.prototype,\"store\",void 0),e([f({readOnly:!0})],x.prototype,\"_minimumVerticesPerFeature\",null),e([f()],x.prototype,\"_mandatoryOutFields\",null),e([f()],x.prototype,\"outFields\",null),e([f()],x.prototype,\"suspended\",void 0),e([f()],x.prototype,\"filter\",null),e([f()],x.prototype,\"customParameters\",null),e([f({readOnly:!0})],x.prototype,\"_configuration\",null),e([f()],x.prototype,\"tileInfo\",null),e([f()],x.prototype,\"tileSize\",null),e([f()],x.prototype,\"tilesOfInterest\",void 0),e([f({readOnly:!0})],x.prototype,\"updating\",null),e([f({readOnly:!0})],x.prototype,\"updatingExcludingEdits\",null),e([f({readOnly:!0})],x.prototype,\"availability\",void 0),e([f()],x.prototype,\"hasZ\",null),x=e([y(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\")],x);const j=2e3,w=6e5,q=1e6,A=25,H=1;export{x as FeatureServiceTiledFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._store=new Map,this._byteSize=0}set(t,e){this.delete(t),this._store.set(t,e),this._byteSize+=e.byteSize}delete(t){const e=this._store.get(t);return!!this._store.delete(t)&&(null!=e&&(this._byteSize-=e.byteSize),!0)}get(t){return this._used(t),this._store.get(t)}has(t){return this._used(t),this._store.has(t)}clear(){this._store.clear()}applyByteSizeLimit(t,e){for(const[s,r]of this._store){if(this._byteSize<=t)break;this.delete(s),e(r)}}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}_used(t){const e=this._store.get(t);e&&(this._store.delete(t),this._store.set(t,e))}}export{t as FeatureServiceTileCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{estimateAttributesObjectSize as s,estimateFixedArraySize as i}from\"../../../../../core/byteSizeEstimations.js\";import{ByteSizeUnit as r}from\"../../../../../core/ByteSizeUnit.js\";import{intersection as o,isSubsetOf as n}from\"../../../../../core/SetUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as u}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as a,intersects as c,fromExtent as h,area as d}from\"../../../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as f}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{BoundsStore as _}from\"../../../../../layers/graphics/data/BoundsStore.js\";import p from\"../../../../../layers/support/TileInfo.js\";import{TileKey as m}from\"../../../../../layers/support/TileKey.js\";import{executeQueryForCount as g}from\"../../../../../rest/query/operations/query.js\";import{FeatureServiceTileCache as y}from\"./FeatureServiceTileCache.js\";let v=class extends t{constructor(e){super(e),this.tileInfo=null,this.extent=null,this.maximumByteSize=10*r.MEGABYTES,this._tileBounds=new _,this._tiles=new y,this._refCounts=new Map,this._tileFeatureCounts=new Map,this._tmpBoundingRect=a()}add(e,t){for(const r of t)this._referenceFeature(r.objectId);const s=this.featureStore.upsertMany(t),i=s.map((e=>new Set(Object.keys(e.attributes)))).reduce(((e,t)=>o(e,t)),new Set(Object.keys(s[0]?.attributes??[])));this._addTileStorage(e,new Set(s.map((e=>e.objectId))),C(s),i),this._tiles.applyByteSizeLimit(this.maximumByteSize,(e=>this._removeTileStorage(e)))}getAttributesForTile(e){return e?this._tiles.get(e)?.attributeKeys:null}destroy(){this.clear(),this._tileFeatureCounts.clear()}clear(){this.featureStore.clear(),this._tileBounds.clear(),this._tiles.clear(),this._refCounts.clear()}refresh(){this.clear(),this._tileFeatureCounts.clear()}processEdits(e,t,s){return this._processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)),this._processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures),t,s)}_addTileStorage(e,t,s,i){const r=e.id;this._tiles.set(r,new T(e,t,s,i)),this._tileBounds.set(r,e.extent),this._tileFeatureCounts.set(r,t.size)}_remove({id:e}){const t=this._tiles.get(e);t&&this._removeTileStorage(t)}_removeTileStorage(e){const t=[];for(const i of e.objectIds)this._unreferenceFeature(i)===A.REMOVED&&t.push(i);this.featureStore.removeManyById(t);const s=e.data.id;this._tiles.delete(s),this._tileBounds.delete(s)}_processEditsDelete(e){this.featureStore.removeManyById(e);for(const[,t]of this._tiles){for(const s of e)t.objectIds.delete(s);this._tileFeatureCounts.set(t.data.id,t.objectIds.size)}for(const t of e)this._refCounts.delete(t)}async _processEditsRefetch(e,t,s){const i=(await t(e,s)).features,{hasZ:r,hasM:o}=this.featureStore;for(const n of i){const e=f(this._tmpBoundingRect,n.geometry,r,o);null!=e&&this._tileBounds.forEachInBounds(e,(e=>{const t=this._tiles.get(e);this.featureStore.add(n);const s=n.objectId;t.objectIds.has(s)||(t.objectIds.add(s),this._referenceFeature(s),this._tileFeatureCounts.set(t.data.id,t.objectIds.size))}))}}process(e,t=(()=>!0),s){if(null==this.tileInfo||!e.extent||null!=this.extent&&!c(h(this.extent,this._tmpBoundingRect),e.extent))return new F(e);const i=this.getAttributesForTile(e.id);if(n(s,i))return new F(e);const r=this._createTileTree(e,this.tileInfo);return this._simplify(r,t,null,0,1),this._collectMissingTiles(e,r,this.tileInfo,s)}get debugInfo(){return Array.from(this._tiles.values()).map((({data:e})=>({data:e,featureCount:this._tileFeatureCounts.get(e.id)||0})))}getFeatureCount(e){return this._tileFeatureCounts.get(e.id)??0}async fetchCount(e,t,s,i){const r=this._tileFeatureCounts.get(e.id);if(null!=r)return r;const o=await g(t,s,i);return this._tileFeatureCounts.set(e.id,o.data.count),o.data.count}_createTileTree(e,t){const s=new w(e.level,e.row,e.col);return t.updateTileInfo(s,p.ExtrapolateOptions.POWER_OF_TWO),this._tileBounds.forEachInBounds(e.extent,(i=>{const r=this._tiles.get(i)?.data;r&&this._tilesAreRelated(e,r)&&this._populateChildren(s,r,t,this._tileFeatureCounts.get(r.id)||0)})),s}_tilesAreRelated(e,t){if(!e||!t)return!1;if(e.level===t.level)return e.row===t.row&&e.col===t.col;const s=e.level<t.level,i=s?e:t,r=s?t:e,o=1<<r.level-i.level;return Math.floor(r.row/o)===i.row&&Math.floor(r.col/o)===i.col}_populateChildren(e,t,s,i){const r=t.level-e.level-1;if(r<0)return void(e.isLeaf=!0);const o=t.row>>r,n=t.col>>r,l=e.row<<1,u=n-(e.col<<1)+(o-l<<1),a=e.children[u];if(null!=a)this._populateChildren(a,t,s,i);else{const r=new w(e.level+1,o,n);s.updateTileInfo(r,p.ExtrapolateOptions.POWER_OF_TWO),e.children[u]=r,this._populateChildren(r,t,s,i)}}_simplify(e,t,s,i,r){const o=r*r;if(e.isLeaf)return t(this.getFeatureCount(e),r)?0:(this._remove(e),null!=s&&(s.children[i]=null),o);const n=r/2,l=n*n;let u=0;for(let a=0;a<e.children.length;a++){const s=e.children[a];u+=null!=s?this._simplify(s,t,e,a,n):l}return 0===u?this._mergeChildren(e):1-u/o<b&&(this._purge(e),null!=s&&(s.children[i]=null),u=o),u}_mergeChildren(e){const t=new Set;let s,i=0;this._forEachLeaf(e,(e=>{const r=this._tiles.get(e.id);if(r){s=s?o(s,r.attributeKeys):new Set(r.attributeKeys),i+=r.byteSize;for(const e of r.objectIds)t.has(e)||(t.add(e),this._referenceFeature(e));this._remove(e)}})),this._addTileStorage(e,t,i,s??new Set),e.isLeaf=!0,e.children[0]=e.children[1]=e.children[2]=e.children[3]=null,this._tileFeatureCounts.set(e.id,t.size)}_forEachLeaf(e,t){for(const s of e.children)null!=s&&(s.isLeaf?t(s):this._forEachLeaf(s,t))}_purge(e){if(null!=e)if(e.isLeaf)this._remove(e);else for(let t=0;t<e.children.length;t++){const s=e.children[t];this._purge(s),e.children[t]=null}}_collectMissingTiles(e,t,s,i){const r=new j(s,e,this.extent);return this._collectMissingTilesRecurse(t,r,1,i),r.info}_collectMissingTilesRecurse(e,t,s,i){const r=this.getAttributesForTile(e.id),o=r&&!n(i,r);if(o&&t.addMissing(e.level,e.row,e.col,s),e.isLeaf)return;if(!e.hasChildren)return void(o||t.addMissing(e.level,e.row,e.col,s));const l=s/2;for(let n=0;n<e.children.length;n++){const s=e.children[n];null==s?t.addMissing(e.level+1,(e.row<<1)+((2&n)>>1),(e.col<<1)+(1&n),l):this._collectMissingTilesRecurse(s,t,l,i)}}_referenceFeature(e){const t=(this._refCounts.get(e)||0)+1;return this._refCounts.set(e,t),1===t?A.ADDED:A.UNCHANGED}_unreferenceFeature(e){const t=(this._refCounts.get(e)||0)-1;return 0===t?(this._refCounts.delete(e),A.REMOVED):(t>0&&this._refCounts.set(e,t),A.UNCHANGED)}get test(){return{tiles:Array.from(this._tiles.values()).map((e=>`${e.data.id}:[${Array.from(e.objectIds)}]`)),featureReferences:Array.from(this._refCounts.keys()).map((e=>`${e}:${this._refCounts.get(e)}`))}}};function C(e){return e.reduce(((e,t)=>e+S(t)),0)}function S(e){return 32+E(e.geometry)+s(e.attributes)}function E(e){if(null==e)return 0;const t=i(e.lengths,4);return 32+i(e.coords,8)+t}e([l({constructOnly:!0})],v.prototype,\"featureStore\",void 0),e([l()],v.prototype,\"tileInfo\",void 0),e([l()],v.prototype,\"extent\",void 0),e([l()],v.prototype,\"maximumByteSize\",void 0),v=e([u(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore\")],v);class T{constructor(e,t,s,i){this.data=e,this.objectIds=t,this.byteSize=s,this.attributeKeys=i}}class w{constructor(e,t,s){this.level=e,this.row=t,this.col=s,this.isLeaf=!1,this.extent=null,this.children=[null,null,null,null]}get hasChildren(){return!this.isLeaf&&(null!=this.children[0]||null!=this.children[1]||null!=this.children[2]||null!=this.children[3])}}class F{constructor(e,t=[]){this.missingTiles=t,this.fullArea=0,this.coveredArea=0,this.fullArea=d(e.extent),this.coveredArea=this.fullArea}prepend(e){this.missingTiles=e.missingTiles.concat(this.missingTiles),this.coveredArea+=e.coveredArea,this.fullArea+=e.fullArea}}class j{constructor(e,t,s){this._tileInfo=e,this._extent=null,this.info=new F(t),null!=s&&(this._extent=h(s))}addMissing(e,t,s,i){const r=new m(null,e,t,s);this._tileInfo.updateTileInfo(r,p.ExtrapolateOptions.POWER_OF_TWO),null==r.extent||null!=this._extent&&!c(this._extent,r.extent)||(this.info.missingTiles.push({data:r,resolution:i}),this.info.coveredArea-=d(r.extent))}}const b=.18751;var A;!function(e){e[e.ADDED=0]=\"ADDED\",e[e.REMOVED=1]=\"REMOVED\",e[e.UNCHANGED=2]=\"UNCHANGED\"}(A||(A={}));export{v as FeatureServiceTileStore,F as ProcessResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../core/Evented.js\";import{createResolver as i,throwIfAborted as s}from\"../../../../../core/promiseUtils.js\";import{watch as r,whenOnce as n,sync as a}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as d}from\"../../../../../core/support/UpdatingHandles.js\";import u from\"../../../../../geometry/SpatialReference.js\";import p from\"../../../../../layers/graphics/data/FeatureStore.js\";import{QueryEngine as c}from\"../../../../../layers/graphics/data/QueryEngine.js\";import h from\"../../../../../layers/support/TileInfo.js\";import g from\"../../../../../rest/support/Query.js\";import f from\"../../../../../symbols/support/ElevationInfo.js\";import{getSnappingCandidateElevationAligner as m}from\"../snappingCandidateElevationAlignment.js\";import{getSnappingCandidateElevationFilter as y}from\"../snappingCandidateElevationFilter.js\";import{getSymbologySnappingCandidatesFetcher as _}from\"../symbologySnappingCandidates.js\";import{FeatureServiceTiledFetcher as S}from\"./FeatureServiceTiledFetcher.js\";import{FeatureServiceTileStore as F}from\"./FeatureServiceTileStore.js\";import{fromJSON as v}from\"../../../../../geometry/support/jsonUtils.js\";let w=class extends t.EventedAccessor{constructor(){super(...arguments),this._isInitializing=!0,this.remoteClient=null,this._whenSetup=i(),this._elevationAligner=m(),this._elevationFilter=y(),this._symbologyCandidatesFetcher=_(),this._updatingHandles=new d,this._editsUpdatingHandles=new d,this._pendingApplyEdits=new Map,this._alignPointsInFeatures=async(e,t)=>{const i={query:e},r=await this.remoteClient.invoke(\"alignElevation\",i,{signal:t});return s(t),r},this._getSymbologyCandidates=async(e,t)=>{const i={candidates:e,spatialReference:this._spatialReference.toJSON()},r=await this.remoteClient.invoke(\"getSymbologyCandidates\",i,{signal:t});return s(t),r}}get updating(){return this.updatingExcludingEdits||this._editsUpdatingHandles.updating||this._featureFetcher.updating}get updatingExcludingEdits(){return this._featureFetcher.updatingExcludingEdits||this._isInitializing||this._updatingHandles.updating}destroy(){this._featureFetcher?.destroy(),this._queryEngine?.destroy(),this._featureStore?.clear()}async setup(e){if(this.destroyed)return{result:{}};const{geometryType:t,objectIdField:i,timeInfo:s,fieldsIndex:n}=e.serviceInfo,{hasZ:o}=e,l=u.fromJSON(e.spatialReference);this._spatialReference=l,this._featureStore=new p({...e.serviceInfo,hasZ:o,hasM:!1}),this._queryEngine=new c({spatialReference:e.spatialReference,featureStore:this._featureStore,geometryType:t,fieldsIndex:n,hasZ:o,hasM:!1,objectIdField:i,timeInfo:s}),this._featureFetcher=new S({store:new F({featureStore:this._featureStore}),url:e.serviceInfo.url,objectIdField:e.serviceInfo.objectIdField,globalIdField:e.serviceInfo.globalIdField,capabilities:e.serviceInfo.capabilities,spatialReference:l,sourceSpatialReference:u.fromJSON(e.serviceInfo.spatialReference),customParameters:e.configuration.customParameters});const d=\"3d\"===e.configuration.viewType;return this._elevationAligner=m(d,{elevationInfo:null!=e.elevationInfo?f.fromJSON(e.elevationInfo):null,alignPointsInFeatures:this._alignPointsInFeatures}),this._elevationFilter=y(d),this.addHandles([r((()=>this._featureFetcher.availability),(e=>this.emit(\"notify-availability\",{availability:e})),a),r((()=>this.updating),(()=>this._notifyUpdating()))]),this._whenSetup.resolve(),this._isInitializing=!1,this.configure(e.configuration)}async configure(e){return await this._updatingHandles.addPromise(this._whenSetup.promise),this._updateFeatureFetcherConfiguration(e),j}async setSuspended(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.suspended=e,j}async updateOutFields(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.outFields=new Set(e??[]),j}async fetchCandidates(e,t){await this._whenSetup.promise,s(t);const i=b(e),r=t?.signal,n=await this._queryEngine.executeQueryForSnapping(i,r);s(r);const a=await this._elevationAligner.alignCandidates(n.candidates,u.fromJSON(e.point.spatialReference)??u.WGS84,r);s(r);const o=await this._symbologyCandidatesFetcher.fetch(a,r);s(r);const l=0===o.length?a:a.concat(o);return{result:{candidates:this._elevationFilter.filter(i,l)}}}async updateTiles(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.tileSize=e.tileSize,this._featureFetcher.tilesOfInterest=e.tiles,this._featureFetcher.tileInfo=null!=e.tileInfo?h.fromJSON(e.tileInfo):null,j}async refresh(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.refresh(),j}async whenNotUpdating(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),await n((()=>!this.updatingExcludingEdits),t),s(t),j}async getDebugInfo(e,t){return s(t),{result:this._featureFetcher.debugInfo}}async beginApplyEdits(e,t){this._updatingHandles.addPromise(this._whenSetup.promise),s(t);const r=i();return this._pendingApplyEdits.set(e.id,r),this._featureFetcher.applyEdits(r.promise),this._editsUpdatingHandles.addPromise(r.promise),j}async endApplyEdits(e,t){const i=this._pendingApplyEdits.get(e.id);return i&&i.resolve(e.edits),s(t),j}async notifyElevationSourceChange(e,t){return this._elevationAligner.notifyElevationSourceChange(),j}async notifySymbologyChange(e,t){return this._symbologyCandidatesFetcher.notifySymbologyChange(),j}async setSymbologySnappingSupported(e){return this._symbologyCandidatesFetcher=_(e,this._getSymbologyCandidates),j}_updateFeatureFetcherConfiguration(e){this._featureFetcher.filter=null!=e.filter?g.fromJSON(e.filter):null,this._featureFetcher.customParameters=e.customParameters}_notifyUpdating(){this.emit(\"notify-updating\",{updating:this.updating})}};e([o({readOnly:!0})],w.prototype,\"updating\",null),e([o({readOnly:!0})],w.prototype,\"updatingExcludingEdits\",null),e([o()],w.prototype,\"_isInitializing\",void 0),w=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker\")],w);const I=w;function b(e){if(!e.filter)return{...e,query:{where:\"1=1\"}};const{distance:t,units:i,spatialRel:s,where:r,timeExtent:n,objectIds:a}=e.filter,o={geometry:e.filter.geometry?v(e.filter.geometry):void 0,distance:t,units:i,spatialRel:s,timeExtent:n,objectIds:a,where:r??\"1=1\"};return{...e,query:o}}const j={result:{}};export{I as default};\n"],"mappings":"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"}