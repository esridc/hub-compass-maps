{"version":3,"names":["i","u","p","l","m","e","isValid","type","errorMessage","c","t","y","layerJSON","async","f","r","extent","fullExtent","a","d","title","s","o","METADATA","x","layer","itemType","validateLayer","createJSONContext","createItemData","errorNamePrefix","supplementalUnsupportedErrors","setItemProperties","saveResources","n","resourceReferences","v","newItem"],"sources":["./node_modules/@arcgis/core/layers/save/mediaLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as r}from\"./utils.js\";import{createForItemWrite as t}from\"../../portal/support/jsonContext.js\";import{getWGS84ExtentForItem as a,removeTypeKeyword as s,typeKeyword as o}from\"../../portal/support/portalItemUtils.js\";import{saveResources as n}from\"../../webdoc/support/resourceUtils.js\";const i=\"Media Layer\",u=\"media-layer-save\",p=\"media-layer-save-as\",l=[\"media-layer:unsupported-source\"];function m(e){return{isValid:\"media\"===e.type,errorMessage:\"Layer.type should be 'media'\"}}function c(e){return t(e,\"portal-item\",!0)}function y(e){return e.layerJSON}async function f(e,r){r.extent=e.fullExtent?await a(e.fullExtent):null}async function d(e,r){r.title||=e.title,await f(e,r),s(r,o.METADATA)}async function x(r,t){return e({layer:r,itemType:i,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:u,supplementalUnsupportedErrors:l,setItemProperties:f,saveResources:(e,t)=>n(r.resourceReferences,t)},t)}async function v(e,t,a){return r({layer:e,itemType:i,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:p,supplementalUnsupportedErrors:l,newItem:t,setItemProperties:d,saveResources:(r,t)=>n(e.resourceReferences,t)},a)}export{x as save,v as saveAs};\n"],"mappings":"gQAIqT,MAAMA,EAAE,cAAcC,EAAE,mBAAmBC,EAAE,sBAAsBC,EAAE,CAAC,kCAAkC,SAASC,EAAEC,GAAG,MAAM,CAACC,QAAQ,UAAUD,EAAEE,KAAKC,aAAa,+BAA+B,CAAC,SAASC,EAAEJ,GAAG,OAAOK,EAAEL,EAAE,eAAe,EAAE,CAAC,SAASM,EAAEN,GAAG,OAAOA,EAAEO,SAAS,CAACC,eAAeC,EAAET,EAAEU,GAAGA,EAAEC,OAAOX,EAAEY,iBAAiBC,EAAEb,EAAEY,YAAY,IAAI,CAACJ,eAAeM,EAAEd,EAAEU,GAAGA,EAAEK,QAAQf,EAAEe,YAAYN,EAAET,EAAEU,GAAGM,EAAEN,EAAEO,EAAEC,SAAS,CAACV,eAAeW,EAAET,EAAEL,GAAG,OAAOL,EAAE,CAACoB,MAAMV,EAAEW,SAAS1B,EAAE2B,cAAcvB,EAAEwB,kBAAkBvB,GAAGI,EAAEJ,GAAGwB,eAAelB,EAAEmB,gBAAgB7B,EAAE8B,8BAA8B5B,EAAE6B,kBAAkBlB,EAAEmB,cAAc,CAAC5B,EAAEK,IAAIwB,EAAEnB,EAAEoB,mBAAmBzB,IAAIA,EAAE,CAACG,eAAeuB,EAAE/B,EAAEK,EAAEQ,GAAG,OAAOH,EAAE,CAACU,MAAMpB,EAAEqB,SAAS1B,EAAE2B,cAAcvB,EAAEwB,kBAAkBvB,GAAGI,EAAEJ,GAAGwB,eAAelB,EAAEmB,gBAAgB5B,EAAE6B,8BAA8B5B,EAAEkC,QAAQ3B,EAAEsB,kBAAkBb,EAAEc,cAAc,CAAClB,EAAEL,IAAIwB,EAAE7B,EAAE8B,mBAAmBzB,IAAIQ,EAAE,Q"}