{"version":3,"names":["async","t","a","loadContext","r","s","i","fetchServiceMetadata","e","c","n","o","serviceJSON","currentVersion","l","y","layersJSON","layers","tables","type","filter","forEach"],"sources":["./node_modules/@arcgis/core/layers/support/fetchService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{fetchArcGISServiceJSON as e}from\"../../support/requestPresets.js\";async function t(t,a){const{loadContext:r,...s}=a||{},i=r?await r.fetchServiceMetadata(t,s):await e(t,s);c(i),n(i);const o={serviceJSON:i};if((i.currentVersion??0)<10.5)return o;const l=`${t}/layers`,y=r?await r.fetchServiceMetadata(l,s):await e(l,s);return c(y),n(y),o.layersJSON={layers:y.layers,tables:y.tables},o}function a(e){return\"Feature Layer\"===e.type||\"Oriented Imagery Layer\"===e.type}function r(e){return\"Table\"===e.type}function n(e){e.layers=e.layers?.filter(a),e.tables=e.tables?.filter(r)}function s(e){e.type||=\"Feature Layer\"}function i(e){e.type||=\"Table\"}function c(e){e.layers?.forEach(s),e.tables?.forEach(i)}export{t as fetchFeatureService};\n"],"mappings":"+BAIyEA,eAAeC,EAAEA,EAAEC,GAAG,MAAMC,YAAYC,KAAKC,GAAGH,GAAG,GAAGI,EAAEF,QAAQA,EAAEG,qBAAqBN,EAAEI,SAASG,EAAEP,EAAEI,GAAGI,EAAEH,GAAGI,EAAEJ,GAAG,MAAMK,EAAE,CAACC,YAAYN,GAAG,IAAIA,EAAEO,gBAAgB,GAAG,KAAK,OAAOF,EAAE,MAAMG,EAAE,GAAGb,WAAWc,EAAEX,QAAQA,EAAEG,qBAAqBO,EAAET,SAASG,EAAEM,EAAET,GAAG,OAAOI,EAAEM,GAAGL,EAAEK,GAAGJ,EAAEK,WAAW,CAACC,OAAOF,EAAEE,OAAOC,OAAOH,EAAEG,QAAQP,CAAC,CAAC,SAAST,EAAEM,GAAG,MAAM,kBAAkBA,EAAEW,MAAM,2BAA2BX,EAAEW,IAAI,CAAC,SAASf,EAAEI,GAAG,MAAM,UAAUA,EAAEW,IAAI,CAAC,SAAST,EAAEF,GAAGA,EAAES,OAAOT,EAAES,QAAQG,OAAOlB,GAAGM,EAAEU,OAAOV,EAAEU,QAAQE,OAAOhB,EAAE,CAAC,SAASC,EAAEG,GAAGA,EAAEW,OAAO,eAAe,CAAC,SAASb,EAAEE,GAAGA,EAAEW,OAAO,OAAO,CAAC,SAASV,EAAED,GAAGA,EAAES,QAAQI,QAAQhB,GAAGG,EAAEU,QAAQG,QAAQf,EAAE,Q"}