{"version":3,"names":["s","t","o","toJSON","attachmentTypes","join","keywords","globalIds","objectIds","size","a","n","parentObjectId","parentGlobalId","c","attachmentInfos","m","id","p","e","path","i","r","fromJSON","set","url","push","query","f","then","data","attachmentGroups","async","Promise","all","map"],"sources":["./node_modules/@arcgis/core/rest/query/operations/queryAttachments.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as n}from\"../../operations/urlUtils.js\";import r from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(o,n){const s={};for(const a of n){const{parentObjectId:n,parentGlobalId:c,attachmentInfos:m}=a;for(const a of m){const{id:m}=a,p=e(t(`${o.path}/${n}/attachments/${m}`)),i=r.fromJSON(a);i.set({url:p,parentObjectId:n,parentGlobalId:c}),s[n]?s[n].push(i):s[n]=[i]}}return s}function c(t,e,r){let a={query:n({...t.query,f:\"json\",...s(e)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function m(t,e,n){const{objectIds:r}=e,s=[];for(const a of r)s.push(o(t.path+\"/\"+a+\"/attachments\",n));return Promise.all(s).then((t=>r.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,m as fetchAttachments,a as processAttachmentQueryResult};\n"],"mappings":"4QAIwP,SAASA,EAAEC,GAAG,MAAMC,EAAED,EAAEE,SAAS,OAAOD,EAAEE,kBAAkBF,EAAEE,gBAAgBF,EAAEE,gBAAgBC,KAAK,MAAMH,EAAEI,WAAWJ,EAAEI,SAASJ,EAAEI,SAASD,KAAK,MAAMH,EAAEK,YAAYL,EAAEK,UAAUL,EAAEK,UAAUF,KAAK,MAAMH,EAAEM,YAAYN,EAAEM,UAAUN,EAAEM,UAAUH,KAAK,MAAMH,EAAEO,OAAOP,EAAEO,KAAKP,EAAEO,KAAKJ,KAAK,MAAMH,CAAC,CAAC,SAASQ,EAAER,EAAES,GAAG,MAAMX,EAAE,GAAG,IAAI,MAAMU,KAAKC,EAAE,CAAC,MAAMC,eAAeD,EAAEE,eAAeC,EAAEC,gBAAgBC,GAAGN,EAAE,IAAI,MAAMA,KAAKM,EAAE,CAAC,MAAMC,GAAGD,GAAGN,EAAEQ,EAAEC,EAAElB,EAAE,GAAGC,EAAEkB,QAAQT,iBAAiBK,MAAMK,EAAEC,EAAEC,SAASb,GAAGW,EAAEG,IAAI,CAACC,IAAIP,EAAEN,eAAeD,EAAEE,eAAeC,IAAId,EAAEW,GAAGX,EAAEW,GAAGe,KAAKL,GAAGrB,EAAEW,GAAG,CAACU,EAAE,CAAC,CAAC,OAAOrB,CAAC,CAAC,SAASc,EAAEb,EAAEkB,EAAEG,GAAG,IAAIZ,EAAE,CAACiB,MAAMhB,EAAE,IAAIV,EAAE0B,MAAMC,EAAE,UAAU5B,EAAEmB,MAAM,OAAOG,IAAIZ,EAAE,IAAIY,KAAKZ,EAAEiB,MAAM,IAAIL,EAAEK,SAASjB,EAAEiB,SAASzB,EAAED,EAAEmB,KAAK,oBAAoBV,GAAGmB,MAAM5B,GAAGA,EAAE6B,KAAKC,kBAAkB,CAACC,eAAehB,EAAEf,EAAEkB,EAAER,GAAG,MAAMH,UAAUc,GAAGH,EAAEnB,EAAE,GAAG,IAAI,MAAMU,KAAKY,EAAEtB,EAAE0B,KAAKxB,EAAED,EAAEmB,KAAK,IAAIV,EAAE,eAAeC,IAAI,OAAOsB,QAAQC,IAAIlC,GAAG6B,MAAM5B,GAAGqB,EAAEa,KAAG,CAAGjC,EAAEiB,KAAC,CAAKP,eAAeV,EAAEa,gBAAgBd,EAAEkB,GAAGW,KAAKf,qBAAqB,Q"}