{"version":3,"names":["T","F","S","x","E","C","R","k","P","j","A","G","N","async","v","t","r","n","U","e","responseType","query","SERVICE","REQUEST","VERSION","customParameters","signal","data","L","te","ne","ae","firstElementChild","a","$","operations","D","featureTypes","Array","from","readFeatureTypes","I","M","findIndex","toLowerCase","GetCapabilities","url","DescribeFeatureType","GetFeature","outputFormat","supportsPagination","o","f","OperationsMetadata","Parameter","getAttribute","AllowedValues","Value","textContent","push","Operation","DCP","HTTP","Get","Constraint","DefaultValue","i","V","parseInt","match","groups","wkid","Number","isNaN","y","FeatureTypeList","FeatureType","typeName","name","title","description","extent","namespacePrefix","namespaceUri","defaultSpatialReference","supportedSpatialReferences","Set","Name","prefix","re","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","O","DefaultCRS","add","OtherCRS","children","localName","split","map","parseFloat","xmin","ymin","xmax","ymax","spatialReference","u","W","Y","featureType","X","oe","fields","s","geometryType","p","swapXY","objectIdField","l","geometryField","c","q","b","wfsCapabilities","next","value","h","WGS84","Promise","allSettled","Q","_","error","status","reason","errors","m","z","find","type","filter","g","alias","unshift","all","K","count","Z","features","geometry","fromJSON","coordinates","exec","toFixed","H","TYPENAME","TYPENAMES","element","complexType","B","document","XMLSerializer","serializeToString","J","complexContent","extension","sequence","hasAttribute","simpleType","restriction","maxLength","nullable","length","w","has","replaceAll","JSON","parse","response","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","ee","RESULTTYPE","numberMatched","DOMParser","parseFromString","trim","Exception","ExceptionText","getFeatureSpatialReference","d","includes"],"sources":["./node_modules/@arcgis/core/layers/ogc/wfsUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import{cache as r,find as n}from\"../../core/iteratorUtils.js\";import{isHTTPSProtocol as a,hasSameOrigin as o,toHTTPS as i}from\"../../core/urlUtils.js\";import{initializeProjection as s,project as p}from\"../../geometry/projection.js\";import{wgs84 as u,equals as l}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as c}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as m}from\"../graphics/sources/geojson/geojson.js\";import{visitXML as f,iterateXML as y}from\"./xmlUtils.js\";import{isArcGISUrl as d}from\"../support/arcgisLayerUrl.js\";import g from\"../support/Field.js\";import{getFieldDefaultLength as w}from\"../support/fieldUtils.js\";import b from\"../../geometry/SpatialReference.js\";import h from\"../../geometry/Extent.js\";const T=\"xlink:href\",F=\"2.0.0\",S=\"__esri_wfs_id__\",x=\"wfs-layer:getWFSLayerTypeInfo-error\",E=\"wfs-layer:empty-service\",C=\"wfs-layer:feature-type-not-found\",R=\"wfs-layer:geojson-not-supported\",k=\"wfs-layer:kvp-encoding-not-supported\",P=\"wfs-layer:malformed-json\",j=\"wfs-layer:unknown-geometry-type\",A=\"wfs-layer:unknown-field-type\",G=\"wfs-layer:unsupported-spatial-reference\",N=\"wfs-layer:unsupported-wfs-version\";async function v(t,r){const n=U((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:F,...r?.customParameters},signal:r?.signal})).data);return L(t,n),n}function U(e){const t=te(e);ne(t),ae(t);const n=t.firstElementChild,a=r($(n));return{operations:D(n),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const I=[\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\",\"application/geo+json\"];function M(e){for(const t of I){const r=e.findIndex((e=>e.toLowerCase()===t));if(r>=0)return e[r]}return null}function D(e){let r=!1;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}},a=[],o=[];if(f(e,{OperationsMetadata:{Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:({textContent:e})=>{e&&a.push(e)}}}},Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(T)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(T)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(T)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:({textContent:e})=>{e&&o.push(e)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),n.GetFeature.outputFormat=M(o)??M(a),!r)throw new t(k,\"WFS service doesn't support key/value pair (KVP) encoding\");if(null==n.GetFeature.outputFormat)throw new t(R,\"WFS service doesn't support GeoJSON output format\");return n}function L(e,t){a(e)&&(o(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=i(t.operations.DescribeFeatureType.url)),o(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=i(t.operations.GetFeature.url)))}function V(e){const t=parseInt(e.textContent?.match(/(?<wkid>\\d+$)/i)?.groups?.wkid??\"\",10);if(!Number.isNaN(t))return t}function $(e){return y(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",defaultSpatialReference:4326,supportedSpatialReferences:[]},r=new Set;return f(e,{Name:e=>{const{name:r,prefix:n}=re(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=O(e)},DefaultCRS:e=>{const n=V(e);n&&(t.defaultSpatialReference=n,r.add(n))},OtherCRS:e=>{const t=V(e);t&&r.add(t)}}),t.title||(t.title=t.name),r.add(4326),t.supportedSpatialReferences.push(...r),t}}})}function O(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:u}}function W(e,t,r){return n(e,(e=>r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t))}async function Y(e,t,r,n={}){const{featureType:a,extent:o}=await X(e,t,r,n),{spatialReference:i}=oe(e.operations.GetFeature.url,a,n.spatialReference),{fields:s,geometryType:p,swapXY:u,objectIdField:l,geometryField:c}=await q(e,a,i,n);return{url:e.operations.GetCapabilities.url,name:a.name,namespaceUri:a.namespaceUri,fields:s,geometryField:c,geometryType:p,objectIdField:l,spatialReference:n.spatialReference??new b({wkid:a.defaultSpatialReference}),extent:o,swapXY:u,wfsCapabilities:e,customParameters:n.customParameters}}async function X(e,r,n,a={}){const o=e.readFeatureTypes(),i=r?W(o,r,n):o.next().value,{spatialReference:u=new b({wkid:i?.defaultSpatialReference})}=a;if(null==i)throw r?new t(C,`The type '${r}' could not be found in the service`):new t(E,\"The service is empty\");let c=new h({...i.extent,spatialReference:b.WGS84});if(!l(c.spatialReference,u))try{await s(c.spatialReference,u,void 0,a),c=p(c,u)}catch{throw new t(G,\"Projection not supported\")}return{extent:c,spatialReference:u,featureType:i}}async function q(e,r,n,a={}){const{typeName:o}=r,[i,s]=await Promise.allSettled([Q(e.operations.DescribeFeatureType.url,o,a),_(e,o,n,a)]),p=e=>new t(x,`An error occurred while getting info about the feature type '${o}'`,{error:e});if(\"rejected\"===i.status)throw p(i.reason);if(\"rejected\"===s.status)throw p(s.reason);const{fields:u,errors:l}=i.value??{},c=i.value?.geometryType||s.value?.geometryType,m=s.value?.swapXY??!1;if(null==c)throw new t(j,`The geometry type could not be determined for type '${o}`,{typeName:o,geometryType:c,fields:u,errors:l});return{...z(u??[]),geometryType:c,swapXY:m}}function z(e){const t=e.find((e=>\"geometry\"===e.type));let r=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),r||(r=new g({name:S,type:\"oid\",alias:S}),e.unshift(r)),{geometryField:t?.name??null,objectIdField:r.name,fields:e}}async function _(t,r,n,a={}){let o,i=!1;const[s,p]=await Promise.all([K(t.operations.GetFeature.url,r,n,t.operations.GetFeature.outputFormat,{...a,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:Z(r,n,void 0,{...a,count:1}),signal:a?.signal})]),u=\"FeatureCollection\"===s.type&&s.features[0]?.geometry;if(u){let e;switch(o=c.fromJSON(m(u.type)),u.type){case\"Point\":e=u.coordinates;break;case\"LineString\":case\"MultiPoint\":e=u.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=u.coordinates[0][0];break;case\"MultiPolygon\":e=u.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(p.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(i=!0)}}return{geometryType:o,swapXY:i}}async function Q(t,r,n){return H(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:F,TYPENAME:r,TYPENAMES:r,...n?.customParameters},signal:n?.signal})).data)}function H(e,r){const{name:a}=re(e),o=te(r);ae(o);const i=n(y(o.firstElementChild,{element:e=>e}),(e=>e.getAttribute(\"name\")===a));if(null!=i){const e=i.getAttribute(\"type\"),t=e?n(y(o.firstElementChild,{complexType:e=>e}),(t=>t.getAttribute(\"name\")===re(e).name)):n(y(i,{complexType:e=>e}),(()=>!0));if(t)return B(t)}throw new t(C,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(o)})}const J=new Set([\"objectid\",\"fid\"]);function B(e){const r=[],n=[];let a;const o=y(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const i of o){const o=i.getAttribute(\"name\");if(!o)continue;let s,p;if(i.hasAttribute(\"type\")?s=re(i.getAttribute(\"type\")).name:f(i,{simpleType:{restriction:e=>(s=re(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!s)continue;const u=\"true\"===i.getAttribute(\"nillable\");let l=!1;switch(s.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":n.push(new g({name:o,alias:o,type:\"integer\",nullable:u,length:w(\"integer\")}));break;case\"float\":case\"double\":case\"decimal\":n.push(new g({name:o,alias:o,type:\"double\",nullable:u,length:w(\"double\")}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":n.push(new g({name:o,alias:o,type:\"string\",nullable:u,length:p??w(\"string\")}));break;case\"datetime\":case\"date\":n.push(new g({name:o,alias:o,type:\"date\",nullable:u,length:p??w(\"date\")}));break;case\"pointpropertytype\":a=\"point\",l=!0;break;case\"multipointpropertytype\":a=\"multipoint\",l=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":a=\"polyline\",l=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":a=\"polygon\",l=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":l=!0,r.push(new t(j,`geometry type '${s}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new t(A,`Unknown field type '${s}'`,{type:(new XMLSerializer).serializeToString(e)}))}l&&n.push(new g({name:o,alias:o,type:\"geometry\",nullable:u}))}for(const t of n)if(\"integer\"===t.type&&!t.nullable&&J.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:a,fields:n,errors:r}}async function K(r,n,a,o,i){let{data:s}=await e(r,{responseType:\"text\",query:Z(n,a,o,i),signal:i?.signal});s=s.replaceAll(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{return JSON.parse(s)}catch(p){throw new t(P,\"Error while parsing the response\",{response:s,error:p})}}function Z(e,t,r,n){const a=\"number\"==typeof t?t:t.wkid;return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:F,TYPENAMES:e,OUTPUTFORMAT:r,SRSNAME:\"EPSG:\"+a,STARTINDEX:n?.startIndex,COUNT:n?.count,...n?.customParameters}}async function ee(t,r,n){const a=await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:F,TYPENAMES:r,RESULTTYPE:\"hits\",...n?.customParameters},signal:n?.signal}),o=/numberMatched=[\"'](?<numberMatched>\\d+)[\"']/gi.exec(a.data);if(o?.groups)return+o.groups.numberMatched}function te(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function re(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:r??t}}function ne(e){const r=e.firstElementChild?.getAttribute(\"version\");if(r&&r!==F)throw new t(N,`Unsupported WFS version ${r}. Supported version: ${F}`)}function ae(e){let r=\"\",n=\"\";if(f(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}function oe(e,t,r){const n={wkid:t.defaultSpatialReference},a=null!=r?.wkid?{wkid:r.wkid}:n;return{spatialReference:a,getFeatureSpatialReference:d(e)||a.wkid&&t.supportedSpatialReferences.includes(a.wkid)?{wkid:a.wkid}:{wkid:t.defaultSpatialReference}}}export{Q as describeFeatureType,W as findFeatureType,v as getCapabilities,K as getFeature,ee as getFeatureCount,X as getFeatureTypeInfo,oe as getGetFeatureSpatialReference,Y as getWFSLayerInfo,H as parseDescribeFeatureTypeResponse,U as parseGetCapabilitiesResponse,z as prepareWFSLayerFields,S as wfsOidFieldName};\n"],"mappings":"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"}