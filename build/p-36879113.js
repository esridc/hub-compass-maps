import{lP as t,rC as e,rD as n,rE as r,n_ as o,a3 as s,rF as a,U as l,l9 as c,P as i,s as f,d3 as u,ca as y}from"./p-aad64c9f.js";import{l as p,i as b}from"./p-5b459e36.js";function m(t,e){_(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function _(o,s,a=2,l=a){const c=s.length/2;let i=0,f=0;if(t(s)||e(s)){for(let t=0;t<c;++t)o[i]=s[f],o[i+1]=s[f+1],i+=a,f+=l;return}const u=r(s);if(n(s))for(let t=0;t<c;++t)o[i]=Math.max(s[f]/u,-1),o[i+1]=Math.max(s[f+1]/u,-1),i+=a,f+=l;else for(let t=0;t<c;++t)o[i]=s[f]/u,o[i+1]=s[f+1]/u,i+=a,f+=l}function d(t,e,n,r){const o=t.typedBuffer,s=t.typedBufferStride,a=r?.count??t.count;let l=(r?.dstIndex??0)*s;for(let t=0;t<a;++t)o[l]=e,o[l+1]=n,l+=s}Object.freeze(Object.defineProperty({__proto__:null,fill:d,normalizeIntegerBuffer:_,normalizeIntegerBufferView:m},Symbol.toStringTag,{value:"Module"}));function w(t,e){h(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function h(t,e,n=3,r=n){const o=e.length/r;let s=0,a=0;for(let l=0;l<o;++l)t[s]=e[a],t[s+1]=e[a+1],t[s+2]=e[a+2],s+=n,a+=r}function j(t,e,n,r,o){const s=t.typedBuffer,a=t.typedBufferStride,l=o?.count??t.count;let c=(o?.dstIndex??0)*a;for(let t=0;t<l;++t)s[c]=e,s[c+1]=n,s[c+2]=r,c+=a}Object.freeze(Object.defineProperty({__proto__:null,copy:h,copyView:w,fill:j},Symbol.toStringTag,{value:"Module"}));function g(t,e){O(t.typedBuffer,e,t.typedBufferStride)}function O(t,e,n=4){const r=e.typedBuffer,o=e.typedBufferStride,s=e.count;let a=0,l=0;for(let e=0;e<s;++e)t[a]=r[l],t[a+1]=r[l+1],t[a+2]=r[l+2],t[a+3]=r[l+3],a+=n,l+=o}function M(t,e,n,r,o,s){const a=t.typedBuffer,l=t.typedBufferStride,c=s?.count??t.count;let i=(s?.dstIndex??0)*l;for(let t=0;t<c;++t)a[i]=e,a[i+1]=n,a[i+2]=r,a[i+3]=o,i+=l}Object.freeze(Object.defineProperty({__proto__:null,copy:O,copyView:g,fill:M},Symbol.toStringTag,{value:"Module"}));class v{constructor(t){this._streamDataRequester=t}async loadJSON(t,e){return this._load("json",t,e)}async loadBinary(t,e){return o(t)?(s(e),a(t)):this._load("binary",t,e)}async loadImage(t,e){return this._load("image",t,e)}async _load(t,e,n){if(null==this._streamDataRequester)return(await l(e,{responseType:A[t]})).data;const r=await c(this._streamDataRequester.request(e,t,n));if(!0===r.ok)return r.value;throw i(r.error),new f("glt-loader-request-error",`Request for resource failed: ${r.error}`)}}const A={image:"image",binary:"array-buffer",json:"json","image+type":void 0};function S(t,e){switch(e){case u.TRIANGLES:return U(t);case u.TRIANGLE_STRIP:return B(t);case u.TRIANGLE_FAN:return I(t)}}function U(t){return"number"==typeof t?p(t):y(t)?new Uint16Array(t):t}function B(t){const e="number"==typeof t?t:t.length;if(e<3)return[];const n=e-2,r=b(3*n);if("number"==typeof t){let t=0;for(let e=0;e<n;e+=1)e%2==0?(r[t++]=e,r[t++]=e+1,r[t++]=e+2):(r[t++]=e+1,r[t++]=e,r[t++]=e+2)}else{let e=0;for(let o=0;o<n;o+=1)o%2==0?(r[e++]=t[o],r[e++]=t[o+1],r[e++]=t[o+2]):(r[e++]=t[o+1],r[e++]=t[o],r[e++]=t[o+2])}return r}function I(t){const e="number"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const n=e-2,r=n<=65536?new Uint16Array(3*n):new Uint32Array(3*n);if("number"==typeof t){let t=0;for(let e=0;e<n;++e)r[t++]=0,r[t++]=e+1,r[t++]=e+2;return r}const o=t[0];let s=t[1],a=0;for(let e=0;e<n;++e){const n=t[e+2];r[a++]=o,r[a++]=s,r[a++]=n,s=n}return r}const V=2.1;export{_ as a,h as b,V as c,M as d,m as e,j as f,g,w as h,d as l,v as n,S as o,O as t};
//# sourceMappingURL=p-36879113.js.map