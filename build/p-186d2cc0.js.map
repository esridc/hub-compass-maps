{"version":3,"names":["e","upload","createFromFiles","loadMesh","uploadAssetBlobs","prepareAssetItems","uploadAssetItems","uploadConvertibleSource","uploadEditSource","serviceAssetsToGlb","uploadLocalMesh","meshToAssetBlob","i","s","t","n","constructor","this","onProgress","taskName","_progressMap","Map","_startTime","_timingsMap","_weights","r","set","emitProgress","entries","has","Math","round","performance","now","console","log","end","start","o","stepKey","stepTime","relativeTime","setProgress","simulate","a","makeOnProgress","l","setInterval","exp","g","clearInterval","h","c","f","m","p","async","data","name","description","d","u","w","y","j","query","responseType","q","z","maxUploadFileSize","T","U","min","size","Error","A","E","itemName","method","success","itemID","P","item","D","I","ceil","M","Array","push","slice","v","reverse","x","F","_","length","pop","FormData","append","timeout","body","remove","Promise","all","b","C","parts","map","join","replaceAll","O","layer","ongoingUploads","get","Z","k","delete","parsedUrl","metadata","externalSources","some","displaySource","H","source","B","R","addExternalSources","G","original","reduce","asset","File","N","V","L","J","extent","clone","load","toBinaryGLTF","ignoreLocalTransform","buffer","blob","Blob","type","assetName","assetType","infoFor3D","supportedFormats","editFormats","$","includes","uploadResults","K","Q","toBlob","W","url","assetUploadId","ss","warnOnce","isBase64","assetData","path","assets","JSON","stringify","error","assetHash","partHash","capabilities","operations","supportsAsyncConvert3D","transportType","targetFormat","Y","X","S","contentType","assetURL","statusUrl","status","resultUrl","es","getLogger"],"sources":["./node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js","./node_modules/@arcgis/core/support/progressUtils.js","./node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js","./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nconst e={upload:{createFromFiles:.8,loadMesh:.2},uploadAssetBlobs:{prepareAssetItems:.9,uploadAssetItems:.1},uploadConvertibleSource:{uploadEditSource:.5,serviceAssetsToGlb:.5},uploadLocalMesh:{meshToAssetBlob:.5,uploadAssetBlobs:.5}};export{e as uploadProgressWeights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{makeHandle as s}from\"../core/handleUtils.js\";import has from\"../core/has.js\";import{getOrCreateMapValue as t}from\"../core/MapUtils.js\";import{millisecondsFromSeconds as e,Seconds as r,Milliseconds as o}from\"../core/time.js\";function i(s,t=(s=>{}),e){return new n(s,t,e)}class n{constructor(s,t=(s=>{}),e){if(this.onProgress=t,this.taskName=e,this._progressMap=new Map,this._startTime=void 0,this._timingsMap=new Map,\"number\"==typeof s){this._weights={};for(let t=0;t<s;t++){const e=t,r=1/s;this._weights[e]=r,this._progressMap.set(e,0)}}else this._weights=s;this.emitProgress()}emitProgress(){let s=0;for(const[t,e]of this._progressMap.entries()){s+=e*this._weights[t]}if(1===s&&has(\"enable-feature:esri-3dofl-upload-timings\")){const s=Math.round(performance.now()-(this._startTime??0))/1e3;console.log(`${this.taskName} done in ${s} sec`);for(const[t,e]of this._timingsMap){const r=Math.round(e.end-e.start)/1e3,o=Math.round(r/s*100);console.log(this.taskName??\"Task\",{stepKey:t,stepTime:r,relativeTime:o})}}this.onProgress(s)}setProgress(s,e){if(this._progressMap.set(s,e),has(\"enable-feature:esri-3dofl-upload-timings\")){const r=performance.now();this._startTime??=r;const o=t(this._timingsMap,s,(()=>({start:r,end:0})));1===e&&(o.end=r)}this.emitProgress()}simulate(s,t){return a((t=>this.setProgress(s,t)),t)}makeOnProgress(s){return t=>this.setProgress(s,t)}}function a(t=(s=>{}),e=l){const r=performance.now();t(0);const o=setInterval((()=>{const s=performance.now()-r,o=1-Math.exp(-s/e);t(o)}),g);return s((()=>{clearInterval(o),t(1)}))}function h(s,t=c){return e(r(s*f/t))}function m(s,t=p){return e(r(s*f/t))}const c=10,p=10,f=8e-6,g=o(50),l=o(1e3);export{n as ProgressManager,m as estimatedConversionTime,h as estimatedTransferTime,i as makeProgressManager,a as simulateProgress};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import{join as t}from\"../../../../core/urlUtils.js\";import{isHostedAgolService as r}from\"../../../support/arcgisLayerUrl.js\";import{makeProgressManager as s,estimatedTransferTime as a}from\"../../../../support/progressUtils.js\";const n=1e6,i=20*n,p=2e9,l=3;async function m({data:m,name:f,description:d},u,h){let w=null;try{const y=t(u,\"uploads\"),j=t(y,\"info\"),{data:g}=await e(j,{query:{f:\"json\"},responseType:\"json\"});o(h);const q=r(u),z=g.maxUploadFileSize*n,T=q?p:z,U=q?Math.min(i,z):i;if(m.size>T)throw new Error(\"Data too large\");const A=t(y,\"register\"),{data:E}=await e(A,{query:{f:\"json\",itemName:c(f),description:d},responseType:\"json\",method:\"post\"});if(o(h),!E.success)throw new Error(\"Registration failed\");const{itemID:P}=E.item;w=t(y,P);const D=t(w,\"uploadPart\"),I=Math.ceil(m.size/U),M=new Array;for(let e=0;e<I;++e)M.push(m.slice(e*U,Math.min((e+1)*U,m.size)));const v=M.slice().reverse(),x=new Array,F=s(I,h?.onProgress,\"uploadItem\"),_=async()=>{for(;0!==v.length;){const t=M.length-v.length,r=v.pop(),s=new FormData,n=F.simulate(t,a(r.size));try{s.append(\"f\",\"json\"),s.append(\"file\",r),s.append(\"partId\",`${t}`);const{data:a}=await e(D,{timeout:0,body:s,responseType:\"json\",method:\"post\"});if(o(h),!a.success)throw new Error(\"Part upload failed\")}finally{n.remove()}}};for(let e=0;e<l&&0!==v.length;++e)x.push(_());await Promise.all(x);const b=t(w,\"commit\"),{data:C}=await e(b,{query:{f:\"json\",parts:M.map(((e,o)=>o)).join(\",\")},responseType:\"json\",method:\"post\"});if(o(h),!C.success)throw new Error(\"Commit failed\");return C.item}catch(y){if(null!=w){const o=t(w,\"delete\");await e(o,{query:{f:\"json\"},responseType:\"json\",method:\"post\"})}throw y}}function c(e){return e.replaceAll(\"/\",\"_\").replaceAll(\"\\\\\",\"_\")}export{m as uploadItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport s from\"../../../../request.js\";import\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{throwIfAborted as t,after as r,throwIfAbortError as o}from\"../../../../core/promiseUtils.js\";import{Milliseconds as n}from\"../../../../core/time.js\";import{join as a,parseData as i}from\"../../../../core/urlUtils.js\";import{generateBracedUUID as c}from\"../../../../core/uuid.js\";import{externalIsOnService as u,assetFormatId as l,ServiceAsset as p,ServiceAssetPart as m,externalSourceToMultiPart as f}from\"../../../../geometry/support/meshUtils/External.js\";import{UnsupportedError as d,NoSupportedSourceError as g,BadResponseError as y,UploadFailedError as w,UnsupportedFormatUploadedError as h,Convert3DFailedError as P,NoGlbSupportError as T,NotBase64Error as b,UnableToPrepareOptionsError as j}from\"./uploadAssetErrors.js\";import{uploadProgressWeights as A}from\"./uploadProgressWeights.js\";import{uploadItem as F}from\"./uploads.js\";import{getFormatIdMimeType as U,getMimeTypeFormatId as S,getFilenameFormatId as x}from\"../../../support/infoFor3D.js\";import{makeProgressManager as E,estimatedConversionTime as N,simulateProgress as D}from\"../../../../support/progressUtils.js\";async function O(s,e,t){const r=s.length;if(!r)return t?.onProgress?.(1),[];const o=E(r,t?.onProgress,\"uploadAssets\");return Promise.all(s.map(((s,r)=>v(s,e,{...t,onProgress:o.makeOnProgress(r)}))))}async function v(s,{layer:e,ongoingUploads:t},r){const o=t.get(s);if(o)return o;if(!Z(e))throw new d;if(I(s,e))return r?.onProgress?.(1),s;const n=k(s,e,r);t.set(s,n);try{await n}finally{t.delete(s)}return s}function I(s,e){const{parsedUrl:t}=e;return null!=t&&s.metadata.externalSources.some((s=>u(s,t)))}async function k(s,e,r){const{metadata:o}=s,{displaySource:n}=o,a=H(n?.source,e),i=!!a,c=o.externalSources.length>0,u=i?B(a,e,r):c?R(s,e,r):C(s,e,r),l=await u;return t(r),s.addExternalSources([l]),s}async function B(s,e,t){return{source:await G(s,e,t),original:!0}}async function R(s,e,t){const r=_(e),{externalSources:o}=s.metadata,n=q(o,e);if(!n)throw new g;const a=E(A.uploadConvertibleSource,t?.onProgress,\"uploadConvertibleSource\"),i=await G(n,e,{onProgress:a.makeOnProgress(\"uploadEditSource\")});s.addExternalSources([{source:i,original:!0}]);const c=n.reduce(((s,{asset:e})=>e instanceof File?s+e.size:s),0),u=a.simulate(\"serviceAssetsToGlb\",N(c));try{return{source:await V(i,e,r)}}finally{u.remove()}}async function C(s,e,t){const r=E(A.uploadLocalMesh,t?.onProgress,\"uploadLocalMesh\"),o=L(s,e,{...t,onProgress:r.makeOnProgress(\"meshToAssetBlob\")});return{source:await J([o],e,{...t,onProgress:r.makeOnProgress(\"uploadAssetBlobs\")}),extent:s.extent.clone(),original:!0}}async function L(s,e,r){const o=_(e),n=await s.load(r),a=await n.toBinaryGLTF({ignoreLocalTransform:!0});t(r);const i=await a.buffer();return t(r),{blob:new Blob([i.data],{type:i.type}),assetName:`${c()}.glb`,assetType:o}}function q(s,e){for(const t of s){const s=H(t.source,e);if(s)return s}return null}function H(s,e){if(!s)return null;const{infoFor3D:{supportedFormats:t,editFormats:r}}=e,o=f(s),n=new Array;let a=!1;for(let i=0;i<o.length;++i){const s=$(o[i],t);if(!s)return null;r.includes(s.assetType)&&(a=!0),n.push(s)}return a?n:null}function $(s,e){const t=l(s,e);return t?{asset:s,assetType:t}:null}async function G(s,e,t){return J(s.map((s=>M(s,t))),e,t)}async function J(s,e,r){const o=E(A.uploadAssetBlobs,r?.onProgress,\"uploadAssetBlobs\"),n=await z(s,e,{...r,onProgress:o.makeOnProgress(\"prepareAssetItems\")});t(r);const a=n.map((({item:s})=>s)),{uploadResults:i}=await K(a,e,{...r,onProgress:o.makeOnProgress(\"uploadAssetItems\")});return t(r),s.map(((s,t)=>Q(n[t],i[t],e)))}async function M(s,e){const{asset:r,assetType:o}=s;if(r instanceof File)return{blob:r,assetName:r.name,assetType:o};const n=await r.toBlob(e);return t(e),{blob:n,assetName:r.assetName,assetType:o}}async function W(s,e,r){const{blob:n,assetType:a,assetName:c}=s;let u=null;try{const s=await F({data:n,name:c},e.url,r);t(r),u={assetType:a,assetUploadId:s.itemID}}catch(l){o(l),ss().warnOnce(`Service ${e.url} does not support the REST Uploads API.`)}if(!u){const s=await i(n);if(t(r),!s.isBase64)throw new b;u={assetType:a,assetData:s.data}}if(!u)throw new j;return{item:u,assetName:c}}function z(s,e,r){const o=E(s.length,r?.onProgress,\"prepareAssetItems\");return Promise.all(s.map((async(s,n)=>{const a=W(await s,e,{...r,onProgress:o.makeOnProgress(n)});return t(r),a})))}async function K(e,r,o){const n=D(o?.onProgress);try{const n=await s(a(r.parsedUrl.path,\"uploadAssets\"),{timeout:0,query:{f:\"json\",assets:JSON.stringify(e)},method:\"post\",responseType:\"json\"});if(t(o),n.data.uploadResults.length!==e.length)throw new y(e.length,n.data.uploadResults.length);return n.data}finally{n.remove()}}function Q(s,e,t){const{success:r}=e;if(!r){const{error:t}=e;throw new w(s.assetName,t)}const{assetHash:o}=e,{assetName:n,item:{assetType:a}}=s,{infoFor3D:{supportedFormats:i}}=t,c=U(a,i);if(!c)throw new h(a);return new p(n,c,[new m(`${t.parsedUrl.path}/assets/${o}`,o)])}async function V(s,e,t){const r=s.map((({assetName:s,parts:e})=>({assetName:s,assetHash:e[0].partHash}))),o=e.capabilities?.operations.supportsAsyncConvert3D,n={f:\"json\",assets:JSON.stringify(r),transportType:\"esriTransportTypeUrl\",targetFormat:t,async:o},i=a(e.parsedUrl.path,\"convert3D\");let c;try{c=(await(o?Y:X)(i,{query:n,responseType:\"json\",timeout:0})).data}catch(l){throw new P}const{supportedFormats:u}=e.infoFor3D;return c.assets.map((s=>{const e=S(s.contentType,u);if(!e)throw new h(e);return new p(s.assetName,s.contentType,[new m(s.assetURL,s.assetHash)])}))}function X(e,t){return s(e,t)}async function Y(e,t){const o=(await s(e,t)).data.statusUrl;for(;;){const e=(await s(o,{query:{f:\"json\"},responseType:\"json\"})).data;switch(e.status){case\"Completed\":return s(e.resultUrl,{query:{f:\"json\"},responseType:\"json\"});case\"CompletedWithErrors\":throw new Error(e.status);case\"Failed ImportChanges\":case\"InProgress\":case\"Pending\":case\"ExportAttachments\":case\"ExportChanges\":case\"ExportingData\":case\"ExportingSnapshot\":case\"ImportAttachments\":case\"ProvisioningReplica\":case\"UnRegisteringReplica\":break;default:throw new Error}await r(es)}}function Z(s){return!!s.infoFor3D&&!!s.url}function _(s){const{infoFor3D:e}=s,t=S(\"model/gltf-binary\",e.supportedFormats)??x(\"glb\",e.supportedFormats);if(!t)throw new T;return t}function ss(){return e.getLogger(\"esri.layers.graphics.sources.support.uploadAssets\")}const es=n(1e3);export{O as uploadAssets};\n"],"mappings":"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"}