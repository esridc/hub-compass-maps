{"version":3,"names":["e","upload","createFromFiles","loadMesh","uploadAssetBlobs","prepareAssetItems","uploadAssetItems","uploadConvertibleSource","uploadEditSource","serviceAssetsToGlb","uploadLocalMesh","meshToAssetBlob","i","s","t","n","constructor","this","onProgress","taskName","_progressMap","Map","_startTime","_timingsMap","_weights","r","set","emitProgress","entries","has","Math","round","performance","now","console","log","end","start","o","stepKey","stepTime","relativeTime","setProgress","simulate","a","makeOnProgress","l","setInterval","exp","g","clearInterval","h","c","f","m","p","async","data","name","description","d","u","w","y","j","query","responseType","q","z","maxUploadFileSize","T","U","min","size","Error","A","E","itemName","method","success","itemID","P","item","D","I","ceil","M","Array","push","slice","v","reverse","x","F","_","length","pop","FormData","append","timeout","body","remove","Promise","all","b","C","parts","map","join","replaceAll","B","layer","ongoingUploads","get","ne","L","H","delete","parsedUrl","metadata","externalSources","some","displaySource","W","source","checkForConversionRequired","$","J","addExternalSources","Q","original","unitConversionDisabled","ae","reduce","asset","File","O","transform","origin","se","georeferenced","useAssetOrigin","vertexSpace","spatialReference","G","V","extent","clone","load","toBinaryGLTF","signal","ignoreLocalTransform","blob","Blob","type","assetName","assetType","infoFor3D","supportedFormats","editFormats","K","includes","X","Z","uploadResults","ee","toBlob","Y","S","url","assetUploadId","ie","warnOnce","isBase64","assetData","k","path","assets","JSON","stringify","error","assetHash","R","partHash","capabilities","operations","supportsAsyncConvert3D","oe","re","transportType","targetFormat","te","contentType","assetURL","N","fromJSON","statusUrl","status","resultUrl","ce","getLogger"],"sources":["./node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js","./node_modules/@arcgis/core/support/progressUtils.js","./node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js","./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e={upload:{createFromFiles:.8,loadMesh:.2},uploadAssetBlobs:{prepareAssetItems:.9,uploadAssetItems:.1},uploadConvertibleSource:{uploadEditSource:.5,serviceAssetsToGlb:.5},uploadLocalMesh:{meshToAssetBlob:.5,uploadAssetBlobs:.5}};export{e as uploadProgressWeights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{makeHandle as s}from\"../core/handleUtils.js\";import has from\"../core/has.js\";import{getOrCreateMapValue as t}from\"../core/MapUtils.js\";import{millisecondsFromSeconds as e,Seconds as r,Milliseconds as o}from\"../core/time.js\";function i(s,t=s=>{},e){return new n(s,t,e)}class n{constructor(s,t=s=>{},e){if(this.onProgress=t,this.taskName=e,this._progressMap=new Map,this._startTime=void 0,this._timingsMap=new Map,\"number\"==typeof s){this._weights={};for(let t=0;t<s;t++){const e=t,r=1/s;this._weights[e]=r,this._progressMap.set(e,0)}}else this._weights=s;this.emitProgress()}emitProgress(){let s=0;for(const[t,e]of this._progressMap.entries()){s+=e*this._weights[t]}if(1===s&&has(\"enable-feature:esri-3dofl-upload-timings\")){const s=Math.round(performance.now()-(this._startTime??0))/1e3;console.log(`${this.taskName} done in ${s} sec`);for(const[t,e]of this._timingsMap){const r=Math.round(e.end-e.start)/1e3,o=Math.round(r/s*100);console.log(this.taskName??\"Task\",{stepKey:t,stepTime:r,relativeTime:o})}}this.onProgress(s)}setProgress(s,e){if(this._progressMap.set(s,e),has(\"enable-feature:esri-3dofl-upload-timings\")){const r=performance.now();this._startTime??=r;const o=t(this._timingsMap,s,(()=>({start:r,end:0})));1===e&&(o.end=r)}this.emitProgress()}simulate(s,t){return a((t=>this.setProgress(s,t)),t)}makeOnProgress(s){return t=>this.setProgress(s,t)}}function a(t=s=>{},e=l){const r=performance.now();t(0);const o=setInterval((()=>{const s=performance.now()-r,o=1-Math.exp(-s/e);t(o)}),g);return s((()=>{clearInterval(o),t(1)}))}function h(s,t=c){return e(r(s*f/t))}function m(s,t=p){return e(r(s*f/t))}const c=10,p=10,f=8e-6,g=o(50),l=o(1e3);export{n as ProgressManager,m as estimatedConversionTime,h as estimatedTransferTime,i as makeProgressManager,a as simulateProgress};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import{join as t}from\"../../../../core/urlUtils.js\";import{isHostedAgolService as r}from\"../../../support/arcgisLayerUrl.js\";import{makeProgressManager as s,estimatedTransferTime as a}from\"../../../../support/progressUtils.js\";const n=1e6,i=20*n,p=2e9,l=3;async function m({data:m,name:f,description:d},u,h){let w=null;try{const y=t(u,\"uploads\"),j=t(y,\"info\"),{data:g}=await e(j,{query:{f:\"json\"},responseType:\"json\"});o(h);const q=r(u),z=g.maxUploadFileSize*n,T=q?p:z,U=q?Math.min(i,z):i;if(m.size>T)throw new Error(\"Data too large\");const A=t(y,\"register\"),{data:E}=await e(A,{query:{f:\"json\",itemName:c(f),description:d},responseType:\"json\",method:\"post\"});if(o(h),!E.success)throw new Error(\"Registration failed\");const{itemID:P}=E.item;w=t(y,P);const D=t(w,\"uploadPart\"),I=Math.ceil(m.size/U),M=new Array;for(let e=0;e<I;++e)M.push(m.slice(e*U,Math.min((e+1)*U,m.size)));const v=M.slice().reverse(),x=new Array,F=s(I,h?.onProgress,\"uploadItem\"),_=async()=>{for(;0!==v.length;){const t=M.length-v.length,r=v.pop(),s=new FormData,n=F.simulate(t,a(r.size));try{s.append(\"f\",\"json\"),s.append(\"file\",r),s.append(\"partId\",`${t}`);const{data:a}=await e(D,{timeout:0,body:s,responseType:\"json\",method:\"post\"});if(o(h),!a.success)throw new Error(\"Part upload failed\")}finally{n.remove()}}};for(let e=0;e<l&&0!==v.length;++e)x.push(_());await Promise.all(x);const b=t(w,\"commit\"),{data:C}=await e(b,{query:{f:\"json\",parts:M.map(((e,o)=>o)).join(\",\")},responseType:\"json\",method:\"post\"});if(o(h),!C.success)throw new Error(\"Commit failed\");return C.item}catch(y){if(null!=w){const o=t(w,\"delete\");await e(o,{query:{f:\"json\"},responseType:\"json\",method:\"post\"})}throw y}}function c(e){return e.replaceAll(\"/\",\"_\").replaceAll(\"\\\\\",\"_\")}export{m as uploadItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../request.js\";import has from\"../../../../core/has.js\";import s from\"../../../../core/Logger.js\";import{throwIfAborted as t,after as r,throwIfAbortError as o}from\"../../../../core/promiseUtils.js\";import{Milliseconds as n}from\"../../../../core/time.js\";import{join as a,parseData as i}from\"../../../../core/urlUtils.js\";import{generateBracedUUID as c}from\"../../../../core/uuid.js\";import{externalIsOnService as u,assetFormatId as l,ServiceAsset as p,ServiceAssetPart as m,externalSourceToMultiPart as f}from\"../../../../geometry/support/meshUtils/External.js\";import{UnsupportedError as g,NoSupportedSourceError as d,BadResponseError as y,UploadFailedError as w,UnsupportedFormatUploadedError as h,Convert3DFailedError as P,NoGlbSupportError as b,NotBase64Error as j,UnableToPrepareOptionsError as T}from\"./uploadAssetErrors.js\";import{uploadProgressWeights as A}from\"./uploadProgressWeights.js\";import{uploadItem as S}from\"./uploads.js\";import{getPrjFormatId as F,getWorldFileFormatId as v,getFormatIdMimeType as R,getMimeTypeFormatId as U,getGlbFormatId as x}from\"../../../support/infoFor3D.js\";import{getMeshTransformForMetersToSpatialReference as D}from\"../../../support/meshSpatialReferenceScaleUtils.js\";import{extractMeshFeatureTransform as N,extractMeshFeatureOrigin as E}from\"../../../../rest/support/meshFeatureAttributes.js\";import{makeProgressManager as C,estimatedConversionTime as O,simulateProgress as k}from\"../../../../support/progressUtils.js\";import I from\"../../../../geometry/SpatialReference.js\";async function B(e,s,t){const r=e.length;if(!r)return t?.onProgress?.(1),[];const o=C(r,t?.onProgress,\"uploadAssets\");return Promise.all(e.map(((e,r)=>q(e,s,{...t,onProgress:o.makeOnProgress(r)}))))}async function q(e,{layer:s,ongoingUploads:t},r){const o=t.get(e);if(o)return o;if(!ne(s))throw new g;if(L(e,s))return r?.onProgress?.(1),e;const n=H(e,s,r);t.set(e,n);try{await n}finally{t.delete(e)}return e}function L(e,s){const{parsedUrl:t}=s;return null!=t&&e.metadata.externalSources.some((e=>u(e,t)))}async function H(e,s,r){const{metadata:o}=e,{displaySource:n}=o,a=W(n?.source,s,{checkForConversionRequired:has(\"enable-feature:georeferenced-uploads\")}),i=null!=a?$(a,s,r):o.externalSources.length>0?J(e,s,r):z(e,s,r),c=await i;return t(r),e.addExternalSources([c]),e}async function $(e,s,t){return{source:await Q(e,s,t),original:!0,unitConversionDisabled:!0}}async function J(e,s,t){const r=ae(s),{externalSources:o}=e.metadata,n=M(o,s);if(!n)throw new d;const a=C(A.uploadConvertibleSource,t?.onProgress,\"uploadConvertibleSource\"),i=await Q(n,s,{onProgress:a.makeOnProgress(\"uploadEditSource\")});e.addExternalSources([{source:i,original:!0}]);const c=n.reduce(((e,{asset:s})=>s instanceof File?e+s.size:e),0),u=a.simulate(\"serviceAssetsToGlb\",O(c));try{const{source:o,transform:n,origin:a}=await se(i,s,r);return e.transform=n,a&&(e.metadata.georeferenced=!0,t?.useAssetOrigin&&(e.vertexSpace.origin=[a.x,a.y,a.z??0],e.spatialReference=a.spatialReference)),{source:o,unitConversionDisabled:!0}}finally{u.remove()}}async function z(e,s,t){const r=C(A.uploadLocalMesh,t?.onProgress,\"uploadLocalMesh\"),o=G(e,s,{...t,onProgress:r.makeOnProgress(\"meshToAssetBlob\")});return{source:await V([o],s,{...t,onProgress:r.makeOnProgress(\"uploadAssetBlobs\")}),extent:e.extent.clone(),original:!0}}async function G(e,s,r){const o=ae(s),n=await e.load(r),a=await n.toBinaryGLTF({origin:n.origin,signal:r?.signal,ignoreLocalTransform:!0,unitConversionDisabled:!0});return t(r),{blob:new Blob([a],{type:\"model/gltf-binary\"}),assetName:`${c()}.glb`,assetType:o}}function M(e,s){for(const t of e){const e=W(t.source,s);if(e)return e}return null}function W(e,{infoFor3D:s},t={}){if(!e)return null;const{supportedFormats:r,editFormats:o}=s,n=f(e),a=new Array,i=F(s),c=v(s);let u=!1;for(const l of n){const e=K(l,r);if(!e)return null;const{assetType:s}=e;if(t.checkForConversionRequired&&(s===i||s===c))return null;o.includes(s)&&(u=!0),a.push(e)}return u?a:null}function K(e,s){const t=l(e,s);return t?{asset:e,assetType:t}:null}async function Q(e,s,t){return V(e.map((e=>X(e,t))),s,t)}async function V(e,s,r){const o=C(A.uploadAssetBlobs,r?.onProgress,\"uploadAssetBlobs\"),n=await Z(e,s,{...r,onProgress:o.makeOnProgress(\"prepareAssetItems\")});t(r);const a=n.map((({item:e})=>e)),{uploadResults:i}=await _(a,s,{...r,onProgress:o.makeOnProgress(\"uploadAssetItems\")});return t(r),e.map(((e,t)=>ee(n[t],i[t],s)))}async function X(e,s){const{asset:r,assetType:o}=e;if(r instanceof File)return{blob:r,assetName:r.name,assetType:o};const n=await r.toBlob(s);return t(s),{blob:n,assetName:r.assetName,assetType:o}}async function Y(e,s,r){const{blob:n,assetType:a,assetName:c}=e;let u=null;try{const e=await S({data:n,name:c},s.url,r);t(r),u={assetType:a,assetUploadId:e.itemID}}catch(l){o(l),ie().warnOnce(`Service ${s.url} does not support the REST Uploads API.`)}if(!u){const e=await i(n);if(t(r),!e.isBase64)throw new j;u={assetType:a,assetData:e.data}}if(!u)throw new T;return{item:u,assetName:c}}function Z(e,s,r){const o=C(e.length,r?.onProgress,\"prepareAssetItems\");return Promise.all(e.map((async(e,n)=>{const a=Y(await e,s,{...r,onProgress:o.makeOnProgress(n)});return t(r),a})))}async function _(s,r,o){const n=k(o?.onProgress);try{const n=await e(a(r.parsedUrl.path,\"uploadAssets\"),{timeout:0,query:{f:\"json\",assets:JSON.stringify(s)},method:\"post\",responseType:\"json\"});if(t(o),n.data.uploadResults.length!==s.length)throw new y(s.length,n.data.uploadResults.length);return n.data}finally{n.remove()}}function ee(e,s,t){const{success:r}=s;if(!r){const{error:t}=s;throw new w(e.assetName,t)}const{assetHash:o}=s,{assetName:n,item:{assetType:a}}=e,{infoFor3D:{supportedFormats:i}}=t,c=R(a,i);if(!c)throw new h(a);return new p(n,c,[new m(`${t.parsedUrl.path}/assets/${o}`,o)])}async function se(e,s,t){const r=e.map((({assetName:e,parts:s})=>({assetName:e,assetHash:s[0].partHash})));let o;try{const e=a(s.parsedUrl.path,\"convert3D\"),n=s.capabilities?.operations.supportsAsyncConvert3D;o=(await(n?oe:re)(e,{query:{f:\"json\",assets:JSON.stringify(r),transportType:\"esriTransportTypeUrl\",targetFormat:t,async:n},responseType:\"json\",timeout:0})).data}catch(n){throw new P}return te(s,o)}function te(e,s){const t={source:s.assets.map((s=>{const t=U(s.contentType,e.infoFor3D.supportedFormats);if(!t)throw new h(t);return new p(s.assetName,s.contentType,[new m(s.assetURL,s.assetHash)])})),origin:void 0,transform:void 0};if(has(\"enable-feature:georeferenced-uploads\")&&s.transform){if(t.transform=N(s.transform),s.spatialReference){const e=I.fromJSON(s.spatialReference);t.origin=E(s.transform,e)}}else t.transform=D(e.spatialReference);return t}function re(s,t){return e(s,t)}async function oe(s,t){const o=(await e(s,t)).data.statusUrl;for(;;){const s=(await e(o,{query:{f:\"json\"},responseType:\"json\"})).data;switch(s.status){case\"Completed\":return e(s.resultUrl,{query:{f:\"json\"},responseType:\"json\"});case\"CompletedWithErrors\":throw new Error(s.status);case\"Failed ImportChanges\":case\"InProgress\":case\"Pending\":case\"ExportAttachments\":case\"ExportChanges\":case\"ExportingData\":case\"ExportingSnapshot\":case\"ImportAttachments\":case\"ProvisioningReplica\":case\"UnRegisteringReplica\":break;default:throw new Error}await r(ce)}}function ne(e){return!!e.infoFor3D&&!!e.url}function ae({infoFor3D:e}){const s=x(e);if(!s)throw new b;return s}function ie(){return s.getLogger(\"esri.layers.graphics.sources.support.uploadAssets\")}const ce=n(1e3);export{B as uploadAssets};\n"],"mappings":"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"}