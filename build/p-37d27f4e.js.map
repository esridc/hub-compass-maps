{"version":3,"names":["o","getObjectId","t","objectId","getAttributes","attributes","getAttribute","e","cloneWithGeometry","r","getGeometry","geometry","getCentroid","centroid","hasZ","hasM","constructor","this","_cache","_invalidCache","get","i","uid","c","create","put","n","getError","s","Set","a","l","d","expression","error","expressionName","validateStandardized","isStandardized","validateAggregate","isAggregate","fieldNames","p","g","query","f","getExpressions","every","aggregateType","field","name","some","onStatisticField","statisticType","toLowerCase","trim","having","u","test","split","y","Map","m","allowedFieldTypes","size","errors","Array","from","values","includes","filter","T","set","type","has","fieldName","fieldType","fromJSON","_fieldDataCache","_returnDistinctMap","returnDistinctValues","fieldsIndex","featureAdapter","outFields","alias","clause","countDistinctValues","forEach","length","_processAttributesForOutFields","_processAttributesForDistinctValues","getFieldValue","calculateValue","getDataValues","normalizationType","normalizationTotal","h","map","field2","fieldDelimiter","field3","Date","getTime","Number","isFinite","normalizationField","async","arcadeUtils","hasGeometryOperations","enableGeometryOperations","createFunction","getViewInfo","fields","layer","geometryType","spatialReference","createExecContext","executeFunction","validateItem","testFeature","validateItems","testSet","push","join","target","distance","start","end","draped","q","items","objectIdField","createQueryResponseForCount","outStatistics","groupByFieldsForStatistics","_getAttributeValues","_calculateUniqueValues","data","add","_createExceedsLimitQueryResponse","_createStatisticsQueryResponse","_createFeatureQueryResponse","returnQueryGeometry","outSR","queryGeometry","createSnappingResponse","C","point","mode","x","candidates","_getPointCreator","G","z","coords","lengths","returnEdge","coordsIndex","N","Math","sqrt","vertexMode","sort","valueExpression","minValue","maxValue","scale","timeZone","_getDataValues","value","I","V","supportsNullCount","percentileParams","F","useSampleStdDev","S","domains","returnAllCodedValues","_","v","classificationMethod","standardDeviationInterval","numClasses","b","R","numBins","A","_sortFeatures","reverse","quantizationParameters","resultRecordCount","resultOffset","returnZ","returnM","exceededTransferLimit","features","_createFeatures","objectIdFieldName","transform","orderByFields","returnGeometry","returnCentroid","maxAllowableOffset","slice","min","POSITIVE_INFINITY","maxPointCount","maxRecordCount","maxVertexCount","reduce","sqlType","domain","defaultValue","exceedslimit","outStatisticFieldName","Object","keys","count","itemPositions","aggregateGeometries","_getAggregateGeometry","_getPercentileValue","_getStatisticValue","_isAnyDateField","convexHull","union","import","returnDistinct","statisticParameters","orderBy","M","isDiscrete","getExpressionValues","viewingMode","max","availableFields","geometryPrecision","multipatchOption","pixelSize","relationParam","text","Promise","all","then","Boolean","where","definition","extractFieldNames","params","L","D","W","$","_geometryQueryCache","_changeHandle","capabilities","definitionExpression","featureStore","aggregateAdapter","events","on","clearCache","timeInfo","cacheSpatialQueries","J","scheduler","priority","_frameTask","registerTask","destroy","clear","_allFeaturesPromise","_timeExtentPromise","_fullExtentPromise","_executeQuery","createQueryResponse","O","extent","_getBounds","executeQueryForIdSet","_reschedule","_schedule","P","B","Q","xmin","xmax","ymin","ymax","w","signal","_searchFeatures","_getQueryBBoxes","toJSON","_executeObjectIdsQuery","_executeTimeQuery","_executeAttributesQuery","_executeGeometryQueryForSnapping","trackIdField","_filterLatest","_executeQueryForStatistics","createSummaryStatisticsResponse","createUniqueValuesResponse","createClassBreaksResponse","createHistogramResponse","Z","_getFullExtent","fullExtent","timeExtent","forEachBounds","zmin","zmax","getFullExtent","resolve","_getAllFeatures","schedule","reschedule","_executeSceneFilterQuery","_executeGeometryQuery","_executeAggregateIdsQuery","sceneFilter","featureSpatialReference","_project","spatialRelationship","k","_runSpatialFilter","_canExecuteSinglePass","spatialRel","JSON","stringify","originalFilterGeometry","outSpatialReference","_getAllFeaturesQueryEngineResult","aggregateIds","getFeatureObjectIds","objectIds","H","E","TypeError","madeProgress","done","startTimeField","endTimeField","U","j","rings","forEachInBounds"],"sources":["./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","./node_modules/@arcgis/core/core/sql/WhereClauseCache.js","./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js","./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js","./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js","./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js","./node_modules/@arcgis/core/layers/graphics/data/queryValidationUtils.js","./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getCentroidOptimizedGeometry as t}from\"../centroid.js\";import{OptimizedFeature as e}from\"../OptimizedFeature.js\";import r from\"../OptimizedGeometry.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,r)=>new e(r,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(e,o)=>(null==e.centroid&&(e.centroid=t(new r,e.geometry,o.hasZ,o.hasM)),e.centroid)};export{o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{LRUCache as t}from\"../LRUCache.js\";import{WhereClause as e}from\"./WhereClause.js\";class r{constructor(e,r){this._cache=new t(e),this._invalidCache=new t(r)}get(t,r){const i=`${r.uid}:${t}`,c=this._cache.get(i);if(c)return c;if(null!=this._invalidCache.get(i))return null;try{const c=e.create(t,r);return this._cache.put(i,c),c}catch(n){return this._invalidCache.put(i,n),null}}getError(t,e){const r=`${e.uid}:${t}`;return this._invalidCache.get(r)??null}}export{r as WhereClauseCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";import{kebabDict as r}from\"../../support/fieldType.js\";const s=new i(50,500),t=\"unsupported-query\",n=\" as \",o=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeBigInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"]),a=new Set([\"esriFieldTypeDate\",\"esriFieldTypeDateOnly\",\"esriFieldTypeTimeOnly\",\"esriFieldTypeTimestampOffset\"]),l=new Set([\"esriFieldTypeString\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",...o,...a]);function d(i,r,n={}){const o=c(r,i);if(!o){const n=s.getError(r,i);throw new e(t,\"invalid SQL expression\",{expression:r,error:n})}const a=n.expressionName||\"expression\";if(n.validateStandardized&&!o.isStandardized)throw new e(t,`${a} is not standard`,{expression:r});if(n.validateAggregate&&!o.isAggregate)throw new e(t,`${a} does not contain a valid aggregate function`,{expression:r});return o.fieldNames}function p(e,i,r,s){if(!r)return!0;const t=\"where clause\";return g(e,i,d(e,r,{validateStandardized:!0,expressionName:t}),{expressionName:t,query:s}),!0}function f(i,r,s,n,o){if(!s)return!0;const a=\"having clause\",l=d(i,s,{validateAggregate:!0,expressionName:a});g(i,r,l,{expressionName:a,query:o});const p=c(s,i),f=p?.getExpressions().every((e=>{const{aggregateType:r,field:s}=e,t=i.get(s)?.name;return n.some((e=>{const{onStatisticField:s,statisticType:n}=e,o=i.get(s)?.name;return o===t&&n.toLowerCase().trim()===r}))}));if(!f)throw new e(t,\"expressions in having clause should also exist in outStatistics\",{having:s});return!0}function c(e,i){return e?s.get(e,i):null}function u(e){return/\\((.*?)\\)/.test(e)?e:e.split(n)[0]}function y(e){return e.split(n)[1]}function g(i,r,s,n={}){const o=new Map;if(m(o,i,r,n.allowedFieldTypes??l,s),o.size){const i=n.expressionName??\"expression\";throw new e(t,`${i} contains invalid or missing fields`,{errors:Array.from(o.values()),query:n.query})}}function m(e,i,r,s,t){const n=t.includes(\"*\")?[...r,...t.filter((e=>\"*\"!==e))]:t;for(const a of n){if(i.get(a))T(e,i,r,s,a);else try{const t=d(i,u(a),{validateStandardized:!0});for(const n of t)T(e,i,r,s,n)}catch(o){e.set(a,{type:\"expression-error\",expression:a,error:o})}}}function T(e,i,s,t,n){const o=i.get(n);o?s.has(o.name)?\"all\"!==t&&!1===t?.has(o.type)&&e.set(n,{type:\"invalid-type\",fieldName:o.name,fieldType:r.fromJSON(o.type),allowedFieldTypes:Array.from(t,(e=>r.fromJSON(e)))}):e.set(n,{type:\"missing-field\",fieldName:o.name}):e.set(n,{type:\"invalid-field\",fieldName:n})}export{a as allDateAndTimeFieldTypes,y as getAliasFromFieldName,u as getExpressionFromFieldName,c as getWhereClause,o as numericFieldTypes,g as validateFields,f as validateHaving,p as validateWhere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getExpressionFromFieldName as t,getWhereClause as e,getAliasFromFieldName as i}from\"./attributeSupport.js\";import{getGeometry as s}from\"./geometryUtils.js\";import{isDateOnlyField as a,isTimestampOffsetField as l,isTimeOnlyField as r}from\"../../support/fieldUtils.js\";import{timeOnlyToMilliseconds as n}from\"../../../smartMapping/statistics/support/utils.js\";import{processNullValue as u,getNormalizedValue as o}from\"../../../statistics/utils.js\";import{loadArcade as d}from\"../../../support/arcadeOnDemand.js\";class c{constructor(s,a,l){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=s.returnDistinctValues??!1,this.fieldsIndex=l,this.featureAdapter=a;const r=s.outFields;if(r&&!r.includes(\"*\")){this.outFields=r;let s=0;for(const a of r){const r=t(a),n=this.fieldsIndex.get(r),u=n?null:e(r,l),o=n?n.name:i(a)||\"FIELD_EXP_\"+s++;this._fieldDataCache.set(a,{alias:o,clause:u})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,i,s){const a=s?s.name:i;let l=null;return this._fieldDataCache.has(a)?l=this._fieldDataCache.get(a)?.clause:s||(l=e(i,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:l})),s?this.featureAdapter.getAttribute(t,a):l?.calculateValue(t,this.featureAdapter)}getDataValues(t,e,i=!0){const s=e.normalizationType,d=e.normalizationTotal,c=this.fieldsIndex.get(e.field),h=a(c)||l(c),f=r(c);return t.map((t=>{let a=e.field&&this.getFieldValue(t,e.field,this.fieldsIndex.get(e.field));if(e.field2?(a=`${u(a)}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field2,this.fieldsIndex.get(e.field2)))}`,e.field3&&(a=`${a}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field3,this.fieldsIndex.get(e.field3)))}`)):\"string\"==typeof a&&i&&(h?a=a?new Date(a).getTime():null:f&&(a=a?n(a):null)),s&&Number.isFinite(a)){const i=\"field\"===s&&e.normalizationField?this.getFieldValue(t,e.normalizationField,this.fieldsIndex.get(e.normalizationField)):null;a=o(a,s,i,d)}return a}))}async getExpressionValues(t,e,i,a,l){const{arcadeUtils:r}=await d(),n=r.hasGeometryOperations(e);n&&await r.enableGeometryOperations();const u=r.createFunction(e),o=r.getViewInfo(i),c={fields:this.fieldsIndex.fields};return t.map((t=>{const e={attributes:this.featureAdapter.getAttributes(t),layer:c,geometry:n?{...s(a.geometryType,a.hasZ,a.hasM,this.featureAdapter.getGeometry(t)),spatialReference:i?.spatialReference}:null},d=r.createExecContext(e,o,l);return r.executeFunction(u,d)}))}validateItem(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testFeature(t,this.featureAdapter)??!1}validateItems(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testSet(t,this.featureAdapter)??!1}_processAttributesForOutFields(t){const e=this.outFields;if(!e?.length)return this.featureAdapter.getAttributes(t);const i={};for(const s of e){const{alias:e,clause:a}=this._fieldDataCache.get(s);i[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return i}_processAttributesForDistinctValues(t){if(null==t||!this.returnDistinctValues)return t;const e=this.outFields,i=[];if(e)for(const l of e){const{alias:e}=this._fieldDataCache.get(l);i.push(t[e])}else for(const l in t)i.push(t[l]);const s=`${(e||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let a=this._returnDistinctMap.get(s)||0;return this._returnDistinctMap.set(s,++a),a>1?null:t}}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction t(t,e,r){return{objectId:t,target:e,distance:r,type:\"vertex\"}}function e(t,e,r,n,d,a=!1){return{objectId:t,target:e,distance:r,type:\"edge\",start:n,end:d,draped:a}}export{e as makeEdgeCandidate,t as makeVertexCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{polygonCentroid as t,extentCentroid as s}from\"../../../geometry/support/centroid.js\";import{getPolygonExtent as i,getGeometryExtent as a}from\"../../../geometry/support/extentUtils.js\";import{toQuantizationTransform as r}from\"../../../geometry/support/quantizationUtils.js\";import{isValid as n,equals as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import l from\"./AttributesBuilder.js\";import{cleanFromGeometryEngine as u,getGeometry as c,transformCentroid as d}from\"./geometryUtils.js\";import{project as m}from\"./projectionSupport.js\";import{makeEdgeCandidate as h,makeVertexCandidate as g}from\"./SnappingCandidate.js\";import{isDateField as f,isDateOnlyField as p,isTimestampOffsetField as y,isStringField as x,isTimeOnlyField as I}from\"../../support/fieldUtils.js\";import{isNullCountSupported as T,calculateStringStatistics as V,calculateStatistics as F,processSummaryStatisticsResult as S,calculateUniqueValuesCount as _,createUVResult as v,calculateClassBreaks as b,resolveCBResult as R,calculateHistogram as A,getAttributeComparator as z,calculatePercentile as M}from\"../../../statistics/utils.js\";class q{constructor(e,t,s){this.items=e,this.query=t,this.geometryType=s.geometryType,this.hasM=s.hasM,this.hasZ=s.hasZ,this.fieldsIndex=s.fieldsIndex,this.objectIdField=s.objectIdField,this.spatialReference=s.spatialReference,this.featureAdapter=s.featureAdapter}get size(){return this.items.length}createQueryResponseForCount(){const e=new l(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:t,having:s,outStatistics:i}=this.query,a=t?.length;if(!!!a)return 1;const r=new Map,n=new Map,o=new Set;for(const l of i){const{statisticType:i}=l,a=\"exceedslimit\"!==i?l.onStatisticField:void 0;if(!n.has(a)){const s=[];for(const i of t){const t=this._getAttributeValues(e,i,r);s.push(t)}n.set(a,this._calculateUniqueValues(s,e.returnDistinctValues))}const u=n.get(a);for(const t in u){const{data:i,items:a}=u[t],r=i.join(\",\");s&&!e.validateItems(a,s)||o.add(r)}}return o.size}async createQueryResponse(){let e;if(this.query.outStatistics){e=this.query.outStatistics.some((e=>\"exceedslimit\"===e.statisticType))?this._createExceedsLimitQueryResponse(this.query):await this._createStatisticsQueryResponse(this.query)}else e=this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const t=this.query.geometry;n(this.query.outSR)&&!o(t.spatialReference,this.query.outSR)?e.queryGeometry=u({spatialReference:this.query.outSR,...m(t,t.spatialReference,this.query.outSR)}):e.queryGeometry=u({spatialReference:this.query.outSR,...t})}return e}createSnappingResponse(e,t){const s=this.featureAdapter,i=C(this.hasZ,this.hasM),{point:a,mode:r}=e,n=\"number\"==typeof e.distance?e.distance:e.distance.x,o=\"number\"==typeof e.distance?e.distance:e.distance.y,l={candidates:[]},u=\"esriGeometryPolygon\"===this.geometryType,c=this._getPointCreator(r,this.spatialReference,t),d=new G(null,0),m=new G(null,0),f={x:0,y:0,z:0};for(const p of this.items){const t=s.getGeometry(p);if(null==t)continue;const{coords:r,lengths:y}=t;if(d.coords=r,m.coords=r,e.returnEdge){let e=0;for(let t=0;t<y.length;t++){const r=y[t];for(let t=0;t<r;t++,e+=i){const u=d;if(u.coordsIndex=e,t!==r-1){const t=m;t.coordsIndex=e+i;const r=f;N(f,a,u,t);const d=(a.x-r.x)/n,g=(a.y-r.y)/o,y=d*d+g*g;y<=1&&l.candidates.push(h(s.getObjectId(p),c(r),Math.sqrt(y),c(u),c(t)))}}}}if(\"none\"!==e.vertexMode){const t=u?r.length-i:r.length;if(\"all\"===e.vertexMode)for(let e=0;e<t;e+=i){const t=d;t.coordsIndex=e;const i=(a.x-t.x)/n,r=(a.y-t.y)/o,u=i*i+r*r;u<=1&&l.candidates.push(g(s.getObjectId(p),c(t),Math.sqrt(u)))}else if(\"ends\"===e.vertexMode){const e=[0];u||e.push(r.length-i);for(const t of e){const e=d;e.coordsIndex=t;const i=(a.x-e.x)/n,r=(a.y-e.y)/o,u=i*i+r*r;u<=1&&l.candidates.push(g(s.getObjectId(p),c(e),Math.sqrt(u)))}}}}return l.candidates.sort(((e,t)=>e.distance-t.distance)),l}_getPointCreator(e,t,s){const i=null==s||o(t,s)?e=>e:e=>m(e,t,s),{hasZ:a}=this,r=0;return\"3d\"===e?a?({x:e,y:t,z:s})=>i({x:e,y:t,z:s}):({x:e,y:t})=>i({x:e,y:t,z:r}):({x:e,y:t})=>i({x:e,y:t})}async createSummaryStatisticsResponse(e){const{field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,minValue:n,maxValue:o,scale:l,timeZone:u}=e,c=this.fieldsIndex.get(t),d=f(c)||p(c)||y(c),m=await this._getDataValues({field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,scale:l,timeZone:u}),h=T({normalizationType:a,normalizationField:i,minValue:n,maxValue:o}),g={value:.5,fieldType:c?.type},I=x(c)?V({values:m,supportsNullCount:h,percentileParams:g}):F({values:m,minValue:n,maxValue:o,useSampleStdDev:!a,supportsNullCount:h,percentileParams:g});return S(I,d)}async createUniqueValuesResponse(e){const{field:t,valueExpression:s,domains:i,returnAllCodedValues:a,scale:r,timeZone:n}=e,o=await this._getDataValues({field:t,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:s,scale:r,timeZone:n},!1),l=_(o);return v(l,i,a,e.fieldDelimiter)}async createClassBreaksResponse(e){const{field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c,scale:d,timeZone:m}=e,h=await this._getDataValues({field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,scale:d,timeZone:m}),g=b(h,{field:t,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c});return R(g,n)}async createHistogramResponse(e){const{field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c,scale:d,timeZone:m}=e,h=await this._getDataValues({field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,scale:d,timeZone:m});return A(h,{field:t,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c})}_sortFeatures(e,t,s){if(e.length>1&&t?.length)for(const i of t.reverse()){const t=i.split(\" \"),a=t[0],r=this.fieldsIndex.get(a),n=!!t[1]&&\"desc\"===t[1].toLowerCase(),o=z(r?.type,n);e.sort(((e,t)=>{const i=s(e,a,r),n=s(t,a,r);return o(i,n)}))}}_createFeatureQueryResponse(e){const t=this.items,{geometryType:s,hasM:i,hasZ:a,objectIdField:n,spatialReference:o}=this,{outFields:l,outSR:c,quantizationParameters:d,resultRecordCount:m,resultOffset:h,returnZ:g,returnM:f}=e,p=null!=m&&t.length>(h||0)+m,y=l&&(l.includes(\"*\")?[...this.fieldsIndex.fields]:l.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:p,features:this._createFeatures(e,t),fields:y,geometryType:s,hasM:i&&f,hasZ:a&&g,objectIdFieldName:n,spatialReference:u(c||o),transform:d&&r(d)||null}}_createFeatures(e,t){const s=new l(e,this.featureAdapter,this.fieldsIndex),{hasM:i,hasZ:a}=this,{orderByFields:n,quantizationParameters:o,returnGeometry:u,returnCentroid:m,maxAllowableOffset:h,resultOffset:g,resultRecordCount:f,returnZ:p=!1,returnM:y=!1}=e,x=a&&p,I=i&&y;let T=[],V=0;const F=[...t];if(this._sortFeatures(F,n,((e,t,i)=>s.getFieldValue(e,t,i))),this.geometryType&&(u||m)){const e=r(o)??void 0,t=\"esriGeometryPolygon\"===this.geometryType||\"esriGeometryPolyline\"===this.geometryType;if(u&&!m)for(const i of F){const a=this.featureAdapter.getGeometry(i),r={attributes:s.getAttributes(i),geometry:c(this.geometryType,this.hasZ,this.hasM,a,h,e,x,I)};t&&a&&!r.geometry&&(r.centroid=d(this,this.featureAdapter.getCentroid(i,this),e)),T[V++]=r}else if(!u&&m)for(const i of F)T[V++]={attributes:s.getAttributes(i),centroid:d(this,this.featureAdapter.getCentroid(i,this),e)};else for(const i of F)T[V++]={attributes:s.getAttributes(i),centroid:d(this,this.featureAdapter.getCentroid(i,this),e),geometry:c(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(i),h,e,x,I)}}else for(const r of F){const e=s.getAttributes(r);e&&(T[V++]={attributes:e})}const S=g||0;if(null!=f){const e=S+f;T=T.slice(S,Math.min(T.length,e))}return T}_createExceedsLimitQueryResponse(e){let t=!1,s=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;for(const r of e.outStatistics??[])if(\"exceedslimit\"===r.statisticType){s=null!=r.maxPointCount?r.maxPointCount:Number.POSITIVE_INFINITY,i=null!=r.maxRecordCount?r.maxRecordCount:Number.POSITIVE_INFINITY,a=null!=r.maxVertexCount?r.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)t=this.items.length>s;else if(this.items.length>i)t=!0;else{const e=C(this.hasZ,this.hasM),s=this.featureAdapter;t=this.items.reduce(((e,t)=>{const i=s.getGeometry(t);return e+(null!=i&&i.coords.length||0)}),0)/e>a}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(t)}}]}}async _createStatisticsQueryResponse(e){const t={attributes:{}},s=[],i=new Map,a=new Map,r=new Map,n=new Map,o=new l(e,this.featureAdapter,this.fieldsIndex),u=e.outStatistics,{groupByFieldsForStatistics:c,having:d,orderByFields:m,resultRecordCount:h}=e,g=c?.length,f=!!g,p=f?c[0]:null,y=f&&!this.fieldsIndex.get(p);for(const l of u??[]){const{outStatisticFieldName:e,statisticType:u}=l,m=l,h=\"exceedslimit\"!==u?l.onStatisticField:void 0,I=\"percentile_disc\"===u||\"percentile_cont\"===u,T=\"EnvelopeAggregate\"===u||\"CentroidAggregate\"===u||\"ConvexHullAggregate\"===u,V=f&&1===g&&(h===p||y)&&\"count\"===u;if(f){if(!r.has(h)){const e=[];for(const t of c){const s=this._getAttributeValues(o,t,i);e.push(s)}r.set(h,this._calculateUniqueValues(e,!T&&o.returnDistinctValues))}const t=r.get(h);if(!t)continue;const s=Object.keys(t);for(const a of s){const{count:s,data:r,items:l,itemPositions:u}=t[a],g=r.join(\",\");if(!d||o.validateItems(l,d)){const t=n.get(g)||{attributes:{}};if(T){t.aggregateGeometries||(t.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(m,l);t.aggregateGeometries[s]=e}else{let a=null;if(V)a=s;else{const e=this._getAttributeValues(o,h,i),t=u.map((t=>e[t]));a=I&&\"statisticParameters\"in m?this._getPercentileValue(m,t):this._getStatisticValue(m,t,null,o.returnDistinctValues)}t.attributes[e]=a}let a=0;c.forEach(((e,s)=>t.attributes[this.fieldsIndex.get(e)?e:\"EXPR_\"+ ++a]=r[s])),n.set(g,t)}}}else if(T){t.aggregateGeometries||(t.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(m,this.items);t.aggregateGeometries[s]=e}else{const s=this._getAttributeValues(o,h,i);t.attributes[e]=I&&\"statisticParameters\"in m?this._getPercentileValue(m,s):this._getStatisticValue(m,s,a,o.returnDistinctValues)}const F=\"min\"!==u&&\"max\"!==u||!x(this.fieldsIndex.get(h))&&!this._isAnyDateField(h)?null:this.fieldsIndex.get(h)?.type;s.push({name:e,alias:e,type:F||\"esriFieldTypeDouble\"})}const I=f?Array.from(n.values()):[t];return this._sortFeatures(I,m,((e,t)=>e.attributes[t])),h&&(I.length=Math.min(h,I.length)),{fields:s,features:I}}_isAnyDateField(e){const t=this.fieldsIndex.get(e);return f(t)||p(t)||y(t)||I(t)}async _getAggregateGeometry(e,r){const{convexHull:n,union:o}=await import(\"../../../geometry/geometryEngineJSON.js\"),{statisticType:l,outStatisticFieldName:u}=e,{featureAdapter:d,spatialReference:m,geometryType:h,hasZ:g,hasM:f}=this,p=r.map((e=>c(h,g,f,d.getGeometry(e)))),y=n(m,p,!0)[0],x={aggregateGeometries:null,outStatisticFieldName:null};if(\"EnvelopeAggregate\"===l){const e=y?i(y):a(o(m,p));x.aggregateGeometries={...e,spatialReference:m},x.outStatisticFieldName=u||\"extent\"}else if(\"CentroidAggregate\"===l){const e=y?t(y):s(a(o(m,p)));x.aggregateGeometries={x:e[0],y:e[1],spatialReference:m},x.outStatisticFieldName=u||\"centroid\"}else\"ConvexHullAggregate\"===l&&(x.aggregateGeometries=y,x.outStatisticFieldName=u||\"convexHull\");return x}_getStatisticValue(e,t,s,i){const{onStatisticField:a,statisticType:r}=e;let n=null;n=s?.has(a)?s.get(a):x(this.fieldsIndex.get(a))||this._isAnyDateField(a)?V({values:t,returnDistinct:i}):F({values:i?[...new Set(t)]:t,minValue:null,maxValue:null,useSampleStdDev:!0}),s&&s.set(a,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(e,t){const{onStatisticField:s,statisticParameters:i,statisticType:a}=e,{value:r,orderBy:n}=i,o=this.fieldsIndex.get(s);return M(t,{value:r,orderBy:n,fieldType:o?.type,isDiscrete:\"percentile_disc\"===a})}_getAttributeValues(e,t,s){if(s.has(t))return s.get(t);const i=this.fieldsIndex.get(t),a=this.items.map((s=>e.getFieldValue(s,t,i)));return s.set(t,a),a}_calculateUniqueValues(e,t){const s={},i=this.items,a=i.length;for(let r=0;r<a;r++){const a=i[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(\",\");null==s[o]?s[o]={count:1,data:n,items:[a],itemPositions:[r]}:(t||s[o].count++,s[o].items.push(a),s[o].itemPositions.push(r))}return s}async _getDataValues(t,s=!0){const i=new l(this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:a,scale:r,timeZone:n}=t;return a?i.getExpressionValues(this.items,a,{viewingMode:\"map\",scale:r,spatialReference:this.query.outSR||this.spatialReference},{geometryType:this.geometryType,hasZ:this.hasZ,hasM:this.hasM},n):i.getDataValues(this.items,e(t),s)}}function N(e,t,s,i){const a=i.x-s.x,r=i.y-s.y,n=a*a+r*r,o=(t.x-s.x)*a+(t.y-s.y)*r,l=Math.min(1,Math.max(0,o/n));e.x=s.x+a*l,e.y=s.y+r*l}function C(e,t){return e?t?4:3:t?3:2}class G{constructor(e,t){this.coords=e,this.coordsIndex=t}get x(){return this.coords[this.coordsIndex]}get y(){return this.coords[this.coordsIndex+1]}get z(){return this.coords[this.coordsIndex+2]}}export{q as QueryEngineResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{numericFieldTypes as t,allDateAndTimeFieldTypes as i,validateFields as s,validateWhere as r,validateHaving as o}from\"./attributeSupport.js\";import{checkProjectionSupport as n}from\"./projectionSupport.js\";import{checkSpatialQuerySupport as a}from\"./spatialQuerySupport.js\";import{loadArcade as l}from\"../../../support/arcadeOnDemand.js\";const u=\"unsupported-query\";async function p(t,{fieldsIndex:i,geometryType:s,spatialReference:r,availableFields:o}){if((t.distance??0)<0||null!=t.geometryPrecision||t.multipatchOption&&\"xyFootprint\"!==t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new e(u,\"Unsupported query options\",{query:t});return c(i,o,t),f(i,o,t),Promise.all([a(t,s,r),n(r,t.outSR)]).then((()=>t))}function c(t,i,o){const{outFields:n,orderByFields:a,returnDistinctValues:l,outStatistics:p}=o,c=p?p.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(a&&a.length>0){const e=\" asc\",r=\" desc\",n=a.map((t=>{const i=t.toLowerCase();return i.includes(e)?i.split(e)[0]:i.includes(r)?i.split(r)[0]:t})).filter((e=>!c.includes(e)));s(t,i,n,{expressionName:\"orderByFields\",query:o})}if(n&&n.length>0)s(t,i,n,{expressionName:\"outFields\",query:o,allowedFieldTypes:\"all\"});else if(l)throw new e(u,\"outFields should be specified for returnDistinctValues\",{query:o});r(t,i,o.where,o)}const d=new Set([...t,...i]);function f(t,i,r){const{outStatistics:n,groupByFieldsForStatistics:a,having:l}=r,p=a?.length,c=n?.length;if(l){if(!p||!c)throw new e(u,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:r});o(t,i,l,n,r)}if(c){if(!h(n))return;const o=n.map((e=>e.onStatisticField)).filter(Boolean);s(t,i,o,{expressionName:\"onStatisticFields\",query:r}),p&&s(t,i,a,{expressionName:\"groupByFieldsForStatistics\",query:r});for(const a of n){const{onStatisticField:o,statisticType:n}=a;if((\"percentile_disc\"===n||\"percentile_cont\"===n)&&\"statisticParameters\"in a){const{statisticParameters:t}=a;if(!t)throw new e(u,\"statisticParameters should be set for percentile type\",{definition:a,query:r})}else t.get(o)&&\"count\"!==n&&\"min\"!==n&&\"max\"!==n&&s(t,i,[o],{expressionName:`outStatistics with '${n}' statistic type`,allowedFieldTypes:d,query:r})}}}async function m(t,i,{fieldsIndex:s,geometryType:r,spatialReference:o,availableFields:l}){if((t.distance??0)<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new e(u,\"Unsupported query options\",{query:t});return c(s,l,t),Promise.all([y(s,l,i,t),a(t,r,o),n(o,t.outSR)]).then((()=>t))}async function y(t,i,r,o){let n=[];if(r.valueExpression){const{arcadeUtils:e}=await l();n=e.extractFieldNames(r.valueExpression)}if(r.field&&n.push(r.field),r.field2&&n.push(r.field2),r.field3&&n.push(r.field3),r.normalizationField&&n.push(r.normalizationField),!n.length&&!r.valueExpression)throw new e(u,\"field or valueExpression is required\",{params:r});s(t,i,n,{expressionName:\"statistics\",query:o})}function h(e){return null!=e&&e.every((e=>\"exceedslimit\"!==e.statisticType))}export{p as validateQuery,m as validateStatisticsQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{indexOf as e,PositionHint as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Error.js\";import{isSerializable as s}from\"../../../core/JSONSupport.js\";import{clone as r}from\"../../../core/lang.js\";import{removeMaybe as a,destroyMaybe as n}from\"../../../core/maybe.js\";import{MemCacheStorage as l,MemCache as u}from\"../../../core/MemCache.js\";import{signalFromSignalOrOptions as o,throwIfAborted as h}from\"../../../core/promiseUtils.js\";import{getMetersPerUnitForSR as c}from\"../../../core/unitUtils.js\";import{getTransformation as m}from\"../../../geometry/projection.js\";import{set as y,negativeInfinity as f,create as p,expandWithAABB as d}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as g,create as x}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as _}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as w,isExtent as F,isPolygon as S}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as R}from\"../../../geometry/support/normalizeUtils.js\";import{equals as Q,isValid as I}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as j}from\"../featureConversionUtils.js\";import{getWhereClause as E}from\"./attributeSupport.js\";import{cleanFromGeometryEngine as b,getGeometry as A}from\"./geometryUtils.js\";import{checkProjectionSupport as T,project as v,projectMany as C}from\"./projectionSupport.js\";import{queryCapabilities as M}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as G}from\"./QueryEngineResult.js\";import{queryEngineEmptyResult as O,normalizeQueryLike as P,normalizeQuery as z}from\"./queryUtils.js\";import{validateQuery as B,validateStatisticsQuery as q}from\"./queryValidationUtils.js\";import{getSpatialQueryOperator as k,canQueryWithRBush as U}from\"./spatialQuerySupport.js\";import{getTimeExtent as Z,getTimeOperator as H}from\"./timeSupport.js\";import J from\"../../support/FieldsIndex.js\";import{noBudget as N}from\"../../../views/support/Scheduler.js\";const L=\"unsupported-query\";class V{constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const D=new l(2e6);let W=0;class ${constructor(e){this._geometryQueryCache=null,this._changeHandle=null,this.capabilities={query:M},this.geometryType=e.geometryType,this.hasM=!!e.hasM,this.hasZ=!!e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new u(W+++\"$$\",D)),this.fieldsIndex=s(e.fieldsIndex)?e.fieldsIndex:J.fromJSON(e.fieldsIndex),!e.availableFields||1===e.availableFields.length&&\"*\"===e.availableFields[0]?this.availableFields=new Set(this.fieldsIndex.fields.map((e=>e.name))):this.availableFields=new Set(e.availableFields.map((e=>this.fieldsIndex.get(e)?.name)).filter((e=>null!=e))),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=a(this._frameTask),this.clearCache(),n(this._geometryQueryCache),this._changeHandle=a(this._changeHandle)}get featureAdapter(){return this.featureStore.featureAdapter}clearCache(){this._geometryQueryCache?.clear(),this._allFeaturesPromise=null,this._timeExtentPromise=null,this._fullExtentPromise=null}async executeQuery(e,t){const i=o(t);try{return(await this._executeQuery(e,{},i)).createQueryResponse()}catch(s){if(s!==O)throw s;return new G([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){const i=o(t);try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},i)).createQueryResponseForCount()}catch(s){if(s!==O)throw s;return 0}}async executeQueryForExtent(e,t){const i=o(t),s=e.outSR;try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},i),r=t.size;if(!r)return{count:0,extent:null};return{count:r,extent:await this._getBounds(t.items,t.spatialReference,s||this.spatialReference)}}catch(r){if(r===O)return{count:0,extent:null};throw r}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){const i=o(t);try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},i),s=t.items,r=new Set;return await this._reschedule((()=>{for(const e of s)r.add(t.featureAdapter.getObjectId(e))}),i),r}catch(s){if(s===O)return new Set;throw s}}async executeQueryForSnapping(e,t){const i=o(t),{point:s,distance:a,returnEdge:n,vertexMode:l}=e;if(!n&&\"none\"===l)return{candidates:[]};let u=r(e.query);u=await this._schedule((()=>P(u,this.definitionExpression,this.spatialReference)),i),u=await this._reschedule((()=>B(u,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),i);const h=!Q(s.spatialReference,this.spatialReference);h&&await T(s.spatialReference,this.spatialReference);const c=\"number\"==typeof a?a:a.x,m=\"number\"==typeof a?a:a.y,y={xmin:s.x-c,xmax:s.x+c,ymin:s.y-m,ymax:s.y+m,spatialReference:s.spatialReference},f=h?v(y,this.spatialReference):y;if(!f)return{candidates:[]};const p=(await R(w(s),null,{signal:i}))[0],d=(await R(w(f),null,{signal:i}))[0];if(null==p||null==d)return{candidates:[]};const g=new G(await this._reschedule((()=>this._searchFeatures(this._getQueryBBoxes(d.toJSON()))),i),u,this);await this._reschedule((()=>this._executeObjectIdsQuery(g)),i),await this._reschedule((()=>this._executeTimeQuery(g)),i),await this._reschedule((()=>this._executeAttributesQuery(g)),i),await this._reschedule((()=>this._executeGeometryQueryForSnapping(g,i)),i);const x=p.toJSON(),_=h?v(x,this.spatialReference):x,F=h?Math.max(f.xmax-f.xmin,f.ymax-f.ymin)/2:a;return g.createSnappingResponse({...e,point:_,distance:F},s.spatialReference)}async executeQueryForLatestObservations(e,t){const s=o(t);if(!this.timeInfo?.trackIdField)throw new i(L,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});try{const t=await this._executeQuery(e,{},s);return await this._reschedule((()=>this._filterLatest(t)),s),t.createQueryResponse()}catch(r){if(r!==O)throw r;return new G([],e,this).createQueryResponse()}}async executeQueryForSummaryStatistics(e={},t,i){const s=o(i),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},s)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,i){const s=o(i),{field:r,field2:a,field3:n,valueExpression:l}=t;return(await this._executeQueryForStatistics(e,{field:r,field2:a,field3:n,valueExpression:l},s)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,i){const s=o(i),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},s)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,i){const s=o(i),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},s)).createHistogramResponse(t)}async fetchRecomputedExtents(e){const t=o(e);this._timeExtentPromise||=Z(this.timeInfo,this.featureStore);const[i,s]=await Promise.all([this._getFullExtent(),this._timeExtentPromise]);return h(t),{fullExtent:i,timeExtent:s}}async _getBounds(e,t,i){const s=y(p(),f);await this.featureStore.forEachBounds(e,(e=>d(s,e)));const r={xmin:s[0],ymin:s[1],xmax:s[3],ymax:s[4],spatialReference:b(this.spatialReference)};this.hasZ&&isFinite(s[2])&&isFinite(s[5])&&(r.zmin=s[2],r.zmax=s[5]);const a=v(r,t,i);if(a.spatialReference=b(i),a.xmax-a.xmin==0){const e=c(a.spatialReference);a.xmin-=e,a.xmax+=e}if(a.ymax-a.ymin==0){const e=c(a.spatialReference);a.ymin-=e,a.ymax+=e}if(this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin==0){const e=c(a.spatialReference);a.zmin-=e,a.zmax+=e}return a}_getFullExtent(){return this._fullExtentPromise||=\"getFullExtent\"in this.featureStore&&this.featureStore.getFullExtent?Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)):this._getAllFeatures().then((e=>this._getBounds(e,this.spatialReference,this.spatialReference))),this._fullExtentPromise}async _schedule(e,t){return null!=this._frameTask?this._frameTask.schedule(e,t):e(N)}async _reschedule(e,t){return null!=this._frameTask?this._frameTask.reschedule(e,t):e(N)}async _getAllFeaturesQueryEngineResult(e){return new G(await this._getAllFeatures(),e,this)}async _getAllFeatures(){if(null==this._allFeaturesPromise){const e=[];this._allFeaturesPromise=(async()=>{await this.featureStore.forEach((t=>e.push(t)))})().then((()=>e))}const e=this._allFeaturesPromise,t=await e;return e===this._allFeaturesPromise?t.slice():this._getAllFeatures()}async _executeQuery(e,t,i){e=r(e),e=await this._schedule((()=>z(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>B(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),i),e={...e,...t};const s=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),a=await this._reschedule((()=>this._executeGeometryQuery(e,s,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(a)),i),await this._reschedule((()=>this._executeObjectIdsQuery(a)),i),await this._reschedule((()=>this._executeTimeQuery(a)),i),await this._reschedule((()=>this._executeAttributesQuery(a)),i),a}async _executeSceneFilterQuery(e,t){if(null==e.sceneFilter)return null;const{outSR:i,returnGeometry:s,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,n=e.sceneFilter.geometry,l=null==a||Q(a,n.spatialReference)?n:v(n,a);if(!l)return null;const u=s||r,o=I(i)&&!Q(this.spatialReference,i)&&u?async e=>this._project(e,i):e=>e,h=this.featureAdapter,c=await this._reschedule((()=>this._searchFeatures(this._getQueryBBoxes(l))),t);if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!c.length)return null;const i=new Set;for(const e of c)i.add(h.getObjectId(e));const s=await this._reschedule((()=>this._getAllFeatures()),t),r=await this._reschedule((async()=>{const r=await k(\"esriSpatialRelDisjoint\",l,this.geometryType,this.hasZ,this.hasM),a=e=>!i.has(h.getObjectId(e))||r(h.getGeometry(e)),n=await this._runSpatialFilter(s,a,t);return new G(n,e,this)}),t);return o(r)}if(!c.length)return new G([],e,this);if(this._canExecuteSinglePass(l,e))return o(new G(c,e,this));const m=await k(\"esriSpatialRelContains\",l,this.geometryType,this.hasZ,this.hasM),y=await this._runSpatialFilter(c,(e=>m(h.getGeometry(e))),t);return o(new G(y,e,this))}async _executeGeometryQuery(i,s,r){if(null!=s&&0===s.items.length)return s;i=null!=s?s.query:i;const{geometry:a,outSR:n,spatialRel:l,returnGeometry:u,returnCentroid:o}=i,h=this.featureStore.featureSpatialReference,c=!a||null==h||Q(h,a.spatialReference)?a:v(a,h),m=u||o,y=I(n)&&!Q(this.spatialReference,n),f=this._geometryQueryCache&&null==s?y&&m?JSON.stringify({originalFilterGeometry:a,spatialRelationship:l,outSpatialReference:n}):JSON.stringify({originalFilterGeometry:a,spatialRelationship:l}):null,p=f?this._geometryQueryCache.get(f):null;if(null!=p)return new G(p,i,this);const d=async e=>(y&&m&&await this._project(e,n),f&&this._geometryQueryCache.put(f,e.items,e.items.length+1),e);if(!c)return d(null!=s?s:await this._getAllFeaturesQueryEngineResult(i));const g=this.featureAdapter;let x=await this._reschedule((()=>this._searchFeatures(this._getQueryBBoxes(a))),r);if(\"esriSpatialRelDisjoint\"===l){if(!x.length)return d(null!=s?s:await this._getAllFeaturesQueryEngineResult(i));const e=new Set;for(const i of x)e.add(g.getObjectId(i));const t=null!=s?s.items:await this._reschedule((()=>this._getAllFeatures()),r),a=await this._reschedule((async()=>{const s=await k(l,c,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(g.getObjectId(t))||s(g.getGeometry(t)),n=await this._runSpatialFilter(t,a,r);return new G(n,i,this)}),r);return d(a)}if(null!=s){const i=new t;x=x.filter((t=>e(s.items,t,s.items.length,i)>=0))}if(!x.length){const e=new G([],i,this);return f&&this._geometryQueryCache.put(f,e.items,1),e}if(this._canExecuteSinglePass(c,i))return d(new G(x,i,this));const _=await k(l,c,this.geometryType,this.hasZ,this.hasM),w=await this._runSpatialFilter(x,(e=>_(g.getGeometry(e))),r);return d(new G(w,i,this))}async _executeGeometryQueryForSnapping(e,t){const{query:i}=e,{spatialRel:s}=i;if(!e?.items?.length||!i.geometry||!s)return;const r=await k(s,i.geometry,this.geometryType,this.hasZ,this.hasM),a=await this._runSpatialFilter(e.items,(e=>r(e.geometry)),t);e.items=a}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds?.length||null==this.aggregateAdapter)return;const t=new Set;for(const s of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(s).forEach((e=>t.add(e)))}const i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds?.length)return;const t=new Set(e.query.objectIds),i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeTimeQuery(e){if(0===e.items.length)return;const t=H(this.timeInfo,e.query.timeExtent,this.featureAdapter);null!=t&&(e.items=e.items.filter(t))}_executeAttributesQuery(e){if(0===e.items.length)return;const t=E(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async _runSpatialFilter(e,t,i){if(!t)return e;if(null==this._frameTask)return e.filter((e=>t(e)));let s=0;const r=new Array,a=async n=>{for(;s<e.length;){const l=e[s++];t(l)&&(r.push(l),n.madeProgress()),n.done&&await this._reschedule((e=>a(e)),i)}};return this._reschedule((e=>a(e)),i).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:i,endTimeField:s}=this.timeInfo,r=s||i,a=new Map,n=this.featureAdapter.getAttribute;for(const l of e.items){const e=n(l,t),i=n(l,r),s=a.get(e);(!s||i>n(s,r))&&a.set(e,l)}e.items=Array.from(a.values())}_canExecuteSinglePass(e,t){const{spatialRel:i}=t;return U(e)&&(\"esriSpatialRelEnvelopeIntersects\"===i||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===i||\"esriSpatialRelContains\"===i))}async _project(e,t){if(!t||Q(this.spatialReference,t))return e;const i=this.featureAdapter;let s;try{const e=await this._getFullExtent();s=m(this.spatialReference,t,e)}catch{}const r=await C(e.items.map((e=>A(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t,s);return e.items=r.map(((t,s)=>i.cloneWithGeometry(e.items[s],j(t,this.hasZ,this.hasM)))),e}_getQueryBBoxes(e){if(U(e)){if(F(e))return[g(Math.min(e.xmin,e.xmax),Math.min(e.ymin,e.ymax),Math.max(e.xmin,e.xmax),Math.max(e.ymin,e.ymax))];if(S(e))return e.rings.map((e=>g(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[_(x(),e)]}async _searchFeatures(e){const t=new Set;await Promise.all(e.map((e=>this.featureStore.forEachInBounds(e,(e=>t.add(e))))));const i=Array.from(t.values());return t.clear(),i}async _executeQueryForStatistics(e,t,i){e=r(e);try{e=await this._schedule((()=>z(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>q(e,t,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),i);const s=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),r=await this._reschedule((()=>this._executeGeometryQuery(e,s,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(r)),i),await this._reschedule((()=>this._executeObjectIdsQuery(r)),i),await this._reschedule((()=>this._executeTimeQuery(r)),i),await this._reschedule((()=>this._executeAttributesQuery(r)),i),r}catch(s){if(s!==O)throw s;return new G([],e,this)}}}export{V as Feature,$ as QueryEngine};\n"],"mappings":"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"}