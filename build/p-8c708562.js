import{c4 as n,da as e,dV as u,ci as a,de as t,d8 as r,k3 as s,ch as c,j$ as o}from"./p-aad64c9f.js";function i(s,o,i="nearest",f=!1){const l=!(f&&"u8"===o.pixelType),_=l?a.FLOAT:a.UNSIGNED_BYTE,m=null==o.pixels||0===o.pixels.length?null:l?o.getAsRGBAFloat():o.getAsRGBA(),b=s.capabilities.textureFloatLinear,p=new e;return p.width=o.width,p.height=o.height,p.internalFormat=l?u.RGBA32F:c.RGBA,p.samplingMode=!b||"bilinear"!==i&&"cubic"!==i?t.NEAREST:t.LINEAR,p.dataType=_,p.wrapMode=r.CLAMP_TO_EDGE,new n(s,p,m)}function f(s,c){const{spacing:o,offsets:i,coefficients:f,size:[l,_]}=c,m=o[0]>1,b=new e;b.width=m?4*l:l,b.height=_,b.internalFormat=u.RGBA32F,b.dataType=a.FLOAT,b.samplingMode=t.NEAREST,b.wrapMode=r.CLAMP_TO_EDGE;const p=new Float32Array(m?l*_*16:2*i.length);if(m&&null!=f)for(let n=0,e=0;n<f.length;n++)p[e++]=f[n],n%3==2&&(p[e++]=1);else for(let n=0;n<_;n++)for(let e=0;e<l;e++){const u=4*(n*l+e),a=2*(e*_+n);p[u]=i[a],p[u+1]=i[a+1],p[u+3]=-1===i[a]?0:1}return new n(s,b,p)}function l(u,a){const s=new e;return s.internalFormat=c.RGBA,s.width=a.length/4,s.height=1,s.samplingMode=t.NEAREST,s.wrapMode=r.CLAMP_TO_EDGE,new n(u,s,a)}function _(n,e,u,a=1,t=!0){return{u_flipY:t,u_applyTransform:!!n,u_opacity:a,u_transformSpacing:n?n.spacing:o,u_transformGridSize:n?n.size:o,u_targetImageSize:e,u_srcImageSize:u}}function m(n,e){return{u_colormapOffset:e||0,u_colormapMaxIndex:n?n.length/4-1:0}}function b(n,e){return{u_scale:n,u_offset:e}}function p(n){return{u_bandCount:n.bandCount,u_minOutput:n.outMin,u_maxOutput:n.outMax,u_minCutOff:n.minCutOff,u_maxCutOff:n.maxCutOff,u_factor:n.factor,u_useGamma:n.useGamma,u_gamma:n.gamma,u_gammaCorrection:n.gammaCorrection}}function k(n){return{u_hillshadeType:n.hillshadeType,u_sinZcosAs:n.sinZcosAs,u_sinZsinAs:n.sinZsinAs,u_cosZs:n.cosZs,u_weights:n.weights,u_factor:n.factor,u_minValue:n.minValue,u_maxValue:n.maxValue}}function d(n,e){const u=n.gl,a=e.glName,t=new Map;if(null==a)return t;const r=u.getProgramParameter(a,u.ACTIVE_UNIFORMS);let s;for(let n=0;n<r;n++)s=u.getActiveUniform(a,n),s&&t.set(s.name,{location:u.getUniformLocation(a,s.name),info:s});return t}function w(n,e,u){Object.keys(u).forEach((a=>{const t=e.get(a)||e.get(a+"[0]");t&&x(n,a,u[a],t)}))}function g(n,e,u,a){u.length===a.length&&(a.some((n=>null==n))||u.some((n=>null==n))||u.forEach(((u,t)=>{e.setUniform1i(u,t),n.bindTexture(a[t],t)})))}function x(n,e,u,a){if(null===a||null==u)return!1;const{info:t}=a;switch(t.type){case s.FLOAT:t.size>1?n.setUniform1fv(e,u):n.setUniform1f(e,u);break;case s.FLOAT_VEC2:n.setUniform2fv(e,u);break;case s.FLOAT_VEC3:n.setUniform3fv(e,u);break;case s.FLOAT_VEC4:n.setUniform4fv(e,u);break;case s.FLOAT_MAT3:n.setUniformMatrix3fv(e,u);break;case s.FLOAT_MAT4:n.setUniformMatrix4fv(e,u);break;case s.INT:t.size>1?n.setUniform1iv(e,u):n.setUniform1i(e,u);break;case s.BOOL:n.setUniform1i(e,u?1:0);break;case s.INT_VEC2:case s.BOOL_VEC2:n.setUniform2iv(e,u);break;case s.INT_VEC3:case s.BOOL_VEC3:n.setUniform3iv(e,u);break;case s.INT_VEC4:case s.BOOL_VEC4:n.setUniform4iv(e,u);break;default:return!1}return!0}export{k as A,g as O,d as T,m as _,f as c,i as f,b as g,w as h,_ as l,l as m,p};
//# sourceMappingURL=p-8c708562.js.map