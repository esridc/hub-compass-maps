{"version":3,"names":["n","d","i","e","toLowerCase","o","map","a","indexOf","u","longitudeFieldName","t","find","includes","latitudeFieldName","l","s","c","r","length","slice","trim","f","Array","from","Set","delimiter","filter","g","push","weight","Math","min","sort","m","names","longitudeField","latitudeField","locationInfo","p","Object","create","next","h","exec","replaceAll","splice","aliases","N","name","type","alias","b","test","x","isNaN","Number","isInteger","replace","reduce","RegExp","regexp","group","factor","NaN","decimal","y","JSON","parse","stringify","v","S","D","k","P","constructor","this","R","_queryEngine","_snapshotFeatures","async","_fetch","_createFeatures","destroy","_loadOptions","Promise","all","signal","_checkProjection","parsingOptions","spatialReference","V","_locationInfo","_delimiter","_createQueryEngine","featureStore","addMany","fullExtent","timeExtent","fetchRecomputedExtents","layerDefinition","extent","start","end","timeInfo","_waitSnapshotComplete","executeQuery","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","customParameters","_snapshotTask","abort","promise","then","clear","getLogger","error","finished","url","path","query","responseType","data","objectIdField","fields","geometryType","hasM","hasZ","I","fieldsIndex","q","fromLayerJSON","dateFieldsTimeReference","timeZoneIANA","C","wkid","E","_","_parseCoordinateValue","isDateField","isNumericField","F","w","O","WGS84","j","abs","parseFloat","drawingInfo","xmin","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","value","csv","firstLine","secondLine","T","get","assign","some","editable","nullable","unshift","startTimeField","endTimeField","trackIdField"],"sources":["./node_modules/@arcgis/core/layers/support/locationUtils.js","./node_modules/@arcgis/core/layers/graphics/sources/csv/csv.js","./node_modules/@arcgis/core/layers/graphics/sources/support/CSVSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{normalizeFieldName as e}from\"./fieldUtils.js\";function n(n,d,i){d=e(d)?.toLowerCase(),i=e(i)?.toLowerCase();const o=n.map((e=>e.toLowerCase())),a=d?n[o.indexOf(d)]:null,u=i?n[o.indexOf(i)]:null;return{longitudeFieldName:a||n[o.indexOf(t.find((e=>o.includes(e))))],latitudeFieldName:u||n[o.indexOf(l.find((e=>o.includes(e))))]}}const l=[\"lat\",\"lat83\",\"latitude\",\"latitude83\",\"latdecdeg\",\"lat_dd\",\"y\",\"ycenter\",\"point_y\"],t=[\"lon\",\"lng\",\"lng83\",\"long\",\"long83\",\"longitude\",\"longitude83\",\"longdecdeg\",\"long_dd\",\"x\",\"xcenter\",\"point_x\"];export{n as inferLocationInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isDateString as e}from\"../../../../core/date.js\";import{_parseInfo as t}from\"../../../../core/number.js\";import{normalizeFieldName as n,getFieldDefaultLength as r}from\"../../../support/fieldUtils.js\";import{inferLocationInfo as i}from\"../../../support/locationUtils.js\";const o=/^\\s*\"([\\S\\s]*)\"\\s*$/,l=/\"\"/g,s=\"\\n\",u=[\",\",\" \",\";\",\"|\",\"\\t\"];function*c(e,t,n){let r=0;for(;r<=e.length;){const i=e.indexOf(t,r),o=e.slice(r,i>-1?i:void 0);r+=o.length+t.length,n&&!o.trim()||(yield o)}}function f(e){const t=e.includes(\"\\r\\n\")?\"\\r\\n\":s;return c(e,t,!0)}function a(e,t){return c(e,t,!1)}function d(e,t,n){e=e.trim(),t=t?.trim();const r=[],o=Array.from(new Set([n?.delimiter,...u])).filter((e=>null!=e));for(const i of o){const n=g(e,i).length,o=g(t,i).length??n;n>1&&r.push({weight:Math.min(n,o),delimiter:i})}const l=r.sort((({weight:e},{weight:t})=>t-e)).map((({delimiter:e})=>e));for(const s of l){const t=m(e,s).names,r=i(t,n?.longitudeField,n?.latitudeField);if(r.longitudeFieldName&&r.latitudeFieldName)return{delimiter:s,locationInfo:r}}return{delimiter:l[0],locationInfo:null}}function*p(e,t,n,r=()=>Object.create(null)){const i=f(e);i.next();let u=\"\",c=\"\",d=0,p=r(),m=0;e:for(const f of i){const e=a(f,n);for(const i of e)if(u+=c+i,c=\"\",d+=h(i),d%2==0){if(d>0){const e=o.exec(u);if(!e){p=r(),m=0,u=\"\",d=0;continue e}p[t[m]]=e[1].replaceAll(l,'\"'),m++}else p[t[m]]=u,m++;u=\"\",d=0}else c=n;0===d?(yield p,p=r(),m=0):c=s}}function m(e,t){const r=g(e,t).filter((e=>null!=e)),i=r.map((e=>n(e)));for(let n=i.length-1;n>=0;n--)i[n]||(i.splice(n,1),r.splice(n,1));return{names:i,aliases:r}}function g(e,t){if(!e?.length)return[];const n=[];let r=\"\",i=\"\",s=0;const u=a(e,t);for(const c of u)if(r+=i+c,i=\"\",s+=h(c),s%2==0){if(s>0){const e=o.exec(r);e&&n.push(e[1].replaceAll(l,'\"'))}else n.push(r);r=\"\",s=0}else i=t;return n}function h(e){let t=0,n=0;for(n=e.indexOf('\"',n);n>=0;)t++,n=e.indexOf('\"',n+1);return t}function N(e,t,n,i,o){const l=[],s=p(e,n,t),u=[];for(const r of s){if(10===u.length)break;u.push(r)}for(let c=0;c<n.length;c++){const e=n[c],t=i[c];if(e===o.longitudeFieldName||e===o.latitudeFieldName)l.push({name:e,type:\"esriFieldTypeDouble\",alias:t});else{let n;switch(b(u.map((t=>t[e])))){case\"integer\":n=\"esriFieldTypeInteger\";break;case\"double\":n=\"esriFieldTypeDouble\";break;case\"date\":n=\"esriFieldTypeDate\";break;default:n=\"esriFieldTypeString\"}l.push({name:e,type:n,alias:t,length:r(n)})}}return l}function b(t){if(!t.length)return\"string\";const n=/[^+\\-.,0-9]/;return t.map((t=>{if(\"\"!==t){if(!n.test(t)){let e=x(t);if(!isNaN(e))return/[.,]/.test(t)||!Number.isInteger(e)||e>214783647||e<-214783648?\"double\":\"integer\";if(t.includes(\"E\")){if(e=Number(t),!Number.isNaN(e))return\"double\";if(t.includes(\",\")&&(t=t.replace(\",\",\".\"),e=Number(t),!Number.isNaN(e)))return\"double\"}}return e(t)?\"date\":\"string\"}})).reduce(((e,t)=>void 0===e?t:void 0===t?e:e===t?t:\"string\"===e||\"string\"===t?\"string\":\"double\"===e||\"double\"===t?\"double\":void 0))}const x=function(){const e=t(),n=new RegExp(\"^\"+e.regexp+\"$\"),r=new RegExp(\"[\"+e.group+\"\\\\s\\\\xa0]\",\"g\"),i=e.factor;return t=>{const o=n.exec(t);if(e.factor=i,!o)return NaN;let l=o[1];if(!o[1]){if(!o[2])return NaN;l=o[2],e.factor*=-1}return l=l.replace(r,\"\").replace(e.decimal,\".\"),+l*e.factor}}();function y(e){return JSON.parse(JSON.stringify(e))}export{m as extractFieldNamesAndAliasesFromRow,d as inferDelimiterAndLocationInfo,b as inferFieldType,N as inferFields,x as parseNumber,p as parseRows,a as readRowParts,f as readRows,y as severSlicedString,g as splitSingleRow};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../request.js\";import{createTask as t}from\"../../../../core/asyncUtils.js\";import{parseDate as i}from\"../../../../core/date.js\";import n from\"../../../../core/Error.js\";import r from\"../../../../core/Logger.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";import{urlToObject as o,getFilename as a}from\"../../../../core/urlUtils.js\";import{projectMany as l}from\"../../../../geometry/projection.js\";import{jsonAdapter as m}from\"../../../../geometry/geometryAdapters/json.js\";import{equals as c,isWebMercator as d,wgs84 as u}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{lngLatToXY as f}from\"../../../../geometry/support/webMercatorUtils.js\";import{OptimizedFeature as p}from\"../../OptimizedFeature.js\";import y from\"../../OptimizedGeometry.js\";import h from\"../../data/FeatureStore.js\";import{checkProjectionSupport as g}from\"../../data/projectionSupport.js\";import{QueryEngine as I}from\"../../data/QueryEngine.js\";import{parseRows as _,parseNumber as F,severSlicedString as w,readRows as E,inferDelimiterAndLocationInfo as j,extractFieldNamesAndAliasesFromRow as T,inferFields as x}from\"../csv/csv.js\";import{createDefaultAttributesFunction as N,createDrawingInfo as S}from\"./clientSideDefaults.js\";import q from\"../../../support/FieldsIndex.js\";import{getFieldDefaultValue as b}from\"../../../support/fieldUtils.js\";import{utc as C}from\"../../../../time/timeZoneUtils.js\";import O from\"../../../../geometry/SpatialReference.js\";const v=S(\"esriGeometryPoint\"),D=[\"csv\"],k=[0,0];class P{constructor(e,t){this.x=e,this.y=t}}class R{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{const t=await this._fetch(e);return this._createFeatures(t)}}destroy(){this._queryEngine?.destroy(),this._queryEngine=null}async load(e,t={}){this._loadOptions=e;const[i]=await Promise.all([this._fetch(t.signal),this._checkProjection(e?.parsingOptions?.spatialReference)]),n=V(i,e);this._locationInfo=n.locationInfo,this._delimiter=n.delimiter,this._queryEngine=this._createQueryEngine(n);const r=await this._createFeatures(i);this._queryEngine.featureStore.addMany(r);const{fullExtent:s,timeExtent:o}=await this._queryEngine.fetchRecomputedExtents();if(n.layerDefinition.extent=s,o){const{start:e,end:t}=o;n.layerDefinition.timeInfo.timeExtent=[e,t]}return n}async applyEdits(){throw new n(\"csv-layer:editing-not-supported\",\"applyEdits() is not supported on CSVLayer\")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){this._loadOptions.customParameters=e,this._snapshotTask?.abort(),this._snapshotTask=t(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e)}),(e=>{this._queryEngine.featureStore.clear(),s(e)||r.getLogger(\"esri.layers.CSVLayer\").error(new n(\"csv-layer:refresh\",\"An error occurred during refresh\",{error:e}))})),await this._waitSnapshotComplete();const{fullExtent:i,timeExtent:o}=await this._queryEngine.fetchRecomputedExtents();return{extent:i,timeExtent:o}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(t){const{url:i,customParameters:r}=this._loadOptions;if(!i)throw new n(\"csv-layer:invalid-source\",\"url not defined\");const s=o(i);return(await e(s.path,{query:{...s.query,...r},responseType:\"text\",signal:t})).data}_createQueryEngine(e){const{objectIdField:t,fields:i,extent:n,timeInfo:r}=e.layerDefinition,s=new h({geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1});return new I({fieldsIndex:q.fromLayerJSON({fields:i,dateFieldsTimeReference:{timeZoneIANA:C}}),geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1,timeInfo:r,objectIdField:t,spatialReference:n.spatialReference||{wkid:4326},featureStore:s})}async _createFeatures(e){const{latitudeFieldName:t,longitudeFieldName:n}=this._locationInfo,{objectIdField:r,fieldsIndex:s,spatialReference:o}=this._queryEngine;let a=[];const u=[],h=s.fields.filter((e=>e.name!==r)).map((e=>e.name));let g=0;const I={};for(const i of s.fields)if(\"esriFieldTypeOID\"!==i.type&&\"esriFieldTypeGlobalID\"!==i.type){const e=b(i);void 0!==e&&(I[i.name]=e)}const E=_(e,h,this._delimiter,N(I,r));for(const l of E){const e=this._parseCoordinateValue(l[t]),o=this._parseCoordinateValue(l[n]);if(null!=o&&null!=e&&!isNaN(e)&&!isNaN(o)){l[t]=e,l[n]=o;for(const e in l)if(e!==t&&e!==n)if(s.isDateField(e))l[e]=i(l[e]);else if(s.isNumericField(e)){const t=F(l[e]);isNaN(t)?l[e]=null:l[e]=t}else null!=l[e]&&(l[e]=w(l[e]));l[r]=g,g++,a.push(new P(o,e)),u.push(l)}}if(!c({wkid:4326},o))if(d(o))for(const i of a)[i.x,i.y]=f(i.x,i.y,k);else a=l(m,a,O.WGS84,o,null,null);const j=[];for(let i=0;i<a.length;i++){const{x:e,y:t}=a[i],n=u[i];n[r]=i+1,j.push(new p(new y([],[e,t]),n,null,n[r]))}return j}_parseCoordinateValue(e){if(null==e||\"\"===e)return null;let t=F(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await g(u,e)}catch{throw new n(\"csv-layer:projection-not-supported\",\"Projection not supported\")}}}function V(e,t){const i=t.parsingOptions||{},r={delimiter:i.delimiter,layerDefinition:null,locationInfo:{latitudeFieldName:i.latitudeField,longitudeFieldName:i.longitudeField}},s=r.layerDefinition={name:a(t.url,D)||\"csv\",dateFieldsTimeReference:{timeZoneIANA:C},drawingInfo:v,geometryType:\"esriGeometryPoint\",objectIdField:null,fields:[],timeInfo:i.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:i.spatialReference||{wkid:4326}}},o=E(e),l=o.next().value?.trim(),m=o.next().value?.trim();if(!l)throw new n(\"csv-layer:empty-csv\",\"CSV is empty\",{csv:e});const{delimiter:c,locationInfo:d}=j(l,m,i);if(!c)throw new n(\"csv-layer:invalid-delimiter\",\"Unable to detect the delimiter from CSV\",{firstLine:l,secondLine:m,parsingOptions:i});if(!d)throw new n(\"csv-layer:location-fields-not-found\",\"Unable to identify latitude and longitude fields from the CSV file\",{firstLine:l,secondLine:m,parsingOptions:i});r.locationInfo=d,r.delimiter=c;const{names:u,aliases:f}=T(l,c),p=x(e,r.delimiter,u,f,r.locationInfo);if(i.fields?.length){const e=new q(i.fields);for(const t of p){const i=e.get(t.name);i&&Object.assign(t,i)}}if(!p.some((e=>\"esriFieldTypeOID\"===e.type&&(s.objectIdField=e.name,!0)))){const e={name:\"__OBJECTID\",alias:\"__OBJECTID\",type:\"esriFieldTypeOID\",editable:!1,nullable:!1};s.objectIdField=e.name,p.unshift(e)}s.fields=p;const y=new q(s.fields);if(r.locationInfo&&(r.locationInfo.latitudeFieldName=y.get(r.locationInfo.latitudeFieldName).name,r.locationInfo.longitudeFieldName=y.get(r.locationInfo.longitudeFieldName).name),s.timeInfo){const e=s.timeInfo;if(e.startTimeField){const t=y.get(e.startTimeField);t?(e.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.startTimeField=null}if(e.endTimeField){const t=y.get(e.endTimeField);t?(e.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.endTimeField=null}if(e.trackIdField){const t=y.get(e.trackIdField);e.trackIdField=t?t.name:null}e.startTimeField||e.endTimeField||(s.timeInfo=null)}return r}export{R as default};\n"],"mappings":"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"}