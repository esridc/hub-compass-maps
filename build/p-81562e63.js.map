{"version":3,"names":["decimalNumberRegex","RegExp","decimalPlaces","value","match","parseInt","Math","max","length","getDecimals","parseFloat","toString","split","maxTenthForMinuteAndSecond","createLocaleDateTimeFormatter","locale","numberingSystem","includeSeconds","fractionalSecondDigits","options","hour","minute","timeZone","getSupportedNumberingSystem","second","getDateTimeFormat","formatTimePart","number","minLength","undefined","numberAsString","numberDecimalPlaces","fractionalDigits","replace","padEnd","padStart","formatTimeString","isValidTime","fractionalSecond","parseTimeString","formattedValue","fractionalSecondPartToMilliseconds","fractionalSecondPart","toFixed","getLocaleHourCycle","formatter","parts","formatToParts","Date","UTC","getLocalizedTimePart","getLocalizedDecimalSeparator","numberStringFormatter","numberFormatOptions","localize","getLocalizedTimePartSuffix","part","hourIndex","indexOf","find","type","minuteIndex","hourSuffix","trim","secondIndex","minuteSuffix","secondSuffix","getMeridiem","isValidNumber","hourAsNumber","startsWith","endsWith","splitValue","validLength","minuteAsNumber","secondAsNumber","hourValid","minuteValid","secondValid","isValidTimePart","valueAsNumber","Number","localizeTimePart","localizedDecimalSeparator","localizedFractionalSecond","localizedZero","date","localizeTimeString","dateFromTimeString","format","localizeTimeStringToParts","localizedHour","localizedHourSuffix","localizedMinute","localizedMinuteSuffix","localizedSecond","localizedSecondSuffix","localizedMeridiem","getTimeParts","secondDecimal","includes","toISOTimeString","isoTimeString","CSS","button","buttonBottomLeft","buttonBottomRight","buttonFractionalSecondDown","buttonFractionalSecondUp","buttonHourDown","buttonHourUp","buttonMeridiemDown","buttonMeridiemUp","buttonMinuteDown","buttonMinuteUp","buttonSecondDown","buttonSecondUp","buttonTopLeft","buttonTopRight","column","delimiter","input","inputFocus","meridiem","showMeridiem","showSecond","timePicker","meridiemStart","timePickerCss","capitalize","str","charAt","toUpperCase","slice","TimePicker","proxyCustomElement","HTMLElement","constructor","super","this","__registerHost","__attachShadow","calciteInternalTimePickerBlur","createEvent","calciteInternalTimePickerChange","calciteInternalTimePickerFocus","pointerActivated","decrementHour","newHour","setValuePart","decrementMeridiem","newMeridiem","decrementMinuteOrSecond","key","newValue","decrementMinute","decrementSecond","focusHandler","event","activeEl","currentTarget","fractionalSecondKeyDownHandler","numberKeys","stepPrecision","step","fractionalSecondAsInteger","fractionalSecondAsIntegerLength","newFractionalSecondAsIntegerString","preventDefault","nudgeFractionalSecond","fractionalSecondDownClickHandler","fractionalSecondEl","focus","fractionalSecondUpClickHandler","hourDownClickHandler","hourEl","hourKeyDownHandler","keyAsNumber","hourCycle","incrementHour","hourUpClickHandler","incrementMeridiem","incrementMinuteOrSecond","incrementMinute","incrementSecond","inputClickHandler","target","meridiemUpClickHandler","meridiemEl","meridiemKeyDownHandler","meridiemDownClickHandler","minuteDownClickHandler","minuteEl","minuteUpClickHandler","minuteKeyDownHandler","newMinute","direction","stepDecimal","fractionalSecondAsFloat","nudgedValue","nudgedValueRounded","nudgedValueRoundedDecimals","newFractionalSecond","isNaN","sign","sanitizeValue","sanitizedFractionalSecond","sanitizeFractionalSecond","secondKeyDownHandler","newSecond","secondDownClickHandler","secondEl","secondUpClickHandler","setHourEl","el","setMeridiemEl","setMinuteEl","setSecondEl","setFractionalSecondEl","setValue","effectiveLocale","formatParts","meridiemOrder","getMeridiemOrder","emit","showFractionalSecond","scale","messages","messageOverrides","defaultMessages","stepChange","toggleSecond","valueWatcher","onMessagesChange","effectiveLocaleWatcher","updateLocale","blurHandler","hostFocusHandler","keyDownHandler","defaultPrevented","focusPart","pointerDownHandler","async","componentFocusable","isRTLKind","index","findIndex","updateMessages","connectedCallback","connectLocalized","connectMessages","setUpLoadableComponent","setUpMessages","componentDidLoad","setComponentLoaded","disconnectedCallback","disconnectLocalized","disconnectMessages","render","hourIsNumber","iconScale","getIconScale","minuteIsNumber","secondIsNumber","fractionalSecondIsNumber","h","class","dir","role","hourUp","onClick","icon","onFocus","onKeyDown","tabIndex","ref","hourDown","minuteUp","minuteDown","secondUp","secondDown","fractionalSecondUp","fractionalSecondDown","meridiemUp","meridiemDown","delegatesFocus","assetsDirs","watchers","style","setFocus","defineCustomElement","customElements","components","forEach","tagName","get","define","defineCustomElement$1","toggleIcon","SECONDS_A_MINUTE","SECONDS_A_HOUR","SECONDS_A_DAY","SECONDS_A_WEEK","MILLISECONDS_A_SECOND","MILLISECONDS_A_MINUTE","MILLISECONDS_A_HOUR","MILLISECONDS_A_DAY","MILLISECONDS_A_WEEK","MS","S","MIN","H","D","W","M","Q","Y","DATE","FORMAT_DEFAULT","INVALID_DATE_STRING","REGEX_PARSE","REGEX_FORMAT","en","name","weekdays","months","ordinal","n","s","v","en$1","Object","freeze","__proto__","default","string","pad","String","Array","join","padZoneStr","instance","negMinutes","utcOffset","minutes","abs","hourOffset","floor","minuteOffset","monthDiff","a","b","wholeMonthDiff","year","month","anchor","clone","add","c","anchor2","absFloor","ceil","prettyUnit","u","special","y","w","d","m","ms","toLowerCase","isUndefined","U","z","p","L","Ls","IS_DAYJS","isDayjs","Dayjs","parseLocale","preset","object","isLocal","l","presetLower","presetSplit","dayjs","cfg","args","arguments","wrapper","$L","utc","$u","x","$x","$offset","Utils","i","parseDate","NaN","test","substring","parse","_proto","prototype","$d","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","that","units","other","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","_startOf","_this","isStartOf","unit","instanceFactory","ins","instanceFactorySet","method","argumentStart","argumentEnd","toDate","apply","utcPad","weekStart","$locale","gap","arg","$set","_int","_C$D$C$DATE$C$M$C$Y$C","min","daysInMonth","_int2","_this2","_C$MIN$C$H$C$S$unit","round","nextTimeStamp","subtract","formatStr","_this3","invalidDate","zoneStr","getShort","arr","full","get$H","num","meridiemFunc","isLowercase","matches","monthsShort","weekdaysMin","weekdaysShort","$1","getTimezoneOffset","diff","_float","_this4","zoneDelta","result","nextLocaleName","toJSON","toISOString","toUTCString","proto","g","extend","plugin","option","$i","timestamp","t","_","englishFormats","LTS","LT","LL","LLL","LLLL","formats","B","formattingTokens","match1","match2","match3","match4","match1to2","matchSigned","matchOffset","matchWord","parseTwoDigitYear","offsetFromString","addInput","property","zoneExpressions","zone","offset","getLocalePart","concat","f","meridiemMatch","isLowerCase","isAfternoon","_locale","expressions","A","afternoon","milliseconds","SS","SSS","ss","mm","HH","hh","DD","Do","_locale2","_input$match","day","MM","MMM","matchIndex","map","Error","MMMM","YY","YYYY","Z","ZZ","correctHours","time","hours","makeParser","array","token","parseTo","regex","parser","_i","start","_token","_regex","_parser","exec","call","parseFormattedInput","_parser2","seconds","now","e","customParseFormat","o","C","oldParse","isStrictWithoutLocale","isStrictWithLocale","isStrict","pl","len","localeData","localeOrder","targetLocale","fullLocale","getDayjsLocaleObject","getLongDateFormat","firstDayOfWeek","longDateFormat","bind","localeObject","localizedFormat","oldFormat","_this$$locale","_this$$locale$formats","preParsePostFormat","dayjsClass","preparse","_len","_key","postformat","oldFromTo","fromToBase","withoutSuffix","isFrom","customConfig","localeList","localeConfig","customConfigKeys","keys","inputTimePickerCss","supportedDayjsLocaleToLocaleConfigImport","Map","import","Promise","resolve","then","InputTimePicker","calciteInputTimePickerBeforeClose","calciteInputTimePickerBeforeOpen","calciteInputTimePickerChange","calciteInputTimePickerClose","calciteInputTimePickerOpen","focusOnOpen","dialogId","guid","userChangedValue","referenceElementId","openTransitionProp","hostBlurHandler","inputValue","calciteInputEl","delocalizedInputValue","delocalizeTimeString","localizedTimeString","shouldIncludeSeconds","setInputValue","deactivate","calciteInternalInputFocusHandler","readOnly","stopPropagation","calciteInternalInputInputHandler","useGrouping","valueInNumberingSystem","delocalize","char","numberFormatter","timePickerChangeHandler","popoverCloseHandler","deactivateFocusTrap","onDeactivate","open","popoverOpenHandler","activateFocusTrap","onActivate","calciteTimePickerEl","submitForm","composedPath","setCalcitePopoverEl","popoverEl","setInputAndTransitionEl","transitionEl","setCalciteTimePickerEl","connectFocusTrap","focusTrapEl","focusTrapOptions","initialFocus","setReturnFocus","newInputValue","oldValue","changeEvent","setValueDirectly","onInputWrapperClick","disabled","focusTrapDisabled","form","validationMessage","validationIcon","required","status","overlayPositioning","placement","openHandler","onToggleOpenCloseComponent","reposition","handleFocusTrapDisabled","handleDisabledAndReadOnlyChange","numberingSystemWatcher","stepWatcher","newStep","oldStep","loadDateTimeLocaleData","delayed","onBeforeOpen","onOpen","onBeforeClose","onClose","nonFractionalSecondParts","delocalizeTimeStringToParts","delocalizedTimeString","shouldIncludeFractionalSeconds","centisecondParts","millisecond","getTimeStringFromParts","decisecondParts","millisecondParts","fractionalSecondFormatToken","ltsFormatString","fractionalSecondTokenMatch","secondFormatToken","getSupportedDayjsLocale","getSupportedLocale","dayjsParseResult","timeString","dayjsLocale","supportedLocale","getExtendedLocaleConfig","onLabelClick","connectInteractive","connectLabel","connectForm","all","disconnectInteractive","disconnectLabel","disconnectForm","componentDidRender","updateHostInteraction","Host","onBlur","InteractiveContainer","id","label","getLabelText","lang","onCalciteInputTextInput","onCalciteInternalInputTextFocus","renderToggleIcon","chooseTime","onCalcitePopoverClose","onCalcitePopoverOpen","referenceElement","triggerDisabled","onCalciteInternalTimePickerChange","HiddenFormInputSlot","component","Validation","message","defineCustomElement$9","defineCustomElement$8","defineCustomElement$7","defineCustomElement$6","defineCustomElement$5","defineCustomElement$4","defineCustomElement$3","defineCustomElement$2","CalciteInputTimePicker"],"sources":["./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/math.js","./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/time-picker.js","./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-time-picker.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nconst clamp = (value, min, max) => Math.max(min, Math.min(value, max));\nconst decimalNumberRegex = new RegExp(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n/**\n * Returns the quantity of real decimal places for a number, which excludes trailing zeros.\n *\n * Adapted from {@link https://stackoverflow.com/questions/10454518/javascript-how-to-retrieve-the-number-of-decimals-of-a-string-number}.\n *\n * @param decimal - decimal value\n * @param value\n * @returns {number} the amount of decimal places in a number\n */\nconst decimalPlaces = (value) => {\n    const match = (\"\" + value).match(decimalNumberRegex);\n    if (!match || parseInt(match[1]) === 0) {\n        return 0;\n    }\n    return Math.max(0, \n    // Number of digits right of decimal point.\n    (match[1] ? match[1].length : 0) -\n        // Adjust for scientific notation.\n        (match[2] ? +match[2] : 0));\n};\nfunction getDecimals(value) {\n    if (decimalPlaces(value) > 0 && value > 0) {\n        return parseFloat(`0.${value.toString().split(\".\")[1]}`);\n    }\n    return value;\n}\nfunction remap(value, fromMin, fromMax, toMin, toMax) {\n    return ((value - fromMin) * (toMax - toMin)) / (fromMax - fromMin) + toMin;\n}\n/**\n * Helper to determine if a value is close to the edge of a range within a threshold.\n *\n * @param value\n * @param range\n * @param threshold\n * @returns -1 if close to lower edge, 1 if close to upper edge, 0 otherwise.\n */\nfunction closeToRangeEdge(value, range, threshold) {\n    return value < threshold ? -1 : value > range - threshold ? 1 : 0;\n}\n\nexport { closeToRangeEdge as a, clamp as c, decimalPlaces as d, getDecimals as g, remap as r };\n\n//# sourceMappingURL=math.js.map","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h } from '@stencil/core/internal/client/index.js';\nimport { n as numberKeys } from './key.js';\nimport { n as numberStringFormatter, b as getDateTimeFormat, i as isValidNumber, e as getSupportedNumberingSystem, c as connectLocalized, d as disconnectLocalized } from './locale.js';\nimport { u as updateMessages, c as connectMessages, s as setUpMessages, d as disconnectMessages } from './t9n.js';\nimport { d as decimalPlaces, g as getDecimals } from './math.js';\nimport { g as getIconScale } from './component.js';\nimport { c as componentFocusable, s as setUpLoadableComponent, a as setComponentLoaded } from './loadable.js';\nimport { d as defineCustomElement$1 } from './icon.js';\n\nconst maxTenthForMinuteAndSecond = 5;\nfunction createLocaleDateTimeFormatter(locale, numberingSystem, includeSeconds = true, fractionalSecondDigits) {\n    const options = {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        timeZone: \"UTC\",\n        numberingSystem: getSupportedNumberingSystem(numberingSystem),\n    };\n    if (includeSeconds) {\n        options.second = \"2-digit\";\n        if (fractionalSecondDigits) {\n            options.fractionalSecondDigits = fractionalSecondDigits;\n        }\n    }\n    return getDateTimeFormat(locale, options);\n}\nfunction formatTimePart(number, minLength) {\n    if (number === null || number === undefined) {\n        return;\n    }\n    const numberAsString = number.toString();\n    const numberDecimalPlaces = decimalPlaces(number);\n    if (number < 1 && numberDecimalPlaces > 0 && numberDecimalPlaces < 4) {\n        const fractionalDigits = numberAsString.replace(\"0.\", \"\");\n        if (!minLength || fractionalDigits.length === minLength) {\n            return fractionalDigits;\n        }\n        if (fractionalDigits.length < minLength) {\n            return fractionalDigits.padEnd(minLength, \"0\");\n        }\n        return fractionalDigits;\n    }\n    if (number >= 0 && number < 10) {\n        return numberAsString.padStart(2, \"0\");\n    }\n    if (number >= 10) {\n        return numberAsString;\n    }\n}\nfunction formatTimeString(value) {\n    if (!isValidTime(value)) {\n        return null;\n    }\n    const { hour, minute, second, fractionalSecond } = parseTimeString(value);\n    let formattedValue = `${formatTimePart(parseInt(hour))}:${formatTimePart(parseInt(minute))}`;\n    if (second) {\n        formattedValue += `:${formatTimePart(parseInt(second))}`;\n        if (fractionalSecond) {\n            formattedValue += `.${fractionalSecond}`;\n        }\n    }\n    return formattedValue;\n}\nfunction fractionalSecondPartToMilliseconds(fractionalSecondPart) {\n    return parseInt((parseFloat(`0.${fractionalSecondPart}`) / 0.001).toFixed(3));\n}\nfunction getLocaleHourCycle(locale, numberingSystem) {\n    const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n    const parts = formatter.formatToParts(new Date(Date.UTC(0, 0, 0, 0, 0, 0)));\n    return getLocalizedTimePart(\"meridiem\", parts) ? \"12\" : \"24\";\n}\nfunction getLocalizedDecimalSeparator(locale, numberingSystem) {\n    numberStringFormatter.numberFormatOptions = {\n        locale,\n        numberingSystem,\n    };\n    return numberStringFormatter.localize(\"1.1\").split(\"\")[1];\n}\nfunction getLocalizedTimePartSuffix(part, locale, numberingSystem = \"latn\") {\n    const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n    const parts = formatter.formatToParts(new Date(Date.UTC(0, 0, 0, 0, 0, 0)));\n    return getLocalizedTimePart(`${part}Suffix`, parts);\n}\nfunction getLocalizedTimePart(part, parts) {\n    if (!part || !parts) {\n        return null;\n    }\n    if (part === \"hourSuffix\") {\n        const hourIndex = parts.indexOf(parts.find(({ type }) => type === \"hour\"));\n        const minuteIndex = parts.indexOf(parts.find(({ type }) => type === \"minute\"));\n        const hourSuffix = parts[hourIndex + 1];\n        return hourSuffix && hourSuffix.type === \"literal\" && minuteIndex - hourIndex === 2\n            ? hourSuffix.value?.trim() || null\n            : null;\n    }\n    if (part === \"minuteSuffix\") {\n        const minuteIndex = parts.indexOf(parts.find(({ type }) => type === \"minute\"));\n        const secondIndex = parts.indexOf(parts.find(({ type }) => type === \"second\"));\n        const minuteSuffix = parts[minuteIndex + 1];\n        return minuteSuffix && minuteSuffix.type === \"literal\" && secondIndex - minuteIndex === 2\n            ? minuteSuffix.value?.trim() || null\n            : null;\n    }\n    if (part === \"secondSuffix\") {\n        const secondIndex = parts.indexOf(parts.find(({ type }) => type === \"second\"));\n        const secondSuffix = parts[secondIndex + 1];\n        return secondSuffix && secondSuffix.type === \"literal\" ? secondSuffix.value?.trim() || null : null;\n    }\n    return parts.find(({ type }) => (part == \"meridiem\" ? type === \"dayPeriod\" : type === part))?.value || null;\n}\nfunction getMeridiem(hour) {\n    if (!isValidNumber(hour)) {\n        return null;\n    }\n    const hourAsNumber = parseInt(hour);\n    return hourAsNumber >= 0 && hourAsNumber <= 11 ? \"AM\" : \"PM\";\n}\nfunction isValidTime(value) {\n    if (!value || value.startsWith(\":\") || value.endsWith(\":\")) {\n        return false;\n    }\n    const splitValue = value.split(\":\");\n    const validLength = splitValue.length > 1 && splitValue.length < 4;\n    if (!validLength) {\n        return false;\n    }\n    const [hour, minute, second] = splitValue;\n    const hourAsNumber = parseInt(splitValue[0]);\n    const minuteAsNumber = parseInt(splitValue[1]);\n    const secondAsNumber = parseInt(splitValue[2]);\n    const hourValid = isValidNumber(hour) && hourAsNumber >= 0 && hourAsNumber < 24;\n    const minuteValid = isValidNumber(minute) && minuteAsNumber >= 0 && minuteAsNumber < 60;\n    const secondValid = isValidNumber(second) && secondAsNumber >= 0 && secondAsNumber < 60;\n    if ((hourValid && minuteValid && !second) || (hourValid && minuteValid && secondValid)) {\n        return true;\n    }\n}\nfunction isValidTimePart(value, part) {\n    if (part === \"meridiem\") {\n        return value === \"AM\" || value === \"PM\";\n    }\n    if (!isValidNumber(value)) {\n        return false;\n    }\n    const valueAsNumber = Number(value);\n    return part === \"hour\" ? valueAsNumber >= 0 && valueAsNumber < 24 : valueAsNumber >= 0 && valueAsNumber < 60;\n}\nfunction localizeTimePart({ value, part, locale, numberingSystem }) {\n    if (part === \"fractionalSecond\") {\n        const localizedDecimalSeparator = getLocalizedDecimalSeparator(locale, numberingSystem);\n        let localizedFractionalSecond = null;\n        if (value) {\n            numberStringFormatter.numberFormatOptions = {\n                locale,\n                numberingSystem,\n            };\n            const localizedZero = numberStringFormatter.localize(\"0\");\n            if (parseInt(value) === 0) {\n                localizedFractionalSecond = \"\".padStart(value.length, localizedZero);\n            }\n            else {\n                localizedFractionalSecond = numberStringFormatter\n                    .localize(`0.${value}`)\n                    .replace(`${localizedZero}${localizedDecimalSeparator}`, \"\");\n                if (localizedFractionalSecond.length < value.length) {\n                    localizedFractionalSecond = localizedFractionalSecond.padEnd(value.length, localizedZero);\n                }\n            }\n        }\n        return localizedFractionalSecond;\n    }\n    if (!isValidTimePart(value, part)) {\n        return;\n    }\n    const valueAsNumber = parseInt(value);\n    const date = new Date(Date.UTC(0, 0, 0, part === \"hour\" ? valueAsNumber : part === \"meridiem\" ? (value === \"AM\" ? 0 : 12) : 0, part === \"minute\" ? valueAsNumber : 0, part === \"second\" ? valueAsNumber : 0));\n    if (!date) {\n        return;\n    }\n    const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n    const parts = formatter.formatToParts(date);\n    return getLocalizedTimePart(part, parts);\n}\nfunction localizeTimeString({ value, locale, numberingSystem, includeSeconds = true, fractionalSecondDigits, }) {\n    if (!isValidTime(value)) {\n        return null;\n    }\n    const { hour, minute, second = \"0\", fractionalSecond } = parseTimeString(value);\n    const dateFromTimeString = new Date(Date.UTC(0, 0, 0, parseInt(hour), parseInt(minute), parseInt(second), fractionalSecond && fractionalSecondPartToMilliseconds(fractionalSecond)));\n    const formatter = createLocaleDateTimeFormatter(locale, numberingSystem, includeSeconds, fractionalSecondDigits);\n    return formatter.format(dateFromTimeString) || null;\n}\nfunction localizeTimeStringToParts({ value, locale, numberingSystem = \"latn\", }) {\n    if (!isValidTime(value)) {\n        return null;\n    }\n    const { hour, minute, second = \"0\", fractionalSecond } = parseTimeString(value);\n    const dateFromTimeString = new Date(Date.UTC(0, 0, 0, parseInt(hour), parseInt(minute), parseInt(second)));\n    if (dateFromTimeString) {\n        const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n        const parts = formatter.formatToParts(dateFromTimeString);\n        return {\n            localizedHour: getLocalizedTimePart(\"hour\", parts),\n            localizedHourSuffix: getLocalizedTimePart(\"hourSuffix\", parts),\n            localizedMinute: getLocalizedTimePart(\"minute\", parts),\n            localizedMinuteSuffix: getLocalizedTimePart(\"minuteSuffix\", parts),\n            localizedSecond: getLocalizedTimePart(\"second\", parts),\n            localizedDecimalSeparator: getLocalizedDecimalSeparator(locale, numberingSystem),\n            localizedFractionalSecond: localizeTimePart({\n                value: fractionalSecond,\n                part: \"fractionalSecond\",\n                locale,\n                numberingSystem,\n            }),\n            localizedSecondSuffix: getLocalizedTimePart(\"secondSuffix\", parts),\n            localizedMeridiem: getLocalizedTimePart(\"meridiem\", parts),\n        };\n    }\n    return null;\n}\nfunction getTimeParts({ value, locale, numberingSystem }) {\n    if (!isValidTime(value)) {\n        return null;\n    }\n    const { hour, minute, second = \"0\" } = parseTimeString(value);\n    const dateFromTimeString = new Date(Date.UTC(0, 0, 0, parseInt(hour), parseInt(minute), parseInt(second)));\n    if (dateFromTimeString) {\n        const formatter = createLocaleDateTimeFormatter(locale, numberingSystem);\n        const parts = formatter.formatToParts(dateFromTimeString);\n        return parts;\n    }\n    return null;\n}\nfunction parseTimeString(value) {\n    if (isValidTime(value)) {\n        const [hour, minute, secondDecimal] = value.split(\":\");\n        let second = secondDecimal;\n        let fractionalSecond = null;\n        if (secondDecimal?.includes(\".\")) {\n            [second, fractionalSecond] = secondDecimal.split(\".\");\n        }\n        return {\n            fractionalSecond,\n            hour,\n            minute,\n            second,\n        };\n    }\n    return {\n        fractionalSecond: null,\n        hour: null,\n        minute: null,\n        second: null,\n    };\n}\nfunction toISOTimeString(value, includeSeconds = true) {\n    if (!isValidTime(value)) {\n        return \"\";\n    }\n    const { hour, minute, second, fractionalSecond } = parseTimeString(value);\n    let isoTimeString = `${formatTimePart(parseInt(hour))}:${formatTimePart(parseInt(minute))}`;\n    if (includeSeconds) {\n        isoTimeString += `:${formatTimePart(parseInt((includeSeconds && second) || \"0\"))}`;\n        if (fractionalSecond) {\n            isoTimeString += `.${fractionalSecond}`;\n        }\n    }\n    return isoTimeString;\n}\n\nconst CSS = {\n    button: \"button\",\n    buttonBottomLeft: \"button--bottom-left\",\n    buttonBottomRight: \"button--bottom-right\",\n    buttonFractionalSecondDown: \"button--fractionalSecond-down\",\n    buttonFractionalSecondUp: \"button--fractionalSecond-up\",\n    buttonHourDown: \"button--hour-down\",\n    buttonHourUp: \"button--hour-up\",\n    buttonMeridiemDown: \"button--meridiem-down\",\n    buttonMeridiemUp: \"button--meridiem-up\",\n    buttonMinuteDown: \"button--minute-down\",\n    buttonMinuteUp: \"button--minute-up\",\n    buttonSecondDown: \"button--second-down\",\n    buttonSecondUp: \"button--second-up\",\n    buttonTopLeft: \"button--top-left\",\n    buttonTopRight: \"button--top-right\",\n    column: \"column\",\n    delimiter: \"delimiter\",\n    fractionalSecond: \"fractionalSecond\",\n    hour: \"hour\",\n    input: \"input\",\n    inputFocus: \"inputFocus\",\n    meridiem: \"meridiem\",\n    minute: \"minute\",\n    second: \"second\",\n    showMeridiem: \"show-meridiem\",\n    showSecond: \"show-second\",\n    \"scale-s\": \"scale-s\",\n    \"scale-m\": \"scale-m\",\n    \"scale-l\": \"scale-l\",\n    timePicker: \"time-picker\",\n    meridiemStart: \"meridiem--start\",\n};\n\nconst timePickerCss = \":host{display:inline-block}.time-picker{display:flex;-webkit-user-select:none;user-select:none;align-items:center;background-color:var(--calcite-color-foreground-1);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1);--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:var(--calcite-border-radius)}.time-picker .column{display:flex;flex-direction:column}.time-picker .meridiem--start{order:-1}.time-picker .button{display:inline-flex;cursor:pointer;align-items:center;justify-content:center;background-color:var(--calcite-color-foreground-1)}.time-picker .button:hover,.time-picker .button:focus{background-color:var(--calcite-color-foreground-2);outline:2px solid transparent;outline-offset:2px;z-index:var(--calcite-z-index-header);outline-offset:0}.time-picker .button:active{background-color:var(--calcite-color-foreground-3)}.time-picker .button.top-left{border-start-start-radius:var(--calcite-border-radius)}.time-picker .button.bottom-left{border-end-start-radius:var(--calcite-border-radius)}.time-picker .button.top-right{border-start-end-radius:var(--calcite-border-radius)}.time-picker .button.bottom-right{border-end-end-radius:var(--calcite-border-radius)}.time-picker .button calcite-icon{color:var(--calcite-color-text-3)}.time-picker .input{display:inline-flex;cursor:pointer;align-items:center;justify-content:center;background-color:var(--calcite-color-foreground-1);font-weight:var(--calcite-font-weight-medium)}.time-picker .input:hover{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-2);z-index:var(--calcite-z-index-header)}.time-picker .input:focus,.time-picker .input:hover:focus{outline:2px solid transparent;outline-offset:2px;outline-offset:0}.time-picker .input.inputFocus,.time-picker .input:hover.inputFocus{box-shadow:inset 0 0 0 2px var(--calcite-color-brand);z-index:var(--calcite-z-index-header)}.time-picker.scale-s{font-size:var(--calcite-font-size--1)}.time-picker.scale-s .button,.time-picker.scale-s .input{padding-inline:0.75rem;padding-block:0.25rem}.time-picker.scale-s:not(.show-meridiem) .delimiter:last-child{padding-inline-end:0.75rem}.time-picker.scale-m{font-size:var(--calcite-font-size-0)}.time-picker.scale-m .button,.time-picker.scale-m .input{padding-inline:1rem;padding-block:0.5rem}.time-picker.scale-m:not(.show-meridiem) .delimiter:last-child{padding-inline-end:1rem}.time-picker.scale-l{font-size:var(--calcite-font-size-1)}.time-picker.scale-l .button,.time-picker.scale-l .input{padding-inline:1.25rem;padding-block:0.75rem}.time-picker.scale-l:not(.show-meridiem) .delimiter:last-child{padding-inline-end:1.25rem}:host([hidden]){display:none}[hidden]{display:none}\";\n\nfunction capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst TimePicker = /*@__PURE__*/ proxyCustomElement(class TimePicker extends HTMLElement {\n    constructor() {\n        super();\n        this.__registerHost();\n        this.__attachShadow();\n        this.calciteInternalTimePickerBlur = createEvent(this, \"calciteInternalTimePickerBlur\", 6);\n        this.calciteInternalTimePickerChange = createEvent(this, \"calciteInternalTimePickerChange\", 6);\n        this.calciteInternalTimePickerFocus = createEvent(this, \"calciteInternalTimePickerFocus\", 6);\n        this.pointerActivated = false;\n        this.decrementHour = () => {\n            const newHour = !this.hour ? 0 : this.hour === \"00\" ? 23 : parseInt(this.hour) - 1;\n            this.setValuePart(\"hour\", newHour);\n        };\n        this.decrementMeridiem = () => {\n            const newMeridiem = this.meridiem === \"PM\" ? \"AM\" : \"PM\";\n            this.setValuePart(\"meridiem\", newMeridiem);\n        };\n        this.decrementMinuteOrSecond = (key) => {\n            let newValue;\n            if (isValidNumber(this[key])) {\n                const valueAsNumber = parseInt(this[key]);\n                newValue = valueAsNumber === 0 ? 59 : valueAsNumber - 1;\n            }\n            else {\n                newValue = 59;\n            }\n            this.setValuePart(key, newValue);\n        };\n        this.decrementMinute = () => {\n            this.decrementMinuteOrSecond(\"minute\");\n        };\n        this.decrementSecond = () => {\n            this.decrementMinuteOrSecond(\"second\");\n        };\n        this.focusHandler = (event) => {\n            if (this.pointerActivated) {\n                return;\n            }\n            this.activeEl = event.currentTarget;\n        };\n        this.fractionalSecondKeyDownHandler = (event) => {\n            const { key } = event;\n            if (numberKeys.includes(key)) {\n                const stepPrecision = decimalPlaces(this.step);\n                const fractionalSecondAsInteger = parseInt(this.fractionalSecond);\n                const fractionalSecondAsIntegerLength = fractionalSecondAsInteger.toString().length;\n                let newFractionalSecondAsIntegerString;\n                if (fractionalSecondAsIntegerLength >= stepPrecision) {\n                    newFractionalSecondAsIntegerString = key.padStart(stepPrecision, \"0\");\n                }\n                else if (fractionalSecondAsIntegerLength < stepPrecision) {\n                    newFractionalSecondAsIntegerString = `${fractionalSecondAsInteger}${key}`.padStart(stepPrecision, \"0\");\n                }\n                this.setValuePart(\"fractionalSecond\", parseFloat(`0.${newFractionalSecondAsIntegerString}`));\n            }\n            else {\n                switch (key) {\n                    case \"Backspace\":\n                    case \"Delete\":\n                        this.setValuePart(\"fractionalSecond\", null);\n                        break;\n                    case \"ArrowDown\":\n                        event.preventDefault();\n                        this.nudgeFractionalSecond(\"down\");\n                        break;\n                    case \"ArrowUp\":\n                        event.preventDefault();\n                        this.nudgeFractionalSecond(\"up\");\n                        break;\n                    case \" \":\n                        event.preventDefault();\n                        break;\n                }\n            }\n        };\n        this.fractionalSecondDownClickHandler = () => {\n            this.activeEl = this.fractionalSecondEl;\n            this.fractionalSecondEl.focus();\n            this.nudgeFractionalSecond(\"down\");\n        };\n        this.fractionalSecondUpClickHandler = () => {\n            this.activeEl = this.fractionalSecondEl;\n            this.fractionalSecondEl.focus();\n            this.nudgeFractionalSecond(\"up\");\n        };\n        this.hourDownClickHandler = () => {\n            this.activeEl = this.hourEl;\n            this.hourEl.focus();\n            this.decrementHour();\n        };\n        this.hourKeyDownHandler = (event) => {\n            const { key } = event;\n            if (numberKeys.includes(key)) {\n                const keyAsNumber = parseInt(key);\n                let newHour;\n                if (isValidNumber(this.hour)) {\n                    switch (this.hourCycle) {\n                        case \"12\":\n                            newHour =\n                                this.hour === \"01\" && keyAsNumber >= 0 && keyAsNumber <= 2\n                                    ? `1${keyAsNumber}`\n                                    : keyAsNumber;\n                            break;\n                        case \"24\":\n                            if (this.hour === \"01\") {\n                                newHour = `1${keyAsNumber}`;\n                            }\n                            else if (this.hour === \"02\" && keyAsNumber >= 0 && keyAsNumber <= 3) {\n                                newHour = `2${keyAsNumber}`;\n                            }\n                            else {\n                                newHour = keyAsNumber;\n                            }\n                            break;\n                    }\n                }\n                else {\n                    newHour = keyAsNumber;\n                }\n                this.setValuePart(\"hour\", newHour);\n            }\n            else {\n                switch (key) {\n                    case \"Backspace\":\n                    case \"Delete\":\n                        this.setValuePart(\"hour\", null);\n                        break;\n                    case \"ArrowDown\":\n                        event.preventDefault();\n                        this.decrementHour();\n                        break;\n                    case \"ArrowUp\":\n                        event.preventDefault();\n                        this.incrementHour();\n                        break;\n                    case \" \":\n                        event.preventDefault();\n                        break;\n                }\n            }\n        };\n        this.hourUpClickHandler = () => {\n            this.activeEl = this.hourEl;\n            this.hourEl.focus();\n            this.incrementHour();\n        };\n        this.incrementMeridiem = () => {\n            const newMeridiem = this.meridiem === \"AM\" ? \"PM\" : \"AM\";\n            this.setValuePart(\"meridiem\", newMeridiem);\n        };\n        this.incrementHour = () => {\n            const newHour = isValidNumber(this.hour)\n                ? this.hour === \"23\"\n                    ? 0\n                    : parseInt(this.hour) + 1\n                : 1;\n            this.setValuePart(\"hour\", newHour);\n        };\n        this.incrementMinuteOrSecond = (key) => {\n            const newValue = isValidNumber(this[key])\n                ? this[key] === \"59\"\n                    ? 0\n                    : parseInt(this[key]) + 1\n                : 0;\n            this.setValuePart(key, newValue);\n        };\n        this.incrementMinute = () => {\n            this.incrementMinuteOrSecond(\"minute\");\n        };\n        this.incrementSecond = () => {\n            this.incrementMinuteOrSecond(\"second\");\n        };\n        this.inputClickHandler = (event) => {\n            this.activeEl = event.target;\n        };\n        this.meridiemUpClickHandler = () => {\n            this.activeEl = this.meridiemEl;\n            this.meridiemEl.focus();\n            this.incrementMeridiem();\n        };\n        this.meridiemKeyDownHandler = (event) => {\n            switch (event.key) {\n                case \"a\":\n                    this.setValuePart(\"meridiem\", \"AM\");\n                    break;\n                case \"p\":\n                    this.setValuePart(\"meridiem\", \"PM\");\n                    break;\n                case \"Backspace\":\n                case \"Delete\":\n                    this.setValuePart(\"meridiem\", null);\n                    break;\n                case \"ArrowUp\":\n                    event.preventDefault();\n                    this.incrementMeridiem();\n                    break;\n                case \"ArrowDown\":\n                    event.preventDefault();\n                    this.decrementMeridiem();\n                    break;\n                case \" \":\n                    event.preventDefault();\n                    break;\n            }\n        };\n        this.meridiemDownClickHandler = () => {\n            this.activeEl = this.meridiemEl;\n            this.meridiemEl.focus();\n            this.decrementMeridiem();\n        };\n        this.minuteDownClickHandler = () => {\n            this.activeEl = this.minuteEl;\n            this.minuteEl.focus();\n            this.decrementMinute();\n        };\n        this.minuteUpClickHandler = () => {\n            this.activeEl = this.minuteEl;\n            this.minuteEl.focus();\n            this.incrementMinute();\n        };\n        this.minuteKeyDownHandler = (event) => {\n            const { key } = event;\n            if (numberKeys.includes(key)) {\n                const keyAsNumber = parseInt(key);\n                let newMinute;\n                if (isValidNumber(this.minute) && this.minute.startsWith(\"0\")) {\n                    const minuteAsNumber = parseInt(this.minute);\n                    newMinute =\n                        minuteAsNumber > maxTenthForMinuteAndSecond\n                            ? keyAsNumber\n                            : `${minuteAsNumber}${keyAsNumber}`;\n                }\n                else {\n                    newMinute = keyAsNumber;\n                }\n                this.setValuePart(\"minute\", newMinute);\n            }\n            else {\n                switch (key) {\n                    case \"Backspace\":\n                    case \"Delete\":\n                        this.setValuePart(\"minute\", null);\n                        break;\n                    case \"ArrowDown\":\n                        event.preventDefault();\n                        this.decrementMinute();\n                        break;\n                    case \"ArrowUp\":\n                        event.preventDefault();\n                        this.incrementMinute();\n                        break;\n                    case \" \":\n                        event.preventDefault();\n                        break;\n                }\n            }\n        };\n        this.nudgeFractionalSecond = (direction) => {\n            const stepDecimal = getDecimals(this.step);\n            const stepPrecision = decimalPlaces(this.step);\n            const fractionalSecondAsInteger = parseInt(this.fractionalSecond);\n            const fractionalSecondAsFloat = parseFloat(`0.${this.fractionalSecond}`);\n            let nudgedValue;\n            let nudgedValueRounded;\n            let nudgedValueRoundedDecimals;\n            let newFractionalSecond;\n            if (direction === \"up\") {\n                nudgedValue = isNaN(fractionalSecondAsInteger) ? 0 : fractionalSecondAsFloat + stepDecimal;\n                nudgedValueRounded = parseFloat(nudgedValue.toFixed(stepPrecision));\n                nudgedValueRoundedDecimals = getDecimals(nudgedValueRounded);\n                newFractionalSecond =\n                    nudgedValueRounded < 1 && decimalPlaces(nudgedValueRoundedDecimals) > 0\n                        ? formatTimePart(nudgedValueRoundedDecimals, stepPrecision)\n                        : \"\".padStart(stepPrecision, \"0\");\n            }\n            if (direction === \"down\") {\n                nudgedValue =\n                    isNaN(fractionalSecondAsInteger) || fractionalSecondAsInteger === 0\n                        ? 1 - stepDecimal\n                        : fractionalSecondAsFloat - stepDecimal;\n                nudgedValueRounded = parseFloat(nudgedValue.toFixed(stepPrecision));\n                nudgedValueRoundedDecimals = getDecimals(nudgedValueRounded);\n                newFractionalSecond =\n                    nudgedValueRounded < 1 &&\n                        decimalPlaces(nudgedValueRoundedDecimals) > 0 &&\n                        Math.sign(nudgedValueRoundedDecimals) === 1\n                        ? formatTimePart(nudgedValueRoundedDecimals, stepPrecision)\n                        : \"\".padStart(stepPrecision, \"0\");\n            }\n            this.setValuePart(\"fractionalSecond\", newFractionalSecond);\n        };\n        this.sanitizeValue = (value) => {\n            const { hour, minute, second, fractionalSecond } = parseTimeString(value);\n            if (fractionalSecond) {\n                const sanitizedFractionalSecond = this.sanitizeFractionalSecond(fractionalSecond);\n                return `${hour}:${minute}:${second}.${sanitizedFractionalSecond}`;\n            }\n            return isValidTime(value) && value;\n        };\n        this.sanitizeFractionalSecond = (fractionalSecond) => fractionalSecond && decimalPlaces(this.step) !== fractionalSecond.length\n            ? parseFloat(`0.${fractionalSecond}`).toFixed(decimalPlaces(this.step)).replace(\"0.\", \"\")\n            : fractionalSecond;\n        this.secondKeyDownHandler = (event) => {\n            const { key } = event;\n            if (numberKeys.includes(key)) {\n                const keyAsNumber = parseInt(key);\n                let newSecond;\n                if (isValidNumber(this.second) && this.second.startsWith(\"0\")) {\n                    const secondAsNumber = parseInt(this.second);\n                    newSecond =\n                        secondAsNumber > maxTenthForMinuteAndSecond\n                            ? keyAsNumber\n                            : `${secondAsNumber}${keyAsNumber}`;\n                }\n                else {\n                    newSecond = keyAsNumber;\n                }\n                this.setValuePart(\"second\", newSecond);\n            }\n            else {\n                switch (key) {\n                    case \"Backspace\":\n                    case \"Delete\":\n                        this.setValuePart(\"second\", null);\n                        break;\n                    case \"ArrowDown\":\n                        event.preventDefault();\n                        this.decrementSecond();\n                        break;\n                    case \"ArrowUp\":\n                        event.preventDefault();\n                        this.incrementSecond();\n                        break;\n                    case \" \":\n                        event.preventDefault();\n                        break;\n                }\n            }\n        };\n        this.secondDownClickHandler = () => {\n            this.activeEl = this.secondEl;\n            this.secondEl.focus();\n            this.decrementSecond();\n        };\n        this.secondUpClickHandler = () => {\n            this.activeEl = this.secondEl;\n            this.secondEl.focus();\n            this.incrementSecond();\n        };\n        this.setHourEl = (el) => (this.hourEl = el);\n        this.setMeridiemEl = (el) => (this.meridiemEl = el);\n        this.setMinuteEl = (el) => (this.minuteEl = el);\n        this.setSecondEl = (el) => (this.secondEl = el);\n        this.setFractionalSecondEl = (el) => (this.fractionalSecondEl = el);\n        this.setValue = (value) => {\n            if (isValidTime(value)) {\n                const { hour, minute, second, fractionalSecond } = parseTimeString(value);\n                const { effectiveLocale: locale, numberingSystem } = this;\n                const { localizedHour, localizedHourSuffix, localizedMinute, localizedMinuteSuffix, localizedSecond, localizedDecimalSeparator, localizedFractionalSecond, localizedSecondSuffix, localizedMeridiem, } = localizeTimeStringToParts({ value, locale, numberingSystem });\n                this.hour = hour;\n                this.minute = minute;\n                this.second = second;\n                this.fractionalSecond = this.sanitizeFractionalSecond(fractionalSecond);\n                this.localizedHour = localizedHour;\n                this.localizedHourSuffix = localizedHourSuffix;\n                this.localizedMinute = localizedMinute;\n                this.localizedMinuteSuffix = localizedMinuteSuffix;\n                this.localizedSecond = localizedSecond;\n                this.localizedDecimalSeparator = localizedDecimalSeparator;\n                this.localizedFractionalSecond = localizedFractionalSecond;\n                this.localizedSecondSuffix = localizedSecondSuffix;\n                if (localizedMeridiem) {\n                    this.localizedMeridiem = localizedMeridiem;\n                    this.meridiem = getMeridiem(this.hour);\n                    const formatParts = getTimeParts({ value, locale, numberingSystem });\n                    this.meridiemOrder = this.getMeridiemOrder(formatParts);\n                }\n            }\n            else {\n                this.hour = null;\n                this.fractionalSecond = null;\n                this.localizedHour = null;\n                this.localizedHourSuffix = getLocalizedTimePartSuffix(\"hour\", this.effectiveLocale, this.numberingSystem);\n                this.localizedMeridiem = null;\n                this.localizedMinute = null;\n                this.localizedMinuteSuffix = getLocalizedTimePartSuffix(\"minute\", this.effectiveLocale, this.numberingSystem);\n                this.localizedSecond = null;\n                this.localizedDecimalSeparator = getLocalizedDecimalSeparator(this.effectiveLocale, this.numberingSystem);\n                this.localizedFractionalSecond = null;\n                this.localizedSecondSuffix = getLocalizedTimePartSuffix(\"second\", this.effectiveLocale, this.numberingSystem);\n                this.meridiem = null;\n                this.minute = null;\n                this.second = null;\n                this.value = null;\n            }\n        };\n        this.setValuePart = (key, value) => {\n            const { effectiveLocale: locale, numberingSystem } = this;\n            if (key === \"meridiem\") {\n                this.meridiem = value;\n                if (isValidNumber(this.hour)) {\n                    const hourAsNumber = parseInt(this.hour);\n                    switch (value) {\n                        case \"AM\":\n                            if (hourAsNumber >= 12) {\n                                this.hour = formatTimePart(hourAsNumber - 12);\n                            }\n                            break;\n                        case \"PM\":\n                            if (hourAsNumber < 12) {\n                                this.hour = formatTimePart(hourAsNumber + 12);\n                            }\n                            break;\n                    }\n                    this.localizedHour = localizeTimePart({\n                        value: this.hour,\n                        part: \"hour\",\n                        locale,\n                        numberingSystem,\n                    });\n                }\n            }\n            else if (key === \"fractionalSecond\") {\n                const stepPrecision = decimalPlaces(this.step);\n                if (typeof value === \"number\") {\n                    this.fractionalSecond =\n                        value === 0 ? \"\".padStart(stepPrecision, \"0\") : formatTimePart(value, stepPrecision);\n                }\n                else {\n                    this.fractionalSecond = value;\n                }\n                this.localizedFractionalSecond = localizeTimePart({\n                    value: this.fractionalSecond,\n                    part: \"fractionalSecond\",\n                    locale,\n                    numberingSystem,\n                });\n            }\n            else {\n                this[key] = typeof value === \"number\" ? formatTimePart(value) : value;\n                this[`localized${capitalize(key)}`] = localizeTimePart({\n                    value: this[key],\n                    part: key,\n                    locale,\n                    numberingSystem,\n                });\n            }\n            let emit = false;\n            let newValue;\n            if (this.hour && this.minute) {\n                newValue = `${this.hour}:${this.minute}`;\n                if (this.showSecond) {\n                    newValue = `${newValue}:${this.second ?? \"00\"}`;\n                    if (this.showFractionalSecond && this.fractionalSecond) {\n                        newValue = `${newValue}.${this.fractionalSecond}`;\n                    }\n                }\n            }\n            else {\n                newValue = null;\n            }\n            if (this.value !== newValue) {\n                emit = true;\n            }\n            this.value = newValue;\n            this.localizedMeridiem = this.value\n                ? localizeTimeStringToParts({ value: this.value, locale, numberingSystem })\n                    ?.localizedMeridiem || null\n                : localizeTimePart({ value: this.meridiem, part: \"meridiem\", locale, numberingSystem });\n            if (emit) {\n                this.calciteInternalTimePickerChange.emit();\n            }\n        };\n        this.scale = \"m\";\n        this.step = 60;\n        this.numberingSystem = undefined;\n        this.value = null;\n        this.messages = undefined;\n        this.messageOverrides = undefined;\n        this.activeEl = undefined;\n        this.effectiveLocale = \"\";\n        this.fractionalSecond = undefined;\n        this.hour = undefined;\n        this.hourCycle = undefined;\n        this.localizedDecimalSeparator = \".\";\n        this.localizedHour = undefined;\n        this.localizedHourSuffix = undefined;\n        this.localizedMeridiem = undefined;\n        this.localizedFractionalSecond = undefined;\n        this.localizedMinute = undefined;\n        this.localizedMinuteSuffix = undefined;\n        this.localizedSecond = undefined;\n        this.localizedSecondSuffix = undefined;\n        this.meridiem = undefined;\n        this.minute = undefined;\n        this.second = undefined;\n        this.showFractionalSecond = undefined;\n        this.showSecond = undefined;\n        this.defaultMessages = undefined;\n    }\n    stepChange() {\n        this.toggleSecond();\n    }\n    valueWatcher(newValue) {\n        this.setValue(newValue);\n    }\n    onMessagesChange() {\n        /* wired up by t9n util */\n    }\n    effectiveLocaleWatcher() {\n        this.updateLocale();\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Event Listeners\n    //\n    //--------------------------------------------------------------------------\n    blurHandler() {\n        this.activeEl = undefined;\n        this.pointerActivated = false;\n        this.calciteInternalTimePickerBlur.emit();\n    }\n    hostFocusHandler() {\n        this.calciteInternalTimePickerFocus.emit();\n    }\n    keyDownHandler(event) {\n        this.pointerActivated = false;\n        const { defaultPrevented, key } = event;\n        if (defaultPrevented) {\n            return;\n        }\n        switch (this.activeEl) {\n            case this.hourEl:\n                if (key === \"ArrowRight\") {\n                    this.focusPart(\"minute\");\n                    event.preventDefault();\n                }\n                break;\n            case this.minuteEl:\n                switch (key) {\n                    case \"ArrowLeft\":\n                        this.focusPart(\"hour\");\n                        event.preventDefault();\n                        break;\n                    case \"ArrowRight\":\n                        if (this.step !== 60) {\n                            this.focusPart(\"second\");\n                            event.preventDefault();\n                        }\n                        else if (this.hourCycle === \"12\") {\n                            this.focusPart(\"meridiem\");\n                            event.preventDefault();\n                        }\n                        break;\n                }\n                break;\n            case this.secondEl:\n                switch (key) {\n                    case \"ArrowLeft\":\n                        this.focusPart(\"minute\");\n                        event.preventDefault();\n                        break;\n                    case \"ArrowRight\":\n                        if (this.showFractionalSecond) {\n                            this.focusPart(\"fractionalSecond\");\n                        }\n                        else if (this.hourCycle === \"12\") {\n                            this.focusPart(\"meridiem\");\n                            event.preventDefault();\n                        }\n                        break;\n                }\n                break;\n            case this.fractionalSecondEl:\n                switch (key) {\n                    case \"ArrowLeft\":\n                        this.focusPart(\"second\");\n                        event.preventDefault();\n                        break;\n                    case \"ArrowRight\":\n                        if (this.hourCycle === \"12\") {\n                            this.focusPart(\"meridiem\");\n                            event.preventDefault();\n                        }\n                        break;\n                }\n                break;\n            case this.meridiemEl:\n                switch (key) {\n                    case \"ArrowLeft\":\n                        if (this.showFractionalSecond) {\n                            this.focusPart(\"fractionalSecond\");\n                        }\n                        else if (this.step !== 60) {\n                            this.focusPart(\"second\");\n                            event.preventDefault();\n                        }\n                        else {\n                            this.focusPart(\"minute\");\n                            event.preventDefault();\n                        }\n                        break;\n                }\n                break;\n        }\n    }\n    pointerDownHandler() {\n        this.pointerActivated = true;\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    //--------------------------------------------------------------------------\n    /**\n     * Sets focus on the component's first focusable element.\n     */\n    async setFocus() {\n        await componentFocusable(this);\n        this.el?.focus();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    async focusPart(target) {\n        await componentFocusable(this);\n        this[`${target || \"hour\"}El`]?.focus();\n    }\n    toggleSecond() {\n        this.showSecond = this.step < 60;\n        this.showFractionalSecond = decimalPlaces(this.step) > 0;\n    }\n    getMeridiemOrder(formatParts) {\n        const locale = this.effectiveLocale;\n        const isRTLKind = locale === \"ar\" || locale === \"he\";\n        if (formatParts && !isRTLKind) {\n            const index = formatParts.findIndex((parts) => {\n                return parts.value === this.localizedMeridiem;\n            });\n            return index;\n        }\n        return 0;\n    }\n    updateLocale() {\n        updateMessages(this, this.effectiveLocale);\n        this.hourCycle = getLocaleHourCycle(this.effectiveLocale, this.numberingSystem);\n        this.localizedDecimalSeparator = getLocalizedDecimalSeparator(this.effectiveLocale, this.numberingSystem);\n        this.setValue(this.sanitizeValue(this.value));\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        connectLocalized(this);\n        this.updateLocale();\n        connectMessages(this);\n        this.toggleSecond();\n        this.meridiemOrder = this.getMeridiemOrder(getTimeParts({\n            value: \"0:00:00\",\n            locale: this.effectiveLocale,\n            numberingSystem: this.numberingSystem,\n        }));\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        await setUpMessages(this);\n    }\n    componentDidLoad() {\n        setComponentLoaded(this);\n    }\n    disconnectedCallback() {\n        disconnectLocalized(this);\n        disconnectMessages(this);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    render() {\n        const hourIsNumber = isValidNumber(this.hour);\n        const iconScale = getIconScale(this.scale);\n        const minuteIsNumber = isValidNumber(this.minute);\n        const secondIsNumber = isValidNumber(this.second);\n        const fractionalSecondIsNumber = isValidNumber(this.fractionalSecond);\n        const showMeridiem = this.hourCycle === \"12\";\n        return (h(\"div\", { class: {\n                [CSS.timePicker]: true,\n                [CSS.showMeridiem]: showMeridiem,\n                [CSS.showSecond]: this.showSecond,\n                [CSS[`scale-${this.scale}`]]: true,\n            }, dir: \"ltr\" }, h(\"div\", { class: CSS.column, role: \"group\" }, h(\"span\", { \"aria-label\": this.messages.hourUp, class: {\n                [CSS.button]: true,\n                [CSS.buttonHourUp]: true,\n                [CSS.buttonTopLeft]: true,\n            }, onClick: this.hourUpClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-up\", scale: iconScale })), h(\"span\", { \"aria-label\": this.messages.hour, \"aria-valuemax\": \"23\", \"aria-valuemin\": \"1\", \"aria-valuenow\": (hourIsNumber && parseInt(this.hour)) || \"0\", \"aria-valuetext\": this.hour, class: {\n                [CSS.input]: true,\n                [CSS.hour]: true,\n                [CSS.inputFocus]: this.activeEl && this.activeEl === this.hourEl,\n            }, onClick: this.inputClickHandler, onFocus: this.focusHandler, onKeyDown: this.hourKeyDownHandler, role: \"spinbutton\", tabIndex: 0,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setHourEl }, this.localizedHour || \"--\"), h(\"span\", { \"aria-label\": this.messages.hourDown, class: {\n                [CSS.button]: true,\n                [CSS.buttonHourDown]: true,\n                [CSS.buttonBottomLeft]: true,\n            }, onClick: this.hourDownClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-down\", scale: iconScale }))), h(\"span\", { class: CSS.delimiter }, this.localizedHourSuffix), h(\"div\", { class: CSS.column, role: \"group\" }, h(\"span\", { \"aria-label\": this.messages.minuteUp, class: {\n                [CSS.button]: true,\n                [CSS.buttonMinuteUp]: true,\n            }, onClick: this.minuteUpClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-up\", scale: iconScale })), h(\"span\", { \"aria-label\": this.messages.minute, \"aria-valuemax\": \"12\", \"aria-valuemin\": \"1\", \"aria-valuenow\": (minuteIsNumber && parseInt(this.minute)) || \"0\", \"aria-valuetext\": this.minute, class: {\n                [CSS.input]: true,\n                [CSS.minute]: true,\n                [CSS.inputFocus]: this.activeEl && this.activeEl === this.minuteEl,\n            }, onClick: this.inputClickHandler, onFocus: this.focusHandler, onKeyDown: this.minuteKeyDownHandler, role: \"spinbutton\", tabIndex: 0,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setMinuteEl }, this.localizedMinute || \"--\"), h(\"span\", { \"aria-label\": this.messages.minuteDown, class: {\n                [CSS.button]: true,\n                [CSS.buttonMinuteDown]: true,\n            }, onClick: this.minuteDownClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-down\", scale: iconScale }))), this.showSecond && h(\"span\", { class: CSS.delimiter }, this.localizedMinuteSuffix), this.showSecond && (h(\"div\", { class: CSS.column, role: \"group\" }, h(\"span\", { \"aria-label\": this.messages.secondUp, class: {\n                [CSS.button]: true,\n                [CSS.buttonSecondUp]: true,\n            }, onClick: this.secondUpClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-up\", scale: iconScale })), h(\"span\", { \"aria-label\": this.messages.second, \"aria-valuemax\": \"59\", \"aria-valuemin\": \"0\", \"aria-valuenow\": (secondIsNumber && parseInt(this.second)) || \"0\", \"aria-valuetext\": this.second, class: {\n                [CSS.input]: true,\n                [CSS.second]: true,\n                [CSS.inputFocus]: this.activeEl && this.activeEl === this.secondEl,\n            }, onClick: this.inputClickHandler, onFocus: this.focusHandler, onKeyDown: this.secondKeyDownHandler, role: \"spinbutton\", tabIndex: 0,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setSecondEl }, this.localizedSecond || \"--\"), h(\"span\", { \"aria-label\": this.messages.secondDown, class: {\n                [CSS.button]: true,\n                [CSS.buttonSecondDown]: true,\n            }, onClick: this.secondDownClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-down\", scale: iconScale })))), this.showFractionalSecond && (h(\"span\", { class: CSS.delimiter }, this.localizedDecimalSeparator)), this.showFractionalSecond && (h(\"div\", { class: CSS.column, role: \"group\" }, h(\"span\", { \"aria-label\": this.messages.fractionalSecondUp, class: {\n                [CSS.button]: true,\n                [CSS.buttonFractionalSecondUp]: true,\n            }, onClick: this.fractionalSecondUpClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-up\", scale: iconScale })), h(\"span\", { \"aria-label\": this.messages.fractionalSecond, \"aria-valuemax\": \"999\", \"aria-valuemin\": \"1\", \"aria-valuenow\": (fractionalSecondIsNumber && parseInt(this.fractionalSecond)) || \"0\", \"aria-valuetext\": this.localizedFractionalSecond, class: {\n                [CSS.input]: true,\n                [CSS.fractionalSecond]: true,\n                [CSS.inputFocus]: this.activeEl && this.activeEl === this.fractionalSecondEl,\n            }, onClick: this.inputClickHandler, onFocus: this.focusHandler, onKeyDown: this.fractionalSecondKeyDownHandler, role: \"spinbutton\", tabIndex: 0,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setFractionalSecondEl }, this.localizedFractionalSecond || \"--\"), h(\"span\", { \"aria-label\": this.messages.fractionalSecondDown, class: {\n                [CSS.button]: true,\n                [CSS.buttonFractionalSecondDown]: true,\n            }, onClick: this.fractionalSecondDownClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-down\", scale: iconScale })))), this.localizedSecondSuffix && (h(\"span\", { class: CSS.delimiter }, this.localizedSecondSuffix)), showMeridiem && (h(\"div\", { class: {\n                [CSS.column]: true,\n                [CSS.meridiemStart]: this.meridiemOrder === 0,\n            }, role: \"group\" }, h(\"span\", { \"aria-label\": this.messages.meridiemUp, class: {\n                [CSS.button]: true,\n                [CSS.buttonMeridiemUp]: true,\n                [CSS.buttonTopRight]: true,\n            }, onClick: this.meridiemUpClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-up\", scale: iconScale })), h(\"span\", { \"aria-label\": this.messages.meridiem, \"aria-valuemax\": \"2\", \"aria-valuemin\": \"1\", \"aria-valuenow\": (this.meridiem === \"PM\" && \"2\") || \"1\", \"aria-valuetext\": this.meridiem, class: {\n                [CSS.input]: true,\n                [CSS.meridiem]: true,\n                [CSS.inputFocus]: this.activeEl && this.activeEl === this.meridiemEl,\n            }, onClick: this.inputClickHandler, onFocus: this.focusHandler, onKeyDown: this.meridiemKeyDownHandler, role: \"spinbutton\", tabIndex: 0,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setMeridiemEl }, this.localizedMeridiem || \"--\"), h(\"span\", { \"aria-label\": this.messages.meridiemDown, class: {\n                [CSS.button]: true,\n                [CSS.buttonMeridiemDown]: true,\n                [CSS.buttonBottomRight]: true,\n            }, onClick: this.meridiemDownClickHandler, role: \"button\" }, h(\"calcite-icon\", { icon: \"chevron-down\", scale: iconScale }))))));\n    }\n    static get delegatesFocus() { return true; }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return this; }\n    static get watchers() { return {\n        \"step\": [\"stepChange\"],\n        \"value\": [\"valueWatcher\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"effectiveLocale\": [\"effectiveLocaleWatcher\"]\n    }; }\n    static get style() { return timePickerCss; }\n}, [17, \"calcite-time-picker\", {\n        \"scale\": [513],\n        \"step\": [514],\n        \"numberingSystem\": [1, \"numbering-system\"],\n        \"value\": [1025],\n        \"messages\": [1040],\n        \"messageOverrides\": [1040],\n        \"activeEl\": [32],\n        \"effectiveLocale\": [32],\n        \"fractionalSecond\": [32],\n        \"hour\": [32],\n        \"hourCycle\": [32],\n        \"localizedDecimalSeparator\": [32],\n        \"localizedHour\": [32],\n        \"localizedHourSuffix\": [32],\n        \"localizedMeridiem\": [32],\n        \"localizedFractionalSecond\": [32],\n        \"localizedMinute\": [32],\n        \"localizedMinuteSuffix\": [32],\n        \"localizedSecond\": [32],\n        \"localizedSecondSuffix\": [32],\n        \"meridiem\": [32],\n        \"minute\": [32],\n        \"second\": [32],\n        \"showFractionalSecond\": [32],\n        \"showSecond\": [32],\n        \"defaultMessages\": [32],\n        \"setFocus\": [64]\n    }, [[0, \"blur\", \"blurHandler\"], [0, \"focus\", \"hostFocusHandler\"], [0, \"keydown\", \"keyDownHandler\"], [1, \"pointerdown\", \"pointerDownHandler\"]], {\n        \"step\": [\"stepChange\"],\n        \"value\": [\"valueWatcher\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"effectiveLocale\": [\"effectiveLocaleWatcher\"]\n    }]);\nfunction defineCustomElement() {\n    if (typeof customElements === \"undefined\") {\n        return;\n    }\n    const components = [\"calcite-time-picker\", \"calcite-icon\"];\n    components.forEach(tagName => { switch (tagName) {\n        case \"calcite-time-picker\":\n            if (!customElements.get(tagName)) {\n                customElements.define(tagName, TimePicker);\n            }\n            break;\n        case \"calcite-icon\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$1();\n            }\n            break;\n    } });\n}\ndefineCustomElement();\n\nexport { TimePicker as T, formatTimePart as a, defineCustomElement as d, formatTimeString as f, isValidTime as i, localizeTimeString as l, toISOTimeString as t };\n\n//# sourceMappingURL=time-picker.js.map","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h, Host } from '@stencil/core/internal/client/index.js';\nimport { s as submitForm, c as connectForm, d as disconnectForm, H as HiddenFormInputSlot } from './form.js';\nimport { g as guid } from './guid.js';\nimport { c as connectInteractive, d as disconnectInteractive, u as updateHostInteraction, I as InteractiveContainer } from './interactive.js';\nimport { n as numberKeys } from './key.js';\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from './label2.js';\nimport { c as componentFocusable, s as setUpLoadableComponent, a as setComponentLoaded } from './loadable.js';\nimport { n as numberStringFormatter, g as getSupportedLocale, c as connectLocalized, d as disconnectLocalized } from './locale.js';\nimport { d as deactivateFocusTrap, a as activateFocusTrap, c as connectFocusTrap } from './focusTrapComponent.js';\nimport { l as localizeTimeString, t as toISOTimeString, i as isValidTime, f as formatTimeString, a as formatTimePart, d as defineCustomElement$2 } from './time-picker.js';\nimport { c as connectMessages, s as setUpMessages, d as disconnectMessages } from './t9n.js';\nimport { o as onToggleOpenCloseComponent } from './openCloseComponent.js';\nimport { d as decimalPlaces } from './math.js';\nimport { g as getIconScale } from './component.js';\nimport { V as Validation } from './Validation.js';\nimport { d as defineCustomElement$9 } from './action.js';\nimport { d as defineCustomElement$8 } from './icon.js';\nimport { d as defineCustomElement$7 } from './input-message.js';\nimport { d as defineCustomElement$6 } from './input-text.js';\nimport { d as defineCustomElement$5 } from './loader.js';\nimport { d as defineCustomElement$4 } from './popover.js';\nimport { d as defineCustomElement$3 } from './progress.js';\n\nconst CSS = {\n    toggleIcon: \"toggle-icon\",\n};\n\nvar SECONDS_A_MINUTE = 60;\nvar SECONDS_A_HOUR = SECONDS_A_MINUTE * 60;\nvar SECONDS_A_DAY = SECONDS_A_HOUR * 24;\nvar SECONDS_A_WEEK = SECONDS_A_DAY * 7;\nvar MILLISECONDS_A_SECOND = 1e3;\nvar MILLISECONDS_A_MINUTE = SECONDS_A_MINUTE * MILLISECONDS_A_SECOND;\nvar MILLISECONDS_A_HOUR = SECONDS_A_HOUR * MILLISECONDS_A_SECOND;\nvar MILLISECONDS_A_DAY = SECONDS_A_DAY * MILLISECONDS_A_SECOND;\nvar MILLISECONDS_A_WEEK = SECONDS_A_WEEK * MILLISECONDS_A_SECOND; // English locales\n\nvar MS = 'millisecond';\nvar S = 'second';\nvar MIN = 'minute';\nvar H = 'hour';\nvar D = 'day';\nvar W = 'week';\nvar M = 'month';\nvar Q = 'quarter';\nvar Y = 'year';\nvar DATE = 'date';\nvar FORMAT_DEFAULT = 'YYYY-MM-DDTHH:mm:ssZ';\nvar INVALID_DATE_STRING = 'Invalid Date'; // regex\n\nvar REGEX_PARSE = /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/;\nvar REGEX_FORMAT = /\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;\n\n// English [en]\n// We don't need weekdaysShort, weekdaysMin, monthsShort in en.js locale\nconst en = {\n  name: 'en',\n  weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n  months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n  ordinal: function ordinal(n) {\n    var s = ['th', 'st', 'nd', 'rd'];\n    var v = n % 100;\n    return \"[\" + n + (s[(v - 20) % 10] || s[v] || s[0]) + \"]\";\n  }\n};\n\nconst en$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': en\n});\n\nvar padStart = function padStart(string, length, pad) {\n  var s = String(string);\n  if (!s || s.length >= length) return string;\n  return \"\" + Array(length + 1 - s.length).join(pad) + string;\n};\n\nvar padZoneStr = function padZoneStr(instance) {\n  var negMinutes = -instance.utcOffset();\n  var minutes = Math.abs(negMinutes);\n  var hourOffset = Math.floor(minutes / 60);\n  var minuteOffset = minutes % 60;\n  return \"\" + (negMinutes <= 0 ? '+' : '-') + padStart(hourOffset, 2, '0') + \":\" + padStart(minuteOffset, 2, '0');\n};\n\nvar monthDiff = function monthDiff(a, b) {\n  // function from moment.js in order to keep the same result\n  if (a.date() < b.date()) return -monthDiff(b, a);\n  var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month());\n  var anchor = a.clone().add(wholeMonthDiff, M);\n  var c = b - anchor < 0;\n  var anchor2 = a.clone().add(wholeMonthDiff + (c ? -1 : 1), M);\n  return +(-(wholeMonthDiff + (b - anchor) / (c ? anchor - anchor2 : anchor2 - anchor)) || 0);\n};\n\nvar absFloor = function absFloor(n) {\n  return n < 0 ? Math.ceil(n) || 0 : Math.floor(n);\n};\n\nvar prettyUnit = function prettyUnit(u) {\n  var special = {\n    M: M,\n    y: Y,\n    w: W,\n    d: D,\n    D: DATE,\n    h: H,\n    m: MIN,\n    s: S,\n    ms: MS,\n    Q: Q\n  };\n  return special[u] || String(u || '').toLowerCase().replace(/s$/, '');\n};\n\nvar isUndefined = function isUndefined(s) {\n  return s === undefined;\n};\n\nconst U = {\n  s: padStart,\n  z: padZoneStr,\n  m: monthDiff,\n  a: absFloor,\n  p: prettyUnit,\n  u: isUndefined\n};\n\nvar L = 'en'; // global locale\n\nvar Ls = {}; // global loaded locale\n\nLs[L] = en;\nvar IS_DAYJS = '$isDayjsObject'; // eslint-disable-next-line no-use-before-define\n\nvar isDayjs = function isDayjs(d) {\n  return d instanceof Dayjs || !!(d && d[IS_DAYJS]);\n};\n\nvar parseLocale = function parseLocale(preset, object, isLocal) {\n  var l;\n  if (!preset) return L;\n\n  if (typeof preset === 'string') {\n    var presetLower = preset.toLowerCase();\n\n    if (Ls[presetLower]) {\n      l = presetLower;\n    }\n\n    if (object) {\n      Ls[presetLower] = object;\n      l = presetLower;\n    }\n\n    var presetSplit = preset.split('-');\n\n    if (!l && presetSplit.length > 1) {\n      return parseLocale(presetSplit[0]);\n    }\n  } else {\n    var name = preset.name;\n    Ls[name] = preset;\n    l = name;\n  }\n\n  if (!isLocal && l) L = l;\n  return l || !isLocal && L;\n};\n\nvar dayjs = function dayjs(date, c) {\n  if (isDayjs(date)) {\n    return date.clone();\n  } // eslint-disable-next-line no-nested-ternary\n\n\n  var cfg = typeof c === 'object' ? c : {};\n  cfg.date = date;\n  cfg.args = arguments; // eslint-disable-line prefer-rest-params\n\n  return new Dayjs(cfg); // eslint-disable-line no-use-before-define\n};\n\nvar wrapper = function wrapper(date, instance) {\n  return dayjs(date, {\n    locale: instance.$L,\n    utc: instance.$u,\n    x: instance.$x,\n    $offset: instance.$offset // todo: refactor; do not use this.$offset in you code\n\n  });\n};\n\nvar Utils = U; // for plugin use\n\nUtils.l = parseLocale;\nUtils.i = isDayjs;\nUtils.w = wrapper;\n\nvar parseDate = function parseDate(cfg) {\n  var date = cfg.date,\n      utc = cfg.utc;\n  if (date === null) return new Date(NaN); // null is invalid\n\n  if (Utils.u(date)) return new Date(); // today\n\n  if (date instanceof Date) return new Date(date);\n\n  if (typeof date === 'string' && !/Z$/i.test(date)) {\n    var d = date.match(REGEX_PARSE);\n\n    if (d) {\n      var m = d[2] - 1 || 0;\n      var ms = (d[7] || '0').substring(0, 3);\n\n      if (utc) {\n        return new Date(Date.UTC(d[1], m, d[3] || 1, d[4] || 0, d[5] || 0, d[6] || 0, ms));\n      }\n\n      return new Date(d[1], m, d[3] || 1, d[4] || 0, d[5] || 0, d[6] || 0, ms);\n    }\n  }\n\n  return new Date(date); // everything else\n};\n\nvar Dayjs = /*#__PURE__*/function () {\n  function Dayjs(cfg) {\n    this.$L = parseLocale(cfg.locale, null, true);\n    this.parse(cfg); // for plugin\n\n    this.$x = this.$x || cfg.x || {};\n    this[IS_DAYJS] = true;\n  }\n\n  var _proto = Dayjs.prototype;\n\n  _proto.parse = function parse(cfg) {\n    this.$d = parseDate(cfg);\n    this.init();\n  };\n\n  _proto.init = function init() {\n    var $d = this.$d;\n    this.$y = $d.getFullYear();\n    this.$M = $d.getMonth();\n    this.$D = $d.getDate();\n    this.$W = $d.getDay();\n    this.$H = $d.getHours();\n    this.$m = $d.getMinutes();\n    this.$s = $d.getSeconds();\n    this.$ms = $d.getMilliseconds();\n  } // eslint-disable-next-line class-methods-use-this\n  ;\n\n  _proto.$utils = function $utils() {\n    return Utils;\n  };\n\n  _proto.isValid = function isValid() {\n    return !(this.$d.toString() === INVALID_DATE_STRING);\n  };\n\n  _proto.isSame = function isSame(that, units) {\n    var other = dayjs(that);\n    return this.startOf(units) <= other && other <= this.endOf(units);\n  };\n\n  _proto.isAfter = function isAfter(that, units) {\n    return dayjs(that) < this.startOf(units);\n  };\n\n  _proto.isBefore = function isBefore(that, units) {\n    return this.endOf(units) < dayjs(that);\n  };\n\n  _proto.$g = function $g(input, get, set) {\n    if (Utils.u(input)) return this[get];\n    return this.set(set, input);\n  };\n\n  _proto.unix = function unix() {\n    return Math.floor(this.valueOf() / 1000);\n  };\n\n  _proto.valueOf = function valueOf() {\n    // timezone(hour) * 60 * 60 * 1000 => ms\n    return this.$d.getTime();\n  };\n\n  _proto.startOf = function startOf(units, _startOf) {\n    var _this = this;\n\n    // startOf -> endOf\n    var isStartOf = !Utils.u(_startOf) ? _startOf : true;\n    var unit = Utils.p(units);\n\n    var instanceFactory = function instanceFactory(d, m) {\n      var ins = Utils.w(_this.$u ? Date.UTC(_this.$y, m, d) : new Date(_this.$y, m, d), _this);\n      return isStartOf ? ins : ins.endOf(D);\n    };\n\n    var instanceFactorySet = function instanceFactorySet(method, slice) {\n      var argumentStart = [0, 0, 0, 0];\n      var argumentEnd = [23, 59, 59, 999];\n      return Utils.w(_this.toDate()[method].apply( // eslint-disable-line prefer-spread\n      _this.toDate('s'), (isStartOf ? argumentStart : argumentEnd).slice(slice)), _this);\n    };\n\n    var $W = this.$W,\n        $M = this.$M,\n        $D = this.$D;\n    var utcPad = \"set\" + (this.$u ? 'UTC' : '');\n\n    switch (unit) {\n      case Y:\n        return isStartOf ? instanceFactory(1, 0) : instanceFactory(31, 11);\n\n      case M:\n        return isStartOf ? instanceFactory(1, $M) : instanceFactory(0, $M + 1);\n\n      case W:\n        {\n          var weekStart = this.$locale().weekStart || 0;\n          var gap = ($W < weekStart ? $W + 7 : $W) - weekStart;\n          return instanceFactory(isStartOf ? $D - gap : $D + (6 - gap), $M);\n        }\n\n      case D:\n      case DATE:\n        return instanceFactorySet(utcPad + \"Hours\", 0);\n\n      case H:\n        return instanceFactorySet(utcPad + \"Minutes\", 1);\n\n      case MIN:\n        return instanceFactorySet(utcPad + \"Seconds\", 2);\n\n      case S:\n        return instanceFactorySet(utcPad + \"Milliseconds\", 3);\n\n      default:\n        return this.clone();\n    }\n  };\n\n  _proto.endOf = function endOf(arg) {\n    return this.startOf(arg, false);\n  };\n\n  _proto.$set = function $set(units, _int) {\n    var _C$D$C$DATE$C$M$C$Y$C;\n\n    // private set\n    var unit = Utils.p(units);\n    var utcPad = \"set\" + (this.$u ? 'UTC' : '');\n    var name = (_C$D$C$DATE$C$M$C$Y$C = {}, _C$D$C$DATE$C$M$C$Y$C[D] = utcPad + \"Date\", _C$D$C$DATE$C$M$C$Y$C[DATE] = utcPad + \"Date\", _C$D$C$DATE$C$M$C$Y$C[M] = utcPad + \"Month\", _C$D$C$DATE$C$M$C$Y$C[Y] = utcPad + \"FullYear\", _C$D$C$DATE$C$M$C$Y$C[H] = utcPad + \"Hours\", _C$D$C$DATE$C$M$C$Y$C[MIN] = utcPad + \"Minutes\", _C$D$C$DATE$C$M$C$Y$C[S] = utcPad + \"Seconds\", _C$D$C$DATE$C$M$C$Y$C[MS] = utcPad + \"Milliseconds\", _C$D$C$DATE$C$M$C$Y$C)[unit];\n    var arg = unit === D ? this.$D + (_int - this.$W) : _int;\n\n    if (unit === M || unit === Y) {\n      // clone is for badMutable plugin\n      var date = this.clone().set(DATE, 1);\n      date.$d[name](arg);\n      date.init();\n      this.$d = date.set(DATE, Math.min(this.$D, date.daysInMonth())).$d;\n    } else if (name) this.$d[name](arg);\n\n    this.init();\n    return this;\n  };\n\n  _proto.set = function set(string, _int2) {\n    return this.clone().$set(string, _int2);\n  };\n\n  _proto.get = function get(unit) {\n    return this[Utils.p(unit)]();\n  };\n\n  _proto.add = function add(number, units) {\n    var _this2 = this,\n        _C$MIN$C$H$C$S$unit;\n\n    number = Number(number); // eslint-disable-line no-param-reassign\n\n    var unit = Utils.p(units);\n\n    var instanceFactorySet = function instanceFactorySet(n) {\n      var d = dayjs(_this2);\n      return Utils.w(d.date(d.date() + Math.round(n * number)), _this2);\n    };\n\n    if (unit === M) {\n      return this.set(M, this.$M + number);\n    }\n\n    if (unit === Y) {\n      return this.set(Y, this.$y + number);\n    }\n\n    if (unit === D) {\n      return instanceFactorySet(1);\n    }\n\n    if (unit === W) {\n      return instanceFactorySet(7);\n    }\n\n    var step = (_C$MIN$C$H$C$S$unit = {}, _C$MIN$C$H$C$S$unit[MIN] = MILLISECONDS_A_MINUTE, _C$MIN$C$H$C$S$unit[H] = MILLISECONDS_A_HOUR, _C$MIN$C$H$C$S$unit[S] = MILLISECONDS_A_SECOND, _C$MIN$C$H$C$S$unit)[unit] || 1; // ms\n\n    var nextTimeStamp = this.$d.getTime() + number * step;\n    return Utils.w(nextTimeStamp, this);\n  };\n\n  _proto.subtract = function subtract(number, string) {\n    return this.add(number * -1, string);\n  };\n\n  _proto.format = function format(formatStr) {\n    var _this3 = this;\n\n    var locale = this.$locale();\n    if (!this.isValid()) return locale.invalidDate || INVALID_DATE_STRING;\n    var str = formatStr || FORMAT_DEFAULT;\n    var zoneStr = Utils.z(this);\n    var $H = this.$H,\n        $m = this.$m,\n        $M = this.$M;\n    var weekdays = locale.weekdays,\n        months = locale.months,\n        meridiem = locale.meridiem;\n\n    var getShort = function getShort(arr, index, full, length) {\n      return arr && (arr[index] || arr(_this3, str)) || full[index].slice(0, length);\n    };\n\n    var get$H = function get$H(num) {\n      return Utils.s($H % 12 || 12, num, '0');\n    };\n\n    var meridiemFunc = meridiem || function (hour, minute, isLowercase) {\n      var m = hour < 12 ? 'AM' : 'PM';\n      return isLowercase ? m.toLowerCase() : m;\n    };\n\n    var matches = function matches(match) {\n      switch (match) {\n        case 'YY':\n          return String(_this3.$y).slice(-2);\n\n        case 'YYYY':\n          return Utils.s(_this3.$y, 4, '0');\n\n        case 'M':\n          return $M + 1;\n\n        case 'MM':\n          return Utils.s($M + 1, 2, '0');\n\n        case 'MMM':\n          return getShort(locale.monthsShort, $M, months, 3);\n\n        case 'MMMM':\n          return getShort(months, $M);\n\n        case 'D':\n          return _this3.$D;\n\n        case 'DD':\n          return Utils.s(_this3.$D, 2, '0');\n\n        case 'd':\n          return String(_this3.$W);\n\n        case 'dd':\n          return getShort(locale.weekdaysMin, _this3.$W, weekdays, 2);\n\n        case 'ddd':\n          return getShort(locale.weekdaysShort, _this3.$W, weekdays, 3);\n\n        case 'dddd':\n          return weekdays[_this3.$W];\n\n        case 'H':\n          return String($H);\n\n        case 'HH':\n          return Utils.s($H, 2, '0');\n\n        case 'h':\n          return get$H(1);\n\n        case 'hh':\n          return get$H(2);\n\n        case 'a':\n          return meridiemFunc($H, $m, true);\n\n        case 'A':\n          return meridiemFunc($H, $m, false);\n\n        case 'm':\n          return String($m);\n\n        case 'mm':\n          return Utils.s($m, 2, '0');\n\n        case 's':\n          return String(_this3.$s);\n\n        case 'ss':\n          return Utils.s(_this3.$s, 2, '0');\n\n        case 'SSS':\n          return Utils.s(_this3.$ms, 3, '0');\n\n        case 'Z':\n          return zoneStr;\n      }\n\n      return null;\n    };\n\n    return str.replace(REGEX_FORMAT, function (match, $1) {\n      return $1 || matches(match) || zoneStr.replace(':', '');\n    }); // 'ZZ'\n  };\n\n  _proto.utcOffset = function utcOffset() {\n    // Because a bug at FF24, we're rounding the timezone offset around 15 minutes\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(this.$d.getTimezoneOffset() / 15) * 15;\n  };\n\n  _proto.diff = function diff(input, units, _float) {\n    var _this4 = this;\n\n    var unit = Utils.p(units);\n    var that = dayjs(input);\n    var zoneDelta = (that.utcOffset() - this.utcOffset()) * MILLISECONDS_A_MINUTE;\n    var diff = this - that;\n\n    var getMonth = function getMonth() {\n      return Utils.m(_this4, that);\n    };\n\n    var result;\n\n    switch (unit) {\n      case Y:\n        result = getMonth() / 12;\n        break;\n\n      case M:\n        result = getMonth();\n        break;\n\n      case Q:\n        result = getMonth() / 3;\n        break;\n\n      case W:\n        result = (diff - zoneDelta) / MILLISECONDS_A_WEEK;\n        break;\n\n      case D:\n        result = (diff - zoneDelta) / MILLISECONDS_A_DAY;\n        break;\n\n      case H:\n        result = diff / MILLISECONDS_A_HOUR;\n        break;\n\n      case MIN:\n        result = diff / MILLISECONDS_A_MINUTE;\n        break;\n\n      case S:\n        result = diff / MILLISECONDS_A_SECOND;\n        break;\n\n      default:\n        result = diff; // milliseconds\n\n        break;\n    }\n\n    return _float ? result : Utils.a(result);\n  };\n\n  _proto.daysInMonth = function daysInMonth() {\n    return this.endOf(M).$D;\n  };\n\n  _proto.$locale = function $locale() {\n    // get locale object\n    return Ls[this.$L];\n  };\n\n  _proto.locale = function locale(preset, object) {\n    if (!preset) return this.$L;\n    var that = this.clone();\n    var nextLocaleName = parseLocale(preset, object, true);\n    if (nextLocaleName) that.$L = nextLocaleName;\n    return that;\n  };\n\n  _proto.clone = function clone() {\n    return Utils.w(this.$d, this);\n  };\n\n  _proto.toDate = function toDate() {\n    return new Date(this.valueOf());\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.isValid() ? this.toISOString() : null;\n  };\n\n  _proto.toISOString = function toISOString() {\n    // ie 8 return\n    // new Dayjs(this.valueOf() + this.$d.getTimezoneOffset() * 60000)\n    // .format('YYYY-MM-DDTHH:mm:ss.SSS[Z]')\n    return this.$d.toISOString();\n  };\n\n  _proto.toString = function toString() {\n    return this.$d.toUTCString();\n  };\n\n  return Dayjs;\n}();\n\nvar proto = Dayjs.prototype;\ndayjs.prototype = proto;\n[['$ms', MS], ['$s', S], ['$m', MIN], ['$H', H], ['$W', D], ['$M', M], ['$y', Y], ['$D', DATE]].forEach(function (g) {\n  proto[g[1]] = function (input) {\n    return this.$g(input, g[0], g[1]);\n  };\n});\n\ndayjs.extend = function (plugin, option) {\n  if (!plugin.$i) {\n    // install plugin only once\n    plugin(option, Dayjs, dayjs);\n    plugin.$i = true;\n  }\n\n  return dayjs;\n};\n\ndayjs.locale = parseLocale;\ndayjs.isDayjs = isDayjs;\n\ndayjs.unix = function (timestamp) {\n  return dayjs(timestamp * 1e3);\n};\n\ndayjs.en = Ls[L];\ndayjs.Ls = Ls;\ndayjs.p = {};\n\n// eslint-disable-next-line import/prefer-default-export\nvar t = function t(format) {\n  return format.replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g, function (_, a, b) {\n    return a || b.slice(1);\n  });\n};\nvar englishFormats = {\n  LTS: 'h:mm:ss A',\n  LT: 'h:mm A',\n  L: 'MM/DD/YYYY',\n  LL: 'MMMM D, YYYY',\n  LLL: 'MMMM D, YYYY h:mm A',\n  LLLL: 'dddd, MMMM D, YYYY h:mm A'\n};\nvar u = function u(formatStr, formats) {\n  return formatStr.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g, function (_, a, b) {\n    var B = b && b.toUpperCase();\n    return a || formats[b] || englishFormats[b] || t(formats[B]);\n  });\n};\n\nvar formattingTokens = /(\\[[^[]*\\])|([-_:/.,()\\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g;\nvar match1 = /\\d/; // 0 - 9\n\nvar match2 = /\\d\\d/; // 00 - 99\n\nvar match3 = /\\d{3}/; // 000 - 999\n\nvar match4 = /\\d{4}/; // 0000 - 9999\n\nvar match1to2 = /\\d\\d?/; // 0 - 99\n\nvar matchSigned = /[+-]?\\d+/; // -inf - inf\n\nvar matchOffset = /[+-]\\d\\d:?(\\d\\d)?|Z/; // +00:00 -00:00 +0000 or -0000 +00 or Z\n\nvar matchWord = /\\d*[^-_:/,()\\s\\d]+/; // Word\n\nvar locale = {};\n\nvar parseTwoDigitYear = function parseTwoDigitYear(input) {\n  input = +input;\n  return input + (input > 68 ? 1900 : 2000);\n};\n\nfunction offsetFromString(string) {\n  if (!string) return 0;\n  if (string === 'Z') return 0;\n  var parts = string.match(/([+-]|\\d\\d)/g);\n  var minutes = +(parts[1] * 60) + (+parts[2] || 0);\n  return minutes === 0 ? 0 : parts[0] === '+' ? -minutes : minutes; // eslint-disable-line no-nested-ternary\n}\n\nvar addInput = function addInput(property) {\n  return function (input) {\n    this[property] = +input;\n  };\n};\n\nvar zoneExpressions = [matchOffset, function (input) {\n  var zone = this.zone || (this.zone = {});\n  zone.offset = offsetFromString(input);\n}];\n\nvar getLocalePart = function getLocalePart(name) {\n  var part = locale[name];\n  return part && (part.indexOf ? part : part.s.concat(part.f));\n};\n\nvar meridiemMatch = function meridiemMatch(input, isLowerCase) {\n  var isAfternoon;\n  var _locale = locale,\n      meridiem = _locale.meridiem;\n\n  if (!meridiem) {\n    isAfternoon = input === (isLowerCase ? 'pm' : 'PM');\n  } else {\n    for (var i = 1; i <= 24; i += 1) {\n      // todo: fix input === meridiem(i, 0, isLowerCase)\n      if (input.indexOf(meridiem(i, 0, isLowerCase)) > -1) {\n        isAfternoon = i > 12;\n        break;\n      }\n    }\n  }\n\n  return isAfternoon;\n};\n\nvar expressions = {\n  A: [matchWord, function (input) {\n    this.afternoon = meridiemMatch(input, false);\n  }],\n  a: [matchWord, function (input) {\n    this.afternoon = meridiemMatch(input, true);\n  }],\n  S: [match1, function (input) {\n    this.milliseconds = +input * 100;\n  }],\n  SS: [match2, function (input) {\n    this.milliseconds = +input * 10;\n  }],\n  SSS: [match3, function (input) {\n    this.milliseconds = +input;\n  }],\n  s: [match1to2, addInput('seconds')],\n  ss: [match1to2, addInput('seconds')],\n  m: [match1to2, addInput('minutes')],\n  mm: [match1to2, addInput('minutes')],\n  H: [match1to2, addInput('hours')],\n  h: [match1to2, addInput('hours')],\n  HH: [match1to2, addInput('hours')],\n  hh: [match1to2, addInput('hours')],\n  D: [match1to2, addInput('day')],\n  DD: [match2, addInput('day')],\n  Do: [matchWord, function (input) {\n    var _locale2 = locale,\n        ordinal = _locale2.ordinal;\n\n    var _input$match = input.match(/\\d+/);\n\n    this.day = _input$match[0];\n    if (!ordinal) return;\n\n    for (var i = 1; i <= 31; i += 1) {\n      if (ordinal(i).replace(/\\[|\\]/g, '') === input) {\n        this.day = i;\n      }\n    }\n  }],\n  M: [match1to2, addInput('month')],\n  MM: [match2, addInput('month')],\n  MMM: [matchWord, function (input) {\n    var months = getLocalePart('months');\n    var monthsShort = getLocalePart('monthsShort');\n    var matchIndex = (monthsShort || months.map(function (_) {\n      return _.slice(0, 3);\n    })).indexOf(input) + 1;\n\n    if (matchIndex < 1) {\n      throw new Error();\n    }\n\n    this.month = matchIndex % 12 || matchIndex;\n  }],\n  MMMM: [matchWord, function (input) {\n    var months = getLocalePart('months');\n    var matchIndex = months.indexOf(input) + 1;\n\n    if (matchIndex < 1) {\n      throw new Error();\n    }\n\n    this.month = matchIndex % 12 || matchIndex;\n  }],\n  Y: [matchSigned, addInput('year')],\n  YY: [match2, function (input) {\n    this.year = parseTwoDigitYear(input);\n  }],\n  YYYY: [match4, addInput('year')],\n  Z: zoneExpressions,\n  ZZ: zoneExpressions\n};\n\nfunction correctHours(time) {\n  var afternoon = time.afternoon;\n\n  if (afternoon !== undefined) {\n    var hours = time.hours;\n\n    if (afternoon) {\n      if (hours < 12) {\n        time.hours += 12;\n      }\n    } else if (hours === 12) {\n      time.hours = 0;\n    }\n\n    delete time.afternoon;\n  }\n}\n\nfunction makeParser(format) {\n  format = u(format, locale && locale.formats);\n  var array = format.match(formattingTokens);\n  var length = array.length;\n\n  for (var i = 0; i < length; i += 1) {\n    var token = array[i];\n    var parseTo = expressions[token];\n    var regex = parseTo && parseTo[0];\n    var parser = parseTo && parseTo[1];\n\n    if (parser) {\n      array[i] = {\n        regex: regex,\n        parser: parser\n      };\n    } else {\n      array[i] = token.replace(/^\\[|\\]$/g, '');\n    }\n  }\n\n  return function (input) {\n    var time = {};\n\n    for (var _i = 0, start = 0; _i < length; _i += 1) {\n      var _token = array[_i];\n\n      if (typeof _token === 'string') {\n        start += _token.length;\n      } else {\n        var _regex = _token.regex,\n            _parser = _token.parser;\n        var part = input.slice(start);\n\n        var match = _regex.exec(part);\n\n        var value = match[0];\n\n        _parser.call(time, value);\n\n        input = input.replace(value, '');\n      }\n    }\n\n    correctHours(time);\n    return time;\n  };\n}\n\nvar parseFormattedInput = function parseFormattedInput(input, format, utc) {\n  try {\n    if (['x', 'X'].indexOf(format) > -1) return new Date((format === 'X' ? 1000 : 1) * input);\n    var parser = makeParser(format);\n\n    var _parser2 = parser(input),\n        year = _parser2.year,\n        month = _parser2.month,\n        day = _parser2.day,\n        hours = _parser2.hours,\n        minutes = _parser2.minutes,\n        seconds = _parser2.seconds,\n        milliseconds = _parser2.milliseconds,\n        zone = _parser2.zone;\n\n    var now = new Date();\n    var d = day || (!year && !month ? now.getDate() : 1);\n    var y = year || now.getFullYear();\n    var M = 0;\n\n    if (!(year && !month)) {\n      M = month > 0 ? month - 1 : now.getMonth();\n    }\n\n    var h = hours || 0;\n    var m = minutes || 0;\n    var s = seconds || 0;\n    var ms = milliseconds || 0;\n\n    if (zone) {\n      return new Date(Date.UTC(y, M, d, h, m, s, ms + zone.offset * 60 * 1000));\n    }\n\n    if (utc) {\n      return new Date(Date.UTC(y, M, d, h, m, s, ms));\n    }\n\n    return new Date(y, M, d, h, m, s, ms);\n  } catch (e) {\n    return new Date(''); // Invalid Date\n  }\n};\n\nconst customParseFormat = (function (o, C, d) {\n  d.p.customParseFormat = true;\n\n  if (o && o.parseTwoDigitYear) {\n    parseTwoDigitYear = o.parseTwoDigitYear;\n  }\n\n  var proto = C.prototype;\n  var oldParse = proto.parse;\n\n  proto.parse = function (cfg) {\n    var date = cfg.date,\n        utc = cfg.utc,\n        args = cfg.args;\n    this.$u = utc;\n    var format = args[1];\n\n    if (typeof format === 'string') {\n      var isStrictWithoutLocale = args[2] === true;\n      var isStrictWithLocale = args[3] === true;\n      var isStrict = isStrictWithoutLocale || isStrictWithLocale;\n      var pl = args[2];\n\n      if (isStrictWithLocale) {\n        pl = args[2];\n      }\n\n      locale = this.$locale();\n\n      if (!isStrictWithoutLocale && pl) {\n        locale = d.Ls[pl];\n      }\n\n      this.$d = parseFormattedInput(date, format, utc);\n      this.init();\n      if (pl && pl !== true) this.$L = this.locale(pl).$L; // use != to treat\n      // input number 1410715640579 and format string '1410715640579' equal\n      // eslint-disable-next-line eqeqeq\n\n      if (isStrict && date != this.format(format)) {\n        this.$d = new Date('');\n      } // reset global locale to make parallel unit test\n\n\n      locale = {};\n    } else if (format instanceof Array) {\n      var len = format.length;\n\n      for (var i = 1; i <= len; i += 1) {\n        args[1] = format[i - 1];\n        var result = d.apply(this, args);\n\n        if (result.isValid()) {\n          this.$d = result.$d;\n          this.$L = result.$L;\n          this.init();\n          break;\n        }\n\n        if (i === len) this.$d = new Date('');\n      }\n    } else {\n      oldParse.call(this, cfg);\n    }\n  };\n});\n\nconst localeData = (function (o, c, dayjs) {\n  // locale needed later\n  var proto = c.prototype;\n\n  var getLocalePart = function getLocalePart(part) {\n    return part && (part.indexOf ? part : part.s);\n  };\n\n  var getShort = function getShort(ins, target, full, num, localeOrder) {\n    var locale = ins.name ? ins : ins.$locale();\n    var targetLocale = getLocalePart(locale[target]);\n    var fullLocale = getLocalePart(locale[full]);\n    var result = targetLocale || fullLocale.map(function (f) {\n      return f.slice(0, num);\n    });\n    if (!localeOrder) return result;\n    var weekStart = locale.weekStart;\n    return result.map(function (_, index) {\n      return result[(index + (weekStart || 0)) % 7];\n    });\n  };\n\n  var getDayjsLocaleObject = function getDayjsLocaleObject() {\n    return dayjs.Ls[dayjs.locale()];\n  };\n\n  var getLongDateFormat = function getLongDateFormat(l, format) {\n    return l.formats[format] || t(l.formats[format.toUpperCase()]);\n  };\n\n  var localeData = function localeData() {\n    var _this = this;\n\n    return {\n      months: function months(instance) {\n        return instance ? instance.format('MMMM') : getShort(_this, 'months');\n      },\n      monthsShort: function monthsShort(instance) {\n        return instance ? instance.format('MMM') : getShort(_this, 'monthsShort', 'months', 3);\n      },\n      firstDayOfWeek: function firstDayOfWeek() {\n        return _this.$locale().weekStart || 0;\n      },\n      weekdays: function weekdays(instance) {\n        return instance ? instance.format('dddd') : getShort(_this, 'weekdays');\n      },\n      weekdaysMin: function weekdaysMin(instance) {\n        return instance ? instance.format('dd') : getShort(_this, 'weekdaysMin', 'weekdays', 2);\n      },\n      weekdaysShort: function weekdaysShort(instance) {\n        return instance ? instance.format('ddd') : getShort(_this, 'weekdaysShort', 'weekdays', 3);\n      },\n      longDateFormat: function longDateFormat(format) {\n        return getLongDateFormat(_this.$locale(), format);\n      },\n      meridiem: this.$locale().meridiem,\n      ordinal: this.$locale().ordinal\n    };\n  };\n\n  proto.localeData = function () {\n    return localeData.bind(this)();\n  };\n\n  dayjs.localeData = function () {\n    var localeObject = getDayjsLocaleObject();\n    return {\n      firstDayOfWeek: function firstDayOfWeek() {\n        return localeObject.weekStart || 0;\n      },\n      weekdays: function weekdays() {\n        return dayjs.weekdays();\n      },\n      weekdaysShort: function weekdaysShort() {\n        return dayjs.weekdaysShort();\n      },\n      weekdaysMin: function weekdaysMin() {\n        return dayjs.weekdaysMin();\n      },\n      months: function months() {\n        return dayjs.months();\n      },\n      monthsShort: function monthsShort() {\n        return dayjs.monthsShort();\n      },\n      longDateFormat: function longDateFormat(format) {\n        return getLongDateFormat(localeObject, format);\n      },\n      meridiem: localeObject.meridiem,\n      ordinal: localeObject.ordinal\n    };\n  };\n\n  dayjs.months = function () {\n    return getShort(getDayjsLocaleObject(), 'months');\n  };\n\n  dayjs.monthsShort = function () {\n    return getShort(getDayjsLocaleObject(), 'monthsShort', 'months', 3);\n  };\n\n  dayjs.weekdays = function (localeOrder) {\n    return getShort(getDayjsLocaleObject(), 'weekdays', null, null, localeOrder);\n  };\n\n  dayjs.weekdaysShort = function (localeOrder) {\n    return getShort(getDayjsLocaleObject(), 'weekdaysShort', 'weekdays', 3, localeOrder);\n  };\n\n  dayjs.weekdaysMin = function (localeOrder) {\n    return getShort(getDayjsLocaleObject(), 'weekdaysMin', 'weekdays', 2, localeOrder);\n  };\n});\n\nconst localizedFormat = (function (o, c, d) {\n  var proto = c.prototype;\n  var oldFormat = proto.format;\n  d.en.formats = englishFormats;\n\n  proto.format = function (formatStr) {\n    if (formatStr === void 0) {\n      formatStr = FORMAT_DEFAULT;\n    }\n\n    var _this$$locale = this.$locale(),\n        _this$$locale$formats = _this$$locale.formats,\n        formats = _this$$locale$formats === void 0 ? {} : _this$$locale$formats;\n\n    var result = u(formatStr, formats);\n    return oldFormat.call(this, result);\n  };\n});\n\n// Plugin template from https://day.js.org/docs/en/plugin/plugin\nconst preParsePostFormat = (function (option, dayjsClass) {\n  var oldParse = dayjsClass.prototype.parse;\n\n  dayjsClass.prototype.parse = function (cfg) {\n    if (typeof cfg.date === 'string') {\n      var locale = this.$locale();\n      cfg.date = locale && locale.preparse ? locale.preparse(cfg.date) : cfg.date;\n    } // original parse result\n\n\n    return oldParse.bind(this)(cfg);\n  }; // // overriding existing API\n  // // e.g. extend dayjs().format()\n\n\n  var oldFormat = dayjsClass.prototype.format;\n\n  dayjsClass.prototype.format = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // original format result\n    var result = oldFormat.call.apply(oldFormat, [this].concat(args)); // return modified result\n\n    var locale = this.$locale();\n    return locale && locale.postformat ? locale.postformat(result) : result;\n  };\n\n  var oldFromTo = dayjsClass.prototype.fromToBase;\n\n  if (oldFromTo) {\n    dayjsClass.prototype.fromToBase = function (input, withoutSuffix, instance, isFrom) {\n      var locale = this.$locale() || instance.$locale(); // original format result\n\n      return oldFromTo.call(this, input, withoutSuffix, instance, isFrom, locale && locale.postformat);\n    };\n  }\n});\n\nconst updateLocale = (function (option, Dayjs, dayjs) {\n  dayjs.updateLocale = function (locale, customConfig) {\n    var localeList = dayjs.Ls;\n    var localeConfig = localeList[locale];\n    if (!localeConfig) return;\n    var customConfigKeys = customConfig ? Object.keys(customConfig) : [];\n    customConfigKeys.forEach(function (c) {\n      localeConfig[c] = customConfig[c];\n    });\n    return localeConfig; // eslint-disable-line consistent-return\n  };\n});\n\nconst inputTimePickerCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;-webkit-user-select:none;user-select:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([scale=s]){--calcite-toggle-spacing:0.5rem;--calcite-internal-input-text-input-padding-inline-end:calc(var(--calcite-toggle-spacing) + 1rem)}:host([scale=m]){--calcite-toggle-spacing:0.75rem;--calcite-internal-input-text-input-padding-inline-end:calc(var(--calcite-toggle-spacing) + 1.5rem)}:host([scale=l]){--calcite-toggle-spacing:1rem;--calcite-internal-input-text-input-padding-inline-end:calc(var(--calcite-toggle-spacing) + 2rem)}.input-wrapper{position:relative}.toggle-icon{position:absolute;display:flex;cursor:pointer;align-items:center;inset-inline-end:0;inset-block:0;padding-inline:var(--calcite-toggle-spacing);--calcite-ui-icon-color:var(--calcite-color-text-3)}.input-wrapper:hover .toggle-icon,calcite-input-text:focus+.toggle-icon{--calcite-ui-icon-color:var(--calcite-color-text-1)}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:0.5rem}:host([scale=s]) .validation-container{padding-block-start:0.25rem}:host([hidden]){display:none}[hidden]{display:none}\";\n\n// some bundlers (e.g., Webpack) need dynamic import paths to be static\nconst supportedDayjsLocaleToLocaleConfigImport = new Map([\n    [\"ar\", () => import('./ar.js')],\n    [\"bg\", () => import('./bg.js')],\n    [\"bs\", () => import('./bs.js')],\n    [\"ca\", () => import('./ca.js')],\n    [\"cs\", () => import('./cs.js')],\n    [\"da\", () => import('./da.js')],\n    [\"de\", () => import('./de.js')],\n    [\"de-at\", () => import('./de-at.js')],\n    [\"de-ch\", () => import('./de-ch.js')],\n    [\"el\", () => import('./el.js')],\n    [\"en\", () => Promise.resolve().then(function () { return en$1; })],\n    [\"en-au\", () => import('./en-au.js')],\n    [\"en-ca\", () => import('./en-ca.js')],\n    [\"en-gb\", () => import('./en-gb.js')],\n    [\"es\", () => import('./es.js')],\n    [\"es-mx\", () => import('./es-mx.js')],\n    [\"et\", () => import('./et.js')],\n    [\"fi\", () => import('./fi.js')],\n    [\"fr\", () => import('./fr.js')],\n    [\"fr-ch\", () => import('./fr-ch.js')],\n    [\"he\", () => import('./he.js')],\n    [\"hi\", () => import('./hi.js')],\n    [\"hr\", () => import('./hr.js')],\n    [\"hu\", () => import('./hu.js')],\n    [\"id\", () => import('./id.js')],\n    [\"it\", () => import('./it.js')],\n    [\"it-ch\", () => import('./it-ch.js')],\n    [\"ja\", () => import('./ja.js')],\n    [\"ko\", () => import('./ko.js')],\n    [\"lt\", () => import('./lt.js')],\n    [\"lv\", () => import('./lv.js')],\n    [\"mk\", () => import('./mk.js')],\n    [\"nl\", () => import('./nl.js')],\n    [\"nb\", () => import('./nb.js')],\n    [\"pl\", () => import('./pl.js')],\n    [\"pt\", () => import('./pt.js')],\n    [\"pt-br\", () => import('./pt-br.js')],\n    [\"ro\", () => import('./ro.js')],\n    [\"ru\", () => import('./ru.js')],\n    [\"sk\", () => import('./sk.js')],\n    [\"sl\", () => import('./sl.js')],\n    [\"sr\", () => import('./sr.js')],\n    [\"sv\", () => import('./sv.js')],\n    [\"th\", () => import('./th.js')],\n    [\"tr\", () => import('./tr.js')],\n    [\"uk\", () => import('./uk.js')],\n    [\"vi\", () => import('./vi.js')],\n    [\"zh-cn\", () => import('./zh-cn.js')],\n    [\"zh-hk\", () => import('./zh-hk.js')],\n    [\"zh-tw\", () => import('./zh-tw.js')],\n]);\ndayjs.extend(customParseFormat);\ndayjs.extend(localeData);\ndayjs.extend(localizedFormat);\ndayjs.extend(preParsePostFormat);\ndayjs.extend(updateLocale);\nconst InputTimePicker = /*@__PURE__*/ proxyCustomElement(class InputTimePicker extends HTMLElement {\n    constructor() {\n        super();\n        this.__registerHost();\n        this.__attachShadow();\n        this.calciteInputTimePickerBeforeClose = createEvent(this, \"calciteInputTimePickerBeforeClose\", 6);\n        this.calciteInputTimePickerBeforeOpen = createEvent(this, \"calciteInputTimePickerBeforeOpen\", 6);\n        this.calciteInputTimePickerChange = createEvent(this, \"calciteInputTimePickerChange\", 7);\n        this.calciteInputTimePickerClose = createEvent(this, \"calciteInputTimePickerClose\", 6);\n        this.calciteInputTimePickerOpen = createEvent(this, \"calciteInputTimePickerOpen\", 6);\n        this.focusOnOpen = false;\n        this.dialogId = `time-picker-dialog--${guid()}`;\n        /** whether the value of the input was changed as a result of user typing or not */\n        this.userChangedValue = false;\n        this.referenceElementId = `input-time-picker-${guid()}`;\n        this.openTransitionProp = \"opacity\";\n        //--------------------------------------------------------------------------\n        //\n        //  Event Listeners\n        //\n        //--------------------------------------------------------------------------\n        this.hostBlurHandler = () => {\n            const inputValue = this.calciteInputEl.value;\n            const delocalizedInputValue = this.delocalizeTimeString(inputValue);\n            if (!delocalizedInputValue) {\n                this.setValue(\"\");\n                return;\n            }\n            if (delocalizedInputValue !== this.value) {\n                this.setValue(delocalizedInputValue);\n            }\n            const localizedTimeString = localizeTimeString({\n                value: this.value,\n                locale: this.effectiveLocale,\n                numberingSystem: this.numberingSystem,\n                includeSeconds: this.shouldIncludeSeconds(),\n                fractionalSecondDigits: decimalPlaces(this.step),\n            });\n            if (localizedTimeString !== inputValue) {\n                this.setInputValue(localizedTimeString);\n            }\n            this.deactivate();\n        };\n        this.calciteInternalInputFocusHandler = (event) => {\n            if (!this.readOnly) {\n                event.stopPropagation();\n            }\n        };\n        this.calciteInternalInputInputHandler = (event) => {\n            const { effectiveLocale: locale, numberingSystem } = this;\n            if (numberingSystem && numberingSystem !== \"latn\") {\n                const target = event.target;\n                numberStringFormatter.numberFormatOptions = {\n                    locale,\n                    numberingSystem,\n                    useGrouping: false,\n                };\n                const valueInNumberingSystem = numberStringFormatter\n                    .delocalize(target.value)\n                    .split(\"\")\n                    .map((char) => numberKeys.includes(char)\n                    ? numberStringFormatter.numberFormatter.format(Number(char))\n                    : char)\n                    .join(\"\");\n                this.setInputValue(valueInNumberingSystem);\n            }\n        };\n        this.timePickerChangeHandler = (event) => {\n            event.stopPropagation();\n            const target = event.target;\n            const value = target.value;\n            const includeSeconds = this.shouldIncludeSeconds();\n            this.setValue(toISOTimeString(value, includeSeconds));\n            this.setInputValue(localizeTimeString({\n                value,\n                locale: this.effectiveLocale,\n                numberingSystem: this.numberingSystem,\n                includeSeconds,\n                fractionalSecondDigits: decimalPlaces(this.step),\n            }));\n        };\n        this.popoverCloseHandler = () => {\n            deactivateFocusTrap(this, {\n                onDeactivate: () => {\n                    this.calciteInputEl.setFocus();\n                    this.focusOnOpen = false;\n                },\n            });\n            this.open = false;\n        };\n        this.popoverOpenHandler = () => {\n            activateFocusTrap(this, {\n                onActivate: () => {\n                    if (this.focusOnOpen) {\n                        this.calciteTimePickerEl.setFocus();\n                        this.focusOnOpen = false;\n                    }\n                },\n            });\n        };\n        this.keyDownHandler = (event) => {\n            const { defaultPrevented, key } = event;\n            if (defaultPrevented) {\n                return;\n            }\n            if (key === \"Enter\") {\n                if (submitForm(this)) {\n                    event.preventDefault();\n                    this.calciteInputEl.setFocus();\n                }\n                if (event.composedPath().includes(this.calciteTimePickerEl)) {\n                    return;\n                }\n                const newValue = this.delocalizeTimeString(this.calciteInputEl.value);\n                if (isValidTime(newValue)) {\n                    this.setValue(newValue);\n                    const localizedTimeString = localizeTimeString({\n                        value: this.value,\n                        locale: this.effectiveLocale,\n                        numberingSystem: this.numberingSystem,\n                        includeSeconds: this.shouldIncludeSeconds(),\n                        fractionalSecondDigits: decimalPlaces(this.step),\n                    });\n                    if (newValue && this.calciteInputEl.value !== localizedTimeString) {\n                        this.setInputValue(localizedTimeString);\n                    }\n                }\n            }\n            else if (key === \"ArrowDown\") {\n                this.open = true;\n                this.focusOnOpen = true;\n                event.preventDefault();\n            }\n            else if (key === \"Escape\" && this.open) {\n                this.open = false;\n                event.preventDefault();\n                this.calciteInputEl.setFocus();\n            }\n        };\n        this.setCalcitePopoverEl = (el) => {\n            this.popoverEl = el;\n        };\n        this.setInputAndTransitionEl = (el) => {\n            this.calciteInputEl = el;\n            this.transitionEl = el;\n        };\n        this.setCalciteTimePickerEl = (el) => {\n            this.calciteTimePickerEl = el;\n            connectFocusTrap(this, {\n                focusTrapEl: el,\n                focusTrapOptions: {\n                    initialFocus: false,\n                    setReturnFocus: false,\n                },\n            });\n        };\n        this.setInputValue = (newInputValue) => {\n            if (!this.calciteInputEl) {\n                return;\n            }\n            this.calciteInputEl.value = newInputValue;\n        };\n        /**\n         * Sets the value and emits a change event.\n         * This is used to update the value as a result of user interaction.\n         *\n         * @param value\n         */\n        this.setValue = (value) => {\n            const oldValue = this.value;\n            const newValue = formatTimeString(value) || \"\";\n            if (newValue === oldValue) {\n                return;\n            }\n            this.userChangedValue = true;\n            this.value = newValue || \"\";\n            const changeEvent = this.calciteInputTimePickerChange.emit();\n            if (changeEvent.defaultPrevented) {\n                this.userChangedValue = false;\n                this.value = oldValue;\n                this.setInputValue(localizeTimeString({\n                    value: oldValue,\n                    locale: this.effectiveLocale,\n                    numberingSystem: this.numberingSystem,\n                    includeSeconds: this.shouldIncludeSeconds(),\n                    fractionalSecondDigits: decimalPlaces(this.step),\n                }));\n            }\n        };\n        /**\n         * Sets the value directly without emitting a change event.\n         * This is used to update the value on initial load and when props change that are not the result of user interaction.\n         *\n         * @param value\n         */\n        this.setValueDirectly = (value) => {\n            const includeSeconds = this.shouldIncludeSeconds();\n            this.value = toISOTimeString(value, includeSeconds);\n            this.setInputValue(this.value\n                ? localizeTimeString({\n                    value: this.value,\n                    includeSeconds,\n                    locale: this.effectiveLocale,\n                    numberingSystem: this.numberingSystem,\n                    fractionalSecondDigits: decimalPlaces(this.step),\n                })\n                : \"\");\n        };\n        this.onInputWrapperClick = () => {\n            this.open = !this.open;\n        };\n        this.deactivate = () => {\n            this.open = false;\n        };\n        this.open = false;\n        this.disabled = false;\n        this.focusTrapDisabled = false;\n        this.form = undefined;\n        this.readOnly = false;\n        this.messageOverrides = undefined;\n        this.messages = undefined;\n        this.validationMessage = undefined;\n        this.validationIcon = undefined;\n        this.name = undefined;\n        this.numberingSystem = undefined;\n        this.required = false;\n        this.scale = \"m\";\n        this.status = \"idle\";\n        this.overlayPositioning = \"absolute\";\n        this.placement = \"auto\";\n        this.step = 60;\n        this.value = null;\n        this.defaultMessages = undefined;\n        this.effectiveLocale = \"\";\n    }\n    openHandler() {\n        onToggleOpenCloseComponent(this);\n        if (this.disabled || this.readOnly) {\n            this.open = false;\n            return;\n        }\n        this.reposition(true);\n    }\n    handleFocusTrapDisabled(focusTrapDisabled) {\n        if (!this.open) {\n            return;\n        }\n        focusTrapDisabled ? deactivateFocusTrap(this) : activateFocusTrap(this);\n    }\n    handleDisabledAndReadOnlyChange(value) {\n        if (!value) {\n            this.open = false;\n        }\n    }\n    onMessagesChange() {\n        /* wired up by t9n util */\n    }\n    numberingSystemWatcher(numberingSystem) {\n        this.setInputValue(localizeTimeString({\n            value: this.value,\n            locale: this.effectiveLocale,\n            numberingSystem,\n            includeSeconds: this.shouldIncludeSeconds(),\n            fractionalSecondDigits: decimalPlaces(this.step),\n        }));\n    }\n    stepWatcher(newStep, oldStep) {\n        if ((oldStep >= 60 && newStep > 0 && newStep < 60) ||\n            (newStep >= 60 && oldStep > 0 && oldStep < 60)) {\n            this.setValueDirectly(this.value);\n        }\n    }\n    valueWatcher(newValue) {\n        if (!this.userChangedValue) {\n            this.setValueDirectly(newValue);\n        }\n        this.userChangedValue = false;\n    }\n    async effectiveLocaleWatcher(locale) {\n        await this.loadDateTimeLocaleData();\n        this.setInputValue(localizeTimeString({\n            value: this.value,\n            locale,\n            numberingSystem: this.numberingSystem,\n            includeSeconds: this.shouldIncludeSeconds(),\n            fractionalSecondDigits: decimalPlaces(this.step),\n        }));\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    // --------------------------------------------------------------------------\n    /** Sets focus on the component. */\n    async setFocus() {\n        await componentFocusable(this);\n        this.el.focus();\n    }\n    /**\n     * Updates the position of the component.\n     *\n     * @param delayed\n     */\n    async reposition(delayed = false) {\n        this.popoverEl?.reposition(delayed);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    onBeforeOpen() {\n        this.calciteInputTimePickerBeforeOpen.emit();\n    }\n    onOpen() {\n        this.calciteInputTimePickerOpen.emit();\n    }\n    onBeforeClose() {\n        this.calciteInputTimePickerBeforeClose.emit();\n    }\n    onClose() {\n        this.calciteInputTimePickerClose.emit();\n    }\n    delocalizeTimeString(value) {\n        // we need to set the corresponding locale before parsing, otherwise it defaults to English (possible dayjs bug)\n        dayjs.locale(this.effectiveLocale.toLowerCase());\n        const nonFractionalSecondParts = this.delocalizeTimeStringToParts(value);\n        let delocalizedTimeString;\n        if (this.shouldIncludeFractionalSeconds()) {\n            const stepPrecision = decimalPlaces(this.step);\n            const centisecondParts = this.delocalizeTimeStringToParts(value, \"S\");\n            if (stepPrecision === 1) {\n                delocalizedTimeString =\n                    centisecondParts.millisecond !== 0\n                        ? this.getTimeStringFromParts(centisecondParts)\n                        : this.getTimeStringFromParts(nonFractionalSecondParts);\n            }\n            else {\n                const decisecondParts = this.delocalizeTimeStringToParts(value, \"SS\");\n                if (stepPrecision === 2) {\n                    if (decisecondParts.millisecond !== 0) {\n                        delocalizedTimeString = this.getTimeStringFromParts(decisecondParts);\n                    }\n                    else if (centisecondParts.millisecond !== 0) {\n                        delocalizedTimeString = this.getTimeStringFromParts(centisecondParts);\n                    }\n                    else {\n                        delocalizedTimeString = this.getTimeStringFromParts(nonFractionalSecondParts);\n                    }\n                }\n                else if (stepPrecision >= 3) {\n                    const millisecondParts = this.delocalizeTimeStringToParts(value, \"SSS\");\n                    if (millisecondParts.millisecond !== 0) {\n                        delocalizedTimeString = this.getTimeStringFromParts(millisecondParts);\n                    }\n                    else if (decisecondParts.millisecond !== 0) {\n                        delocalizedTimeString = this.getTimeStringFromParts(decisecondParts);\n                    }\n                    else if (centisecondParts.millisecond !== 0) {\n                        delocalizedTimeString = this.getTimeStringFromParts(centisecondParts);\n                    }\n                    else {\n                        delocalizedTimeString = this.getTimeStringFromParts(nonFractionalSecondParts);\n                    }\n                }\n            }\n        }\n        else {\n            delocalizedTimeString = this.getTimeStringFromParts(nonFractionalSecondParts);\n        }\n        return delocalizedTimeString;\n    }\n    delocalizeTimeStringToParts(localizedTimeString, fractionalSecondFormatToken) {\n        const ltsFormatString = this.localeConfig?.formats?.LTS;\n        const fractionalSecondTokenMatch = ltsFormatString.match(/ss\\.*(S+)/g);\n        if (fractionalSecondFormatToken && this.shouldIncludeFractionalSeconds()) {\n            const secondFormatToken = `ss.${fractionalSecondFormatToken}`;\n            this.localeConfig.formats.LTS = fractionalSecondTokenMatch\n                ? ltsFormatString.replace(fractionalSecondTokenMatch[0], secondFormatToken)\n                : ltsFormatString.replace(\"ss\", secondFormatToken);\n        }\n        else if (fractionalSecondTokenMatch) {\n            this.localeConfig.formats.LTS = ltsFormatString.replace(fractionalSecondTokenMatch[0], \"ss\");\n        }\n        dayjs.updateLocale(this.getSupportedDayjsLocale(getSupportedLocale(this.effectiveLocale)), this.localeConfig);\n        const dayjsParseResult = dayjs(localizedTimeString, [\"LTS\", \"LT\"]);\n        if (dayjsParseResult.isValid()) {\n            return {\n                hour: dayjsParseResult.get(\"hour\"),\n                minute: dayjsParseResult.get(\"minute\"),\n                second: dayjsParseResult.get(\"second\"),\n                millisecond: dayjsParseResult.get(\"millisecond\"),\n            };\n        }\n        return {\n            hour: null,\n            minute: null,\n            second: null,\n            millisecond: null,\n        };\n    }\n    getTimeStringFromParts(parts) {\n        let timeString = \"\";\n        if (!parts) {\n            return timeString;\n        }\n        if (parts.hour !== null && parts.minute !== null) {\n            timeString = `${formatTimePart(parts.hour)}:${formatTimePart(parts.minute)}`;\n            if (this.shouldIncludeSeconds() && parts.second !== null) {\n                timeString += `:${formatTimePart(parts.second)}`;\n                if (this.shouldIncludeFractionalSeconds() && parts.millisecond !== null) {\n                    const second = (parts.millisecond * 0.001).toFixed(decimalPlaces(this.step));\n                    timeString += `.${second.toString().replace(\"0.\", \"\")}`;\n                }\n            }\n        }\n        return timeString;\n    }\n    getSupportedDayjsLocale(locale) {\n        const dayjsLocale = locale.toLowerCase();\n        if (dayjsLocale === \"no\") {\n            return \"nb\";\n        }\n        if (dayjsLocale === \"pt-pt\") {\n            return \"pt\";\n        }\n        return dayjsLocale;\n    }\n    async loadDateTimeLocaleData() {\n        let supportedLocale = getSupportedLocale(this.effectiveLocale).toLowerCase();\n        supportedLocale = this.getSupportedDayjsLocale(supportedLocale);\n        const { default: localeConfig } = await supportedDayjsLocaleToLocaleConfigImport.get(supportedLocale)();\n        this.localeConfig = localeConfig;\n        dayjs.locale(this.localeConfig, null, true);\n        dayjs.updateLocale(supportedLocale, this.getExtendedLocaleConfig(supportedLocale));\n    }\n    getExtendedLocaleConfig(locale) {\n        if (locale === \"ar\") {\n            return {\n                meridiem: (hour) => (hour > 12 ? \"م\" : \"ص\"),\n                formats: {\n                    LT: \"HH:mm A\",\n                    LTS: \"HH:mm:ss A\",\n                    L: \"DD/MM/YYYY\",\n                    LL: \"D MMMM YYYY\",\n                    LLL: \"D MMMM YYYY HH:mm A\",\n                    LLLL: \"dddd D MMMM YYYY HH:mm A\",\n                },\n            };\n        }\n        if (locale === \"en-au\") {\n            return {\n                meridiem: (hour) => (hour > 12 ? \"pm\" : \"am\"),\n            };\n        }\n        if (locale === \"en-ca\") {\n            return {\n                meridiem: (hour) => (hour > 12 ? \"p.m.\" : \"a.m.\"),\n            };\n        }\n        if (locale === \"el\") {\n            return {\n                meridiem: (hour) => (hour > 12 ? \"μ.μ.\" : \"π.μ.\"),\n            };\n        }\n        if (locale === \"hi\") {\n            return {\n                formats: {\n                    LT: \"h:mm A\",\n                    LTS: \"h:mm:ss A\",\n                    L: \"DD/MM/YYYY\",\n                    LL: \"D MMMM YYYY\",\n                    LLL: \"D MMMM YYYY, h:mm A\",\n                    LLLL: \"dddd, D MMMM YYYY, h:mm A\",\n                },\n                meridiem: (hour) => (hour > 12 ? \"pm\" : \"am\"),\n            };\n        }\n        if (locale === \"ko\") {\n            return {\n                meridiem: (hour) => (hour > 12 ? \"오후\" : \"오전\"),\n            };\n        }\n        if (locale === \"zh-tw\") {\n            return {\n                formats: {\n                    LT: \"AHH:mm\",\n                    LTS: \"AHH:mm:ss\",\n                },\n            };\n        }\n        if (locale === \"zh-hk\") {\n            return {\n                formats: {\n                    LT: \"AHH:mm\",\n                    LTS: \"AHH:mm:ss\",\n                },\n                meridiem: (hour) => (hour > 12 ? \"下午\" : \"上午\"),\n            };\n        }\n    }\n    onLabelClick() {\n        this.setFocus();\n    }\n    shouldIncludeSeconds() {\n        return this.step < 60;\n    }\n    shouldIncludeFractionalSeconds() {\n        return decimalPlaces(this.step) > 0;\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    connectedCallback() {\n        connectInteractive(this);\n        connectLocalized(this);\n        if (isValidTime(this.value)) {\n            this.setValueDirectly(this.value);\n        }\n        else {\n            this.value = undefined;\n        }\n        connectLabel(this);\n        connectForm(this);\n        connectMessages(this);\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        await Promise.all([setUpMessages(this), this.loadDateTimeLocaleData()]);\n        if (this.open) {\n            onToggleOpenCloseComponent(this);\n        }\n    }\n    componentDidLoad() {\n        setComponentLoaded(this);\n        if (isValidTime(this.value)) {\n            this.setInputValue(localizeTimeString({\n                value: this.value,\n                locale: this.effectiveLocale,\n                numberingSystem: this.numberingSystem,\n                includeSeconds: this.shouldIncludeSeconds(),\n                fractionalSecondDigits: decimalPlaces(this.step),\n            }));\n        }\n    }\n    disconnectedCallback() {\n        disconnectInteractive(this);\n        disconnectLabel(this);\n        disconnectForm(this);\n        disconnectLocalized(this);\n        deactivateFocusTrap(this);\n        disconnectMessages(this);\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    render() {\n        const { disabled, messages, readOnly, dialogId } = this;\n        return (h(Host, { onBlur: this.hostBlurHandler, onKeyDown: this.keyDownHandler }, h(InteractiveContainer, { disabled: this.disabled }, h(\"div\", { class: \"input-wrapper\", onClick: this.onInputWrapperClick }, h(\"calcite-input-text\", { \"aria-autocomplete\": \"none\", \"aria-haspopup\": \"dialog\", disabled: disabled, icon: \"clock\", id: this.referenceElementId, label: getLabelText(this), lang: this.effectiveLocale, onCalciteInputTextInput: this.calciteInternalInputInputHandler, onCalciteInternalInputTextFocus: this.calciteInternalInputFocusHandler, readOnly: readOnly, role: \"combobox\", scale: this.scale, status: this.status,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setInputAndTransitionEl }), !this.readOnly && this.renderToggleIcon(this.open)), h(\"calcite-popover\", { focusTrapDisabled: true, id: dialogId, label: messages.chooseTime, lang: this.effectiveLocale, onCalcitePopoverClose: this.popoverCloseHandler, onCalcitePopoverOpen: this.popoverOpenHandler, open: this.open, overlayPositioning: this.overlayPositioning, placement: this.placement, referenceElement: this.referenceElementId, triggerDisabled: true,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setCalcitePopoverEl }, h(\"calcite-time-picker\", { lang: this.effectiveLocale, messageOverrides: this.messageOverrides, numberingSystem: this.numberingSystem, onCalciteInternalTimePickerChange: this.timePickerChangeHandler, scale: this.scale, step: this.step, tabIndex: this.open ? undefined : -1, value: this.value,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setCalciteTimePickerEl })), h(HiddenFormInputSlot, { component: this }), this.validationMessage && this.status === \"invalid\" ? (h(Validation, { icon: this.validationIcon, message: this.validationMessage, scale: this.scale, status: this.status })) : null)));\n    }\n    renderToggleIcon(open) {\n        return (h(\"span\", { class: CSS.toggleIcon }, h(\"calcite-icon\", { icon: open ? \"chevron-up\" : \"chevron-down\", scale: getIconScale(this.scale) })));\n    }\n    static get delegatesFocus() { return true; }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return this; }\n    static get watchers() { return {\n        \"open\": [\"openHandler\"],\n        \"focusTrapDisabled\": [\"handleFocusTrapDisabled\"],\n        \"disabled\": [\"handleDisabledAndReadOnlyChange\"],\n        \"readOnly\": [\"handleDisabledAndReadOnlyChange\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"numberingSystem\": [\"numberingSystemWatcher\"],\n        \"step\": [\"stepWatcher\"],\n        \"value\": [\"valueWatcher\"],\n        \"effectiveLocale\": [\"effectiveLocaleWatcher\"]\n    }; }\n    static get style() { return inputTimePickerCss; }\n}, [17, \"calcite-input-time-picker\", {\n        \"open\": [1540],\n        \"disabled\": [516],\n        \"focusTrapDisabled\": [516, \"focus-trap-disabled\"],\n        \"form\": [513],\n        \"readOnly\": [516, \"read-only\"],\n        \"messageOverrides\": [1040],\n        \"messages\": [1040],\n        \"validationMessage\": [1, \"validation-message\"],\n        \"validationIcon\": [520, \"validation-icon\"],\n        \"name\": [1],\n        \"numberingSystem\": [1, \"numbering-system\"],\n        \"required\": [516],\n        \"scale\": [513],\n        \"status\": [513],\n        \"overlayPositioning\": [1, \"overlay-positioning\"],\n        \"placement\": [513],\n        \"step\": [2],\n        \"value\": [1025],\n        \"defaultMessages\": [32],\n        \"effectiveLocale\": [32],\n        \"setFocus\": [64],\n        \"reposition\": [64]\n    }, undefined, {\n        \"open\": [\"openHandler\"],\n        \"focusTrapDisabled\": [\"handleFocusTrapDisabled\"],\n        \"disabled\": [\"handleDisabledAndReadOnlyChange\"],\n        \"readOnly\": [\"handleDisabledAndReadOnlyChange\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"numberingSystem\": [\"numberingSystemWatcher\"],\n        \"step\": [\"stepWatcher\"],\n        \"value\": [\"valueWatcher\"],\n        \"effectiveLocale\": [\"effectiveLocaleWatcher\"]\n    }]);\nfunction defineCustomElement$1() {\n    if (typeof customElements === \"undefined\") {\n        return;\n    }\n    const components = [\"calcite-input-time-picker\", \"calcite-action\", \"calcite-icon\", \"calcite-input-message\", \"calcite-input-text\", \"calcite-loader\", \"calcite-popover\", \"calcite-progress\", \"calcite-time-picker\"];\n    components.forEach(tagName => { switch (tagName) {\n        case \"calcite-input-time-picker\":\n            if (!customElements.get(tagName)) {\n                customElements.define(tagName, InputTimePicker);\n            }\n            break;\n        case \"calcite-action\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$9();\n            }\n            break;\n        case \"calcite-icon\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$8();\n            }\n            break;\n        case \"calcite-input-message\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$7();\n            }\n            break;\n        case \"calcite-input-text\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$6();\n            }\n            break;\n        case \"calcite-loader\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$5();\n            }\n            break;\n        case \"calcite-popover\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$4();\n            }\n            break;\n        case \"calcite-progress\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$3();\n            }\n            break;\n        case \"calcite-time-picker\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$2();\n            }\n            break;\n    } });\n}\ndefineCustomElement$1();\n\nconst CalciteInputTimePicker = InputTimePicker;\nconst defineCustomElement = defineCustomElement$1;\n\nexport { CalciteInputTimePicker, dayjs as d, defineCustomElement };\n\n//# sourceMappingURL=calcite-input-time-picker.js.map"],"mappings":"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"}