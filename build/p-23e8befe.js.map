{"version":3,"names":["T","e","getLogger","m","constructor","t","i","this","_texture","_lastTexture","_fbos","texelSize","buffer","s","pixelType","r","textureOnly","a","n","g","blockIndex","size","data","_resetRange","destroy","dispose","detachColorTexture","_textureDesc","b","wrapMode","p","CLAMP_TO_EDGE","samplingMode","c","NEAREST","dataType","width","height","setData","d","length","dirtyStart","Math","min","dirtyEnd","max","getData","getTexture","_initTexture","getFBO","x","hasDirty","updateTexture","has","console","debug","start","end","firstBytes","Uint8Array","slice","block","u","h","o","l","_","f","BYTES_PER_ELEMENT","error","updateData","update","layout","resize","descriptor","pixelFormat","ArrayBuffer","getBoundFramebufferObject","y","getViewport","bindFramebuffer","readPixels","setViewport","_pendingAttributeUpdates","_version","_epoch","_locked","_initialize","Error","blockDescriptors","blockSize","message","_data","map","_defaultTexture","isEmpty","getBlock","setLabelMinZoom","FilterFlags","setLocalTimeOrigin","LocalTimeOrigin","getLabelMinZoom","getFilterFlags","getVisualVariableData","VV","lockTextureUploads","unlockTextureUploads","requestUpdate","version","push","currentEpoch","blockData","initArgs","sendUpdateEpoch","getUniforms","filterFlags","texture","_getTexture","unit","animation","Animation","gpgpu","GPGPU","localTimeOrigin","visualVariableData","dataDriven0","DD0","dataDriven1","DD1","dataDriven2","DD2","_getDefaultTexture","super","_statisticsByLevel","Map","_entityIndex","attributeView","children","forEach","removeAllChildren","doRender","context","capabilities","enable","hasAnimations","_reindexAndUpdateFeaturesIfNeeded","_reindexFeatures","values","dirty","displayId","firstIndexed","restartAnimation","get","performance","now","restartAllAnimations","entityIds","objectId","lastIndexed","set","delete","_updateAttributeView","createRenderParams","instanceStore","_instanceStore","statisticsByLevel","_instanceId","techniqueRef","_input","instanceId","createMeshInfo","id","techniqueType","type","inputParams","optionalAttributes","getInput","setInput"],"sources":["./node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js","./node_modules/@arcgis/core/views/2d/engine/AFeatureContainer.js","./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/instanceIdUtils.js","./node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueInstance.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{AttributeDataType as i,filterFlagsUnit as s,animationUnit as r,gpgpuUnit as a,localTimeOriginUnit as n,visualVariableUnit as u,dataDrivenUnit0 as h,dataDrivenUnit1 as o,dataDrivenUnit2 as l}from\"./definitions.js\";import{getDisplayIdTexel as d}from\"./DisplayId.js\";import{getPixelArrayCtor as g,getPixelBytes as _}from\"./Utils.js\";import{TextureWrapMode as p,TextureSamplingMode as c}from\"../../../webgl/enums.js\";import{FramebufferObject as x}from\"../../../webgl/FramebufferObject.js\";import{Texture as f}from\"../../../webgl/Texture.js\";import{TextureDescriptor as b}from\"../../../webgl/TextureDescriptor.js\";const T=()=>e.getLogger(\"esri.views.2d.engine.webgl.AttributeStoreView\");class m{constructor(t,e,i){this._texture=null,this._lastTexture=null,this._fbos={},this.texelSize=4;const{buffer:s,pixelType:r,textureOnly:a}=t,n=g(r);this.blockIndex=i,this.pixelType=r,this.size=e,this.textureOnly=a,a||(this.data=new n(s)),this._resetRange()}destroy(){this._texture?.dispose();for(const t in this._fbos){const e=this._fbos[t];e&&(\"0\"===t&&e.detachColorTexture(),e.dispose()),this._fbos[t]=null}this._texture=null}get _textureDesc(){const t=new b;return t.wrapMode=p.CLAMP_TO_EDGE,t.samplingMode=c.NEAREST,t.dataType=this.pixelType,t.width=this.size,t.height=this.size,t}setData(t,e,i){const s=d(t),r=this.data,a=s*this.texelSize+e;!r||a>=r.length||(r[a]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s))}getData(t,e){if(null==this.data)return null;const i=d(t)*this.texelSize+e;return!this.data||i>=this.data.length?null:this.data[i]}getTexture(t){return this._texture??this._initTexture(t)}getFBO(t,e=0){if(!this._fbos[e]){const i=0===e?this.getTexture(t):this._textureDesc;this._fbos[e]=new x(t,i)}return this._fbos[e]}get hasDirty(){const t=this.dirtyStart;return this.dirtyEnd>=t}updateTexture(e,i){try{const s=this.dirtyStart,r=this.dirtyEnd;if(!this.hasDirty)return;has(\"esri-2d-update-debug\")&&console.debug(`Version[${i}] AttributeStoreView.updateTexture`,{start:s,end:r,firstBytes:new Uint8Array(this.data.buffer.slice(0,16)),block:this}),this._resetRange();const a=this.data.buffer,n=this.getTexture(e),u=4,h=(s-s%this.size)/this.size,o=(r-r%this.size)/this.size,l=h,d=this.size,_=o,p=h*this.size*u,c=(d+_*this.size)*u-p,x=g(this.pixelType),f=new x(a,p*x.BYTES_PER_ELEMENT,c),b=this.size,m=_-l+1;if(m>this.size)return void T().error(new t(\"mapview-webgl\",\"Out-of-bounds index when updating AttributeData\"));n.updateData(0,0,l,b,m,f)}catch(s){}}update(t){const{data:e,start:i,end:s}=t;if(null!=e&&null!=this.data){const s=this.data,r=i*this.texelSize;for(let i=0;i<e.length;i++){const a=1<<i%this.texelSize;t.layout&a&&(s[r+i]=e[i])}}this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,s)}resize(t,e){const i=this.size;if(this.size=e,this.textureOnly)return void(i!==this.size&&(this._lastTexture=this._texture,this._texture=null));const s=g(this.pixelType);this.destroy(),this.data=new s(t.buffer)}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}_initTexture(t){const e=new f(t,this._textureDesc,this.data??void 0);if(null!=this._lastTexture&&this._fbos[0]){const i=this._lastTexture.descriptor.width,s=this._lastTexture.descriptor.height,r=this._lastTexture.descriptor.dataType,a=this._lastTexture.descriptor.pixelFormat,n=this.getFBO(t),u=_(r),h=new(g(r))(new ArrayBuffer(i*s*u*this.texelSize)),o=t.getBoundFramebufferObject(),{x:l,y:d,width:p,height:c}=t.getViewport();t.bindFramebuffer(n),n.readPixels(0,0,i,s,a,r,h),e.updateData(0,0,0,2*i,s/2,h),t.setViewport(l,d,p,c),t.bindFramebuffer(o)}return this.destroy(),this._texture=e,this._texture}}class y{constructor(){this.size=0,this._pendingAttributeUpdates=[],this._version=0,this._epoch=0,this._locked=!1}_initialize(t){if(!t)throw new Error(\"InternalError: initArgs must be defined\");const e=t.blockDescriptors;if(this.size=t.blockSize,has(\"esri-2d-update-debug\")&&console.debug(\"AttributeStoreView.initialize\",{message:t}),null==this._data)this._data=e.map(((t,e)=>null!=t?new m(t,this.size,e):null));else for(let i=0;i<this._data.length;i++){const t=this._data[i],s=e[i];null!=s&&(null==t?this._data[i]=new m(s,this.size,i):t.resize(s,this.size))}}destroy(){for(const t of this._data??[])t?.destroy();this._defaultTexture?.dispose(),this._defaultTexture=null,this._pendingAttributeUpdates=[]}isEmpty(){return null==this._data}getBlock(t){if(null==this._data)return null;return this._data[t]}setLabelMinZoom(t,e){this.setData(t,i.FilterFlags,1,e)}setLocalTimeOrigin(t,e){this.setData(t,i.LocalTimeOrigin,0,e)}getLabelMinZoom(t){return this.getData(t,i.FilterFlags,1,255)}getFilterFlags(t){return this.getData(t,i.FilterFlags,0,0)}getVisualVariableData(t,e){return this.getData(t,i.VV,e,0)}getData(t,e,i,s){if(!this._data)return 0;const r=this._data[e];if(null==r)return 0;const a=r.getData(t,i);return null!=a?a:s}setData(t,e,i,s){this._data[e].setData(t,i,s)}lockTextureUploads(){this._locked=!0}unlockTextureUploads(){this._locked=!1,this.update()}requestUpdate(t){this._version=t.version,this._pendingAttributeUpdates.push(t),has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] AttributeStoreView.requestUpdate`,{message:t})}get currentEpoch(){return this._epoch}update(){if(this._locked)return;const t=this._pendingAttributeUpdates;this._pendingAttributeUpdates=[];for(const e of t){const{blockData:t,initArgs:i,sendUpdateEpoch:s,version:r}=e;has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] Epoch[${s}] AttributeStoreView.applyUpdate`),this._version=r,this._epoch=s,null!=i&&this._initialize(i);const a=this._data;for(let e=0;e<t.length;e++){const i=t[e],s=a[e];null!=s&&null!=i&&(has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] CpuBlock[${e}] AttributeStoreView.update`,{block:i}),s.update(i))}}}getUniforms(t){return{filterFlags:{texture:this._getTexture(t,i.FilterFlags),unit:s},animation:{texture:this._getTexture(t,i.Animation),unit:r},gpgpu:{texture:this._getTexture(t,i.GPGPU),unit:a},localTimeOrigin:{texture:this._getTexture(t,i.LocalTimeOrigin),unit:n},visualVariableData:{texture:this._getTexture(t,i.VV),unit:u},dataDriven0:{texture:this._getTexture(t,i.DD0),unit:h},dataDriven1:{texture:this._getTexture(t,i.DD1),unit:o},dataDriven2:{texture:this._getTexture(t,i.DD2),unit:l},size:this.size}}_getTexture(t,e){const i=this._data?.[e];return i?(i.updateTexture(t,this._version),i.getTexture(t)):this._getDefaultTexture(t)}_getDefaultTexture(t){if(null==this._defaultTexture){const e=new b;e.wrapMode=p.CLAMP_TO_EDGE,e.samplingMode=c.NEAREST,e.width=1,e.height=1,this._defaultTexture=new f(t,e,new Uint8Array(4))}return this._defaultTexture}}export{y as AttributeStoreView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{AttributeStoreView as t}from\"./webgl/AttributeStoreView.js\";import{AttributeDataType as e}from\"./webgl/definitions.js\";import i from\"./webgl/TileContainer.js\";const s=60;class n extends i{constructor(e){super(e),this._statisticsByLevel=new Map,this._entityIndex=new Map,this.attributeView=new t}destroy(){this.children.forEach((t=>t.destroy())),this.removeAllChildren(),this.attributeView.destroy()}doRender(t){t.context.capabilities.enable(\"textureFloatLinear\"),super.doRender(t)}get hasAnimations(){for(const t of this.children)if(t.hasAnimations)return!0;return!1}_reindexAndUpdateFeaturesIfNeeded(){if(this.hasAnimations&&(this._reindexFeatures(),0!==this.attributeView.size))for(const t of this._entityIndex.values())t.dirty&&(this.attributeView.setData(t.displayId,e.LocalTimeOrigin,0,t.firstIndexed),t.dirty=!1)}restartAnimation(t){const e=this._entityIndex.get(t);if(!e)return;const i=performance.now()/1e3;e.firstIndexed=i,e.dirty=!0}restartAllAnimations(){const t=performance.now()/1e3;for(const[e,i]of this._entityIndex)i.firstIndexed=t,i.dirty=!0}_reindexFeatures(){const t=performance.now()/1e3;for(const e of this.children)for(const i of e.entityIds){const{objectId:e}=i;let s=this._entityIndex.get(e);s||(s={objectId:e,displayId:0,firstIndexed:t,lastIndexed:0,dirty:!0},this._entityIndex.set(e,s)),s.lastIndexed=t,s.displayId=i.displayId}for(const[e,i]of this._entityIndex)t-i.lastIndexed>s&&this._entityIndex.delete(e)}_updateAttributeView(){this.attributeView.update(),this._reindexAndUpdateFeaturesIfNeeded()}createRenderParams(t){const e=super.createRenderParams(t);return e.attributeView=this.attributeView,e.instanceStore=this._instanceStore,e.statisticsByLevel=this._statisticsByLevel,e}}export{n as AFeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction n(n){return n}function r(n){return n}export{r as castInstanceId,n as castStrictInstanceId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{castStrictInstanceId as t}from\"./mesh/instanceIdUtils.js\";class i{constructor(t,i,e){this._instanceId=t,this.techniqueRef=i,this._input=e}get instanceId(){return t(this._instanceId)}createMeshInfo(i){return{id:t(this._instanceId),techniqueType:this.techniqueRef.type,inputParams:i,optionalAttributes:this._input.optionalAttributes}}getInput(){return this._input}setInput(t){this._input=t}}export{i as FeatureTechniqueInstance};\n"],"mappings":"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"}