{"version":3,"names":["c","r","getLogger","a","e","vertexSpace","origin","clone","anchor","n","i","o","x","y","z","cloneWithVertexSpace","position","s","vertexAttributes","t","Float64Array","length","vertexAttributesChanged","g","p","u","spatialReference","f","geographic","replacement","version","warnOnce","warn","isGeographic","isWebMercator","l","h"],"sources":["./node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{deprecated as e}from\"../../core/deprecate.js\";import r from\"../../core/Logger.js\";import n from\"../Point.js\";import o from\"./MeshGeoreferencedVertexSpace.js\";import i from\"./MeshLocalVertexSpace.js\";import{t}from\"../../chunks/vec3.js\";function c(){return r.getLogger(\"esri.geometry.Mesh\")}function a(e){const{vertexSpace:r}=e;if(null!=r.origin)return e.clone();const{anchor:n}=e,i=n.clone(),c=new o({origin:[i.x,i.y,i.z]}),a=e.cloneWithVertexSpace(c),{position:s}=a.vertexAttributes;return a.vertexAttributes.position=t(new Float64Array(s.length),s,[-i.x,-i.y,-(i.z??0)]),a.vertexAttributesChanged(),a}function s(e,r){switch(e.type){case\"georeferenced\":return g(e)&&!r.isGeographic&&!r.isWebMercator;case\"local\":return r.isGeographic||r.isWebMercator}}function g(e){return null!=e.origin}function p(e){return g(e.vertexSpace)}function u(e,r){if(!g(e))return null;const[o,i,t]=e.origin;return new n({x:o,y:i,z:t,spatialReference:r})}function f(r,n){const{x:t,y:a,z:s,spatialReference:g}=r,p=[t,a,s??0];if(void 0!==n?.geographic){if(e(c(),\"option: geographic\",{replacement:\"use vertexSpace option instead\",version:\"4.29\",warnOnce:!0}),!n?.vertexSpace)return n?.geographic?new i({origin:p}):new o({origin:p});c().warn(\"Deprecated geographic flag ignored since vertexSpace option is provided.\")}if(!n?.vertexSpace)return g.isGeographic||g.isWebMercator?new i({origin:p}):new o({origin:p});switch(n.vertexSpace){case\"local\":return new i({origin:p});case\"georeferenced\":return new o({origin:p});case\"georeferenced-absolute\":return new o}}function l(e){return e.isGeographic||e.isWebMercator?\"local\":\"georeferenced\"}function h(e,r){return\"local\"===e?new i({origin:r}):new o({origin:r})}export{h as createVertexSpace,c as getMeshLogger,p as isMeshWithRelativeVertexSpace,g as isRelativeVertexSpace,l as preferredVertexSpaceTypeForSR,f as selectVertexSpace,s as shouldUpdateFast,a as toRelativeVertexSpace,u as vertexSpaceOriginToPoint};\n"],"mappings":"mIAIkP,SAASA,IAAI,OAAOC,EAAEC,UAAU,qBAAqB,CAAC,SAASC,EAAEC,GAAG,MAAMC,YAAYJ,GAAGG,EAAE,GAAG,MAAMH,EAAEK,OAAO,OAAOF,EAAEG,QAAQ,MAAMC,OAAOC,GAAGL,EAAEM,EAAED,EAAEF,QAAQP,EAAE,IAAIW,EAAE,CAACL,OAAO,CAACI,EAAEE,EAAEF,EAAEG,EAAEH,EAAEI,KAAKX,EAAEC,EAAEW,qBAAqBf,IAAIgB,SAASC,GAAGd,EAAEe,iBAAiB,OAAOf,EAAEe,iBAAiBF,SAASG,EAAE,IAAIC,aAAaH,EAAEI,QAAQJ,EAAE,EAAEP,EAAEE,GAAGF,EAAEG,IAAIH,EAAEI,GAAG,KAAKX,EAAEmB,0BAA0BnB,CAAC,CAAuJ,SAASoB,EAAEnB,GAAG,OAAO,MAAMA,EAAEE,MAAM,CAAC,SAASkB,EAAEpB,GAAG,OAAOmB,EAAEnB,EAAEC,YAAY,CAAC,SAASoB,EAAErB,EAAEH,GAAG,IAAIsB,EAAEnB,GAAG,OAAO,KAAK,MAAMO,EAAED,EAAES,GAAGf,EAAEE,OAAO,OAAO,IAAIG,EAAE,CAACG,EAAED,EAAEE,EAAEH,EAAEI,EAAEK,EAAEO,iBAAiBzB,GAAG,CAAC,SAAS0B,EAAE1B,EAAEQ,GAAG,MAAMG,EAAEO,EAAEN,EAAEV,EAAEW,EAAEG,EAAES,iBAAiBH,GAAGtB,EAAEuB,EAAE,CAACL,EAAEhB,EAAEc,GAAG,GAAG,QAAQ,IAAIR,GAAGmB,WAAW,CAAC,GAAGxB,EAAEJ,IAAI,qBAAqB,CAAC6B,YAAY,iCAAiCC,QAAQ,OAAOC,UAAU,KAAKtB,GAAGJ,YAAY,OAAOI,GAAGmB,WAAW,IAAIlB,EAAE,CAACJ,OAAOkB,IAAI,IAAIb,EAAE,CAACL,OAAOkB,IAAIxB,IAAIgC,KAAK,2EAA2E,CAAC,IAAIvB,GAAGJ,YAAY,OAAOkB,EAAEU,cAAcV,EAAEW,cAAc,IAAIxB,EAAE,CAACJ,OAAOkB,IAAI,IAAIb,EAAE,CAACL,OAAOkB,IAAI,OAAOf,EAAEJ,aAAa,IAAI,QAAQ,OAAO,IAAIK,EAAE,CAACJ,OAAOkB,IAAI,IAAI,gBAAgB,OAAO,IAAIb,EAAE,CAACL,OAAOkB,IAAI,IAAI,yBAAyB,OAAO,IAAIb,EAAE,CAAC,SAASwB,EAAE/B,GAAG,OAAOA,EAAE6B,cAAc7B,EAAE8B,cAAc,QAAQ,eAAe,CAAC,SAASE,EAAEhC,EAAEH,GAAG,MAAM,UAAUG,EAAE,IAAIM,EAAE,CAACJ,OAAOL,IAAI,IAAIU,EAAE,CAACL,OAAOL,GAAG,Q"}