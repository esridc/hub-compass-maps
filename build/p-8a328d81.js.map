{"version":3,"names":["getRoundRobinIndex","index","total","CSS","menu","defaultTrigger","SLOTS","tooltip","trigger","ICONS","activeAttr","actionMenuCss","SUPPORTED_MENU_NAV_KEYS","ActionMenu","proxyCustomElement","HTMLElement","constructor","super","this","__registerHost","__attachShadow","calciteActionMenuOpen","createEvent","actionElements","guid","menuId","menuButtonId","connectMenuButtonEl","open","label","menuButtonEl","slottedMenuButtonEl","defaultMenuButtonEl","disconnectMenuButtonEl","setTooltipReferenceElement","active","setAttribute","toAriaBoolean","id","text","addEventListener","menuButtonClick","menuButtonKeyDown","removeEventListener","setMenuButtonEl","event","actions","target","assignedElements","flatten","filter","el","matches","setDefaultMenuButtonEl","handleCalciteActionClick","setFocus","toggleOpen","updateTooltip","tooltips","tooltipEl","expanded","referenceElement","updateAction","action","activeMenuItemIndex","tabIndex","toggleAttribute","updateActions","forEach","handleDefaultSlotChange","reduce","previousValue","currentValue","push","concat","Array","from","querySelectorAll","disabled","hidden","key","length","isActivationKey","preventDefault","click","handleActionNavigation","isValidKey","currentIndex","Math","max","toggleOpenEnd","value","handlePopoverOpen","handlePopoverClose","appearance","flipPlacements","undefined","overlayPositioning","placement","scale","connectedCallback","componentWillLoad","setUpLoadableComponent","componentDidLoad","setComponentLoaded","disconnectedCallback","expandedHandler","openHandler","emit","activeMenuItemIndexHandler","async","componentFocusable","focusElement","renderMenuButton","menuButtonSlot","h","name","onSlotchange","class","icon","textEnabled","ref","renderMenuItems","activeAction","activeDescendantId","autoClose","focusTrapDisabled","offsetDistance","onCalcitePopoverClose","onCalcitePopoverOpen","pointerDisabled","onClick","role","render","Fragment","supportedKeys","find","k","watchers","style","defineCustomElement","customElements","components","tagName","get","define","defineCustomElement$4","defineCustomElement$3","defineCustomElement$2","defineCustomElement$1"],"sources":["./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/array.js","./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/action-menu.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nfunction getRoundRobinIndex(index, total) {\n    return (index + total) % total;\n}\n\nexport { getRoundRobinIndex as g };\n\n//# sourceMappingURL=array.js.map","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h, Fragment } from '@stencil/core/internal/client/index.js';\nimport { g as getRoundRobinIndex } from './array.js';\nimport { t as toAriaBoolean, e as focusElement } from './dom.js';\nimport { g as guid } from './guid.js';\nimport { i as isActivationKey } from './key.js';\nimport { s as setUpLoadableComponent, a as setComponentLoaded, c as componentFocusable } from './loadable.js';\nimport { d as defineCustomElement$4 } from './action.js';\nimport { d as defineCustomElement$3 } from './icon.js';\nimport { d as defineCustomElement$2 } from './loader.js';\nimport { d as defineCustomElement$1 } from './popover.js';\n\nconst CSS = {\n    menu: \"menu\",\n    defaultTrigger: \"default-trigger\",\n};\nconst SLOTS = {\n    tooltip: \"tooltip\",\n    trigger: \"trigger\",\n};\nconst ICONS = {\n    menu: \"ellipsis\",\n};\nconst activeAttr = \"data-active\";\n\nconst actionMenuCss = \":host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1);color:var(--calcite-color-text-2)}::slotted(calcite-action-group){border-block-end:1px solid var(--calcite-color-border-3)}::slotted(calcite-action-group:last-child){border-block-end:0}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}\";\n\nconst SUPPORTED_MENU_NAV_KEYS = [\"ArrowUp\", \"ArrowDown\", \"End\", \"Home\"];\nconst ActionMenu = /*@__PURE__*/ proxyCustomElement(class ActionMenu extends HTMLElement {\n    constructor() {\n        super();\n        this.__registerHost();\n        this.__attachShadow();\n        this.calciteActionMenuOpen = createEvent(this, \"calciteActionMenuOpen\", 6);\n        this.actionElements = [];\n        this.guid = `calcite-action-menu-${guid()}`;\n        this.menuId = `${this.guid}-menu`;\n        this.menuButtonId = `${this.guid}-menu-button`;\n        // --------------------------------------------------------------------------\n        //\n        //  Component Methods\n        //\n        // --------------------------------------------------------------------------\n        this.connectMenuButtonEl = () => {\n            const { menuButtonId, menuId, open, label } = this;\n            const menuButtonEl = this.slottedMenuButtonEl || this.defaultMenuButtonEl;\n            if (this.menuButtonEl === menuButtonEl) {\n                return;\n            }\n            this.disconnectMenuButtonEl();\n            this.menuButtonEl = menuButtonEl;\n            this.setTooltipReferenceElement();\n            if (!menuButtonEl) {\n                return;\n            }\n            menuButtonEl.active = open;\n            menuButtonEl.setAttribute(\"aria-controls\", menuId);\n            menuButtonEl.setAttribute(\"aria-expanded\", toAriaBoolean(open));\n            menuButtonEl.setAttribute(\"aria-haspopup\", \"true\");\n            if (!menuButtonEl.id) {\n                menuButtonEl.id = menuButtonId;\n            }\n            if (!menuButtonEl.label) {\n                menuButtonEl.label = label;\n            }\n            if (!menuButtonEl.text) {\n                menuButtonEl.text = label;\n            }\n            menuButtonEl.addEventListener(\"click\", this.menuButtonClick);\n            menuButtonEl.addEventListener(\"keydown\", this.menuButtonKeyDown);\n        };\n        this.disconnectMenuButtonEl = () => {\n            const { menuButtonEl } = this;\n            if (!menuButtonEl) {\n                return;\n            }\n            menuButtonEl.removeEventListener(\"click\", this.menuButtonClick);\n            menuButtonEl.removeEventListener(\"keydown\", this.menuButtonKeyDown);\n        };\n        this.setMenuButtonEl = (event) => {\n            const actions = event.target\n                .assignedElements({\n                flatten: true,\n            })\n                .filter((el) => el?.matches(\"calcite-action\"));\n            this.slottedMenuButtonEl = actions[0];\n            this.connectMenuButtonEl();\n        };\n        this.setDefaultMenuButtonEl = (el) => {\n            this.defaultMenuButtonEl = el;\n            this.connectMenuButtonEl();\n        };\n        // --------------------------------------------------------------------------\n        //\n        //  Private Methods\n        //\n        // --------------------------------------------------------------------------\n        this.handleCalciteActionClick = () => {\n            this.open = false;\n            this.setFocus();\n        };\n        this.menuButtonClick = () => {\n            this.toggleOpen();\n        };\n        this.updateTooltip = (event) => {\n            const tooltips = event.target\n                .assignedElements({\n                flatten: true,\n            })\n                .filter((el) => el?.matches(\"calcite-tooltip\"));\n            this.tooltipEl = tooltips[0];\n            this.setTooltipReferenceElement();\n        };\n        this.setTooltipReferenceElement = () => {\n            const { tooltipEl, expanded, menuButtonEl, open } = this;\n            if (tooltipEl) {\n                tooltipEl.referenceElement = !expanded && !open ? menuButtonEl : null;\n            }\n        };\n        this.updateAction = (action, index) => {\n            const { guid, activeMenuItemIndex } = this;\n            const id = `${guid}-action-${index}`;\n            action.tabIndex = -1;\n            action.setAttribute(\"role\", \"menuitem\");\n            if (!action.id) {\n                action.id = id;\n            }\n            // data attribute is used to style the \"activeMenuItemIndex\" action using token focus styling.\n            action.toggleAttribute(activeAttr, index === activeMenuItemIndex);\n        };\n        this.updateActions = (actions) => {\n            actions?.forEach(this.updateAction);\n        };\n        this.handleDefaultSlotChange = (event) => {\n            const actions = event.target\n                .assignedElements({\n                flatten: true,\n            })\n                .reduce((previousValue, currentValue) => {\n                if (currentValue?.matches(\"calcite-action\")) {\n                    previousValue.push(currentValue);\n                    return previousValue;\n                }\n                if (currentValue?.matches(\"calcite-action-group\")) {\n                    return previousValue.concat(Array.from(currentValue.querySelectorAll(\"calcite-action\")));\n                }\n                return previousValue;\n            }, []);\n            this.actionElements = actions.filter((action) => !action.disabled && !action.hidden);\n        };\n        this.menuButtonKeyDown = (event) => {\n            const { key } = event;\n            const { actionElements, activeMenuItemIndex, open } = this;\n            if (!actionElements.length) {\n                return;\n            }\n            if (isActivationKey(key)) {\n                event.preventDefault();\n                if (!open) {\n                    this.toggleOpen();\n                    return;\n                }\n                const action = actionElements[activeMenuItemIndex];\n                action ? action.click() : this.toggleOpen(false);\n            }\n            if (key === \"Tab\") {\n                this.open = false;\n                return;\n            }\n            if (key === \"Escape\") {\n                this.toggleOpen(false);\n                event.preventDefault();\n                return;\n            }\n            this.handleActionNavigation(event, key, actionElements);\n        };\n        this.handleActionNavigation = (event, key, actions) => {\n            if (!this.isValidKey(key, SUPPORTED_MENU_NAV_KEYS)) {\n                return;\n            }\n            event.preventDefault();\n            if (!this.open) {\n                this.toggleOpen();\n                if (key === \"Home\" || key === \"ArrowDown\") {\n                    this.activeMenuItemIndex = 0;\n                }\n                if (key === \"End\" || key === \"ArrowUp\") {\n                    this.activeMenuItemIndex = actions.length - 1;\n                }\n                return;\n            }\n            if (key === \"Home\") {\n                this.activeMenuItemIndex = 0;\n            }\n            if (key === \"End\") {\n                this.activeMenuItemIndex = actions.length - 1;\n            }\n            const currentIndex = this.activeMenuItemIndex;\n            if (key === \"ArrowUp\") {\n                this.activeMenuItemIndex = getRoundRobinIndex(Math.max(currentIndex - 1, -1), actions.length);\n            }\n            if (key === \"ArrowDown\") {\n                this.activeMenuItemIndex = getRoundRobinIndex(currentIndex + 1, actions.length);\n            }\n        };\n        this.toggleOpenEnd = () => {\n            this.setFocus();\n            this.el.removeEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n        };\n        this.toggleOpen = (value = !this.open) => {\n            this.el.addEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n            this.open = value;\n        };\n        this.handlePopoverOpen = () => {\n            this.open = true;\n        };\n        this.handlePopoverClose = () => {\n            this.open = false;\n        };\n        this.appearance = \"solid\";\n        this.expanded = false;\n        this.flipPlacements = undefined;\n        this.label = undefined;\n        this.open = false;\n        this.overlayPositioning = \"absolute\";\n        this.placement = \"auto\";\n        this.scale = undefined;\n        this.menuButtonEl = undefined;\n        this.activeMenuItemIndex = -1;\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        this.connectMenuButtonEl();\n    }\n    componentWillLoad() {\n        setUpLoadableComponent(this);\n    }\n    componentDidLoad() {\n        setComponentLoaded(this);\n    }\n    disconnectedCallback() {\n        this.disconnectMenuButtonEl();\n    }\n    expandedHandler() {\n        this.open = false;\n        this.setTooltipReferenceElement();\n    }\n    openHandler(open) {\n        this.activeMenuItemIndex = this.open ? 0 : -1;\n        if (this.menuButtonEl) {\n            this.menuButtonEl.active = open;\n        }\n        this.calciteActionMenuOpen.emit();\n        this.setTooltipReferenceElement();\n    }\n    activeMenuItemIndexHandler() {\n        this.updateActions(this.actionElements);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Methods\n    //\n    // --------------------------------------------------------------------------\n    /** Sets focus on the component. */\n    async setFocus() {\n        await componentFocusable(this);\n        return focusElement(this.menuButtonEl);\n    }\n    renderMenuButton() {\n        const { appearance, label, scale, expanded } = this;\n        const menuButtonSlot = (h(\"slot\", { name: SLOTS.trigger, onSlotchange: this.setMenuButtonEl }, h(\"calcite-action\", { appearance: appearance, class: CSS.defaultTrigger, icon: ICONS.menu, scale: scale, text: label, textEnabled: expanded,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setDefaultMenuButtonEl })));\n        return menuButtonSlot;\n    }\n    renderMenuItems() {\n        const { actionElements, activeMenuItemIndex, open, menuId, menuButtonEl, label, placement, overlayPositioning, flipPlacements, } = this;\n        const activeAction = actionElements[activeMenuItemIndex];\n        const activeDescendantId = activeAction?.id || null;\n        return (h(\"calcite-popover\", { autoClose: true, flipPlacements: flipPlacements, focusTrapDisabled: true, label: label, offsetDistance: 0, onCalcitePopoverClose: this.handlePopoverClose, onCalcitePopoverOpen: this.handlePopoverOpen, open: open, overlayPositioning: overlayPositioning, placement: placement, pointerDisabled: true, referenceElement: menuButtonEl }, h(\"div\", { \"aria-activedescendant\": activeDescendantId, \"aria-labelledby\": menuButtonEl?.id, class: CSS.menu, id: menuId, onClick: this.handleCalciteActionClick, role: \"menu\", tabIndex: -1 }, h(\"slot\", { onSlotchange: this.handleDefaultSlotChange }))));\n    }\n    render() {\n        return (h(Fragment, null, this.renderMenuButton(), this.renderMenuItems(), h(\"slot\", { name: SLOTS.tooltip, onSlotchange: this.updateTooltip })));\n    }\n    isValidKey(key, supportedKeys) {\n        return !!supportedKeys.find((k) => k === key);\n    }\n    get el() { return this; }\n    static get watchers() { return {\n        \"expanded\": [\"expandedHandler\"],\n        \"open\": [\"openHandler\"],\n        \"activeMenuItemIndex\": [\"activeMenuItemIndexHandler\"]\n    }; }\n    static get style() { return actionMenuCss; }\n}, [1, \"calcite-action-menu\", {\n        \"appearance\": [513],\n        \"expanded\": [516],\n        \"flipPlacements\": [16],\n        \"label\": [1],\n        \"open\": [1540],\n        \"overlayPositioning\": [513, \"overlay-positioning\"],\n        \"placement\": [513],\n        \"scale\": [513],\n        \"menuButtonEl\": [32],\n        \"activeMenuItemIndex\": [32],\n        \"setFocus\": [64]\n    }, undefined, {\n        \"expanded\": [\"expandedHandler\"],\n        \"open\": [\"openHandler\"],\n        \"activeMenuItemIndex\": [\"activeMenuItemIndexHandler\"]\n    }]);\nfunction defineCustomElement() {\n    if (typeof customElements === \"undefined\") {\n        return;\n    }\n    const components = [\"calcite-action-menu\", \"calcite-action\", \"calcite-icon\", \"calcite-loader\", \"calcite-popover\"];\n    components.forEach(tagName => { switch (tagName) {\n        case \"calcite-action-menu\":\n            if (!customElements.get(tagName)) {\n                customElements.define(tagName, ActionMenu);\n            }\n            break;\n        case \"calcite-action\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$4();\n            }\n            break;\n        case \"calcite-icon\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$3();\n            }\n            break;\n        case \"calcite-loader\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$2();\n            }\n            break;\n        case \"calcite-popover\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$1();\n            }\n            break;\n    } });\n}\ndefineCustomElement();\n\nexport { ActionMenu as A, SLOTS as S, defineCustomElement as d };\n\n//# sourceMappingURL=action-menu.js.map"],"mappings":"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"}