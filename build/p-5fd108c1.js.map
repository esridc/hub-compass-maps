{"version":3,"names":["a","e","t","o","toDataURL","async","r","n","i","Promise","toBlob","data","arrayBuffer","type","HTMLImageElement","src","mediaType","test","HTMLCanvasElement","HTMLVideoElement","document","createElement","width","height","getContext","drawImage","ImageData","putImageData","c","Uint8Array","length","push","String","fromCharCode","btoa","join","g","byteLength","JSON","BIN","constructor","Error","this","_length","HEADER_SIZE","CHUNK_HEADER_SIZE","_textToArrayBuffer","_alignTo","buffer","ArrayBuffer","_outView","DataView","_writeHeader","h","_writeChunk","setUint32","MAGIC","VERSION","_writeArrayBuffer","setUint8","set","TextEncoder","encode","Math","ceil","E","A","R","L","I","N","External","DataURI","GLB","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","OPAQUE","MASK","BLEND","NoColor","FaceColor","VertexColor","s","_buffer","_componentType","_dataType","_data","_isFinalized","_accessorIndex","_accessorAttribute","_accessorMin","_accessorMax","bufferViews","index","_bufferView","target","_getElementSize","byteStride","_numComponentsForDataType","_calculateNumComponentsForDataType","min","max","dataSize","_sizeComponentType","byteSize","getByteOffset","byteOffset","_createTypedArray","BYTE","Int8Array","FLOAT","Float32Array","SHORT","Int16Array","UNSIGNED_BYTE","UNSIGNED_INT","Uint32Array","UNSIGNED_SHORT","Uint16Array","writeOutToBuffer","writeAsync","_asyncWritePromise","then","startAccessor","Array","endAccessor","componentType","count","name","normalized","finalized","_finalizedPromise","resolve","_finalizedPromiseResolve","getViewFinalizePromises","allSettled","_gltf","_bufferViews","buffers","addBufferView","_finalizePromise","f","getArrayBuffer","_getTotalSize","finalize","uri","extras","promises","components","faces","shading","normal","position","m","p","l","u","b","j","v","getLogger","S","params","_materialMap","_imageMap","Map","_textureMap","gltf","asset","version","copyright","generator","options","binChunkBuffer","_addScenes","scene","defaultScene","bufferOutputType","imageOutputType","T","forEachScene","_addScene","scenes","forEachNode","nodes","_addNodes","translation","rotation","scale","mesh","vertexAttributes","_createMeshes","_addMesh","children","meshes","origin","anchor","ignoreLocalTransform","transform","vertexSpace","spatialReference","localMatrix","x","d","_","geographic","unit","slice","tangent","_flipYZAxis","B","M","O","w","uv","color","C","y","F","V","D","_addAccessor","k","G","Y","U","P","z","_addMeshVertexIndexed","_addMeshVertexNonIndexed","_flipYZBuffer","_addMaterial","indexOf","materials","alphaMode","alphaCutoff","doubleSided","pbrMetallicRoughness","toRgba","baseColorFactor","colorTexture","baseColorTexture","_createTextureInfo","colorTextureTransform","normalTexture","normalTextureTransform","emissiveTexture","emissiveTextureTransform","emissiveColor","emissiveFactor","occlusionTexture","occlusionTextureTransform","metallicRoughnessTexture","metallicRoughnessTextureTransform","metallicFactor","metallic","roughnessFactor","roughness","warnOnce","_addTexture","extensions","KHR_texture_transform","offset","textures","sampler","_addSampler","source","_addImage","get","images","url","mimeType","bufferView","samplers","REPEAT","wrap","CLAMP_TO_EDGE","MIRRORED_REPEAT","vertical","horizontal","wrapS","wrapT","stringify","accessors","attributes","POSITION","indices","material","NORMAL","TEXCOORD_0","TANGENT","COLOR_0","primitives","_scenes","addScene","includes","removeScene","forEach","_nodes","addNode","rotationAngles","jsonSpacing","_file","download","Blob"],"sources":["./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/glb.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/types.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/bufferview.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/buffer.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/geometry.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltf.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/asset.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/scene.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/node.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/index.js","./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltfexport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import e from\"../../../../../core/Error.js\";import{isDataProtocol as t,dataComponents as n}from\"../../../../../core/urlUtils.js\";function a(e){const t=o(e);return null!=t?t.toDataURL():\"\"}async function r(t){const n=o(t);if(null==n)throw new e(\"imageToArrayBuffer\",\"Unsupported image type\");const a=await i(t),r=await new Promise((e=>n.toBlob(e,a)));if(!r)throw new e(\"imageToArrayBuffer\",\"Failed to encode image\");return{data:await r.arrayBuffer(),type:a}}async function i(e){if(!(e instanceof HTMLImageElement))return\"image/png\";const a=e.src;if(t(a)){const e=n(a);return\"image/jpeg\"===e?.mediaType?e.mediaType:\"image/png\"}return/\\.png$/i.test(a)?\"image/png\":/\\.(jpg|jpeg)$/i.test(a)?\"image/jpeg\":\"image/png\"}function o(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;const n=t.getContext(\"2d\");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function c(e){const t=[],n=new Uint8Array(e);for(let a=0;a<n.length;a++)t.push(String.fromCharCode(n[a]));return\"data:application/octet-stream;base64,\"+btoa(t.join(\"\"))}function g(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}export{c as encodeBase64DataUri,r as imageToArrayBuffer,a as imageToDataURI,o as imageTypeToCanvas,g as isArrayBufferPNG};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nvar t;!function(t){t[t.JSON=1313821514]=\"JSON\",t[t.BIN=5130562]=\"BIN\"}(t||(t={}));class e{constructor(i,r){if(!i)throw new Error(\"GLB requires a JSON gltf chunk\");this._length=e.HEADER_SIZE,this._length+=e.CHUNK_HEADER_SIZE;const n=this._textToArrayBuffer(i);if(this._length+=this._alignTo(n.byteLength,4),r&&(this._length+=e.CHUNK_HEADER_SIZE,this._length+=r.byteLength,r.byteLength%4))throw new Error(\"Expected BIN chunk length to be divisible by 4 at this point\");this.buffer=new ArrayBuffer(this._length),this._outView=new DataView(this.buffer),this._writeHeader();const h=this._writeChunk(n,12,t.JSON,32);r&&this._writeChunk(r,h,t.BIN)}_writeHeader(){this._outView.setUint32(0,e.MAGIC,!0),this._outView.setUint32(4,e.VERSION,!0),this._outView.setUint32(8,this._length,!0)}_writeChunk(t,e,i,r=0){const n=this._alignTo(t.byteLength,4);for(this._outView.setUint32(e,n,!0),this._outView.setUint32(e+=4,i,!0),this._writeArrayBuffer(this._outView.buffer,t,e+=4,0,t.byteLength),e+=t.byteLength;e%4;)r&&this._outView.setUint8(e,r),e++;return e}_writeArrayBuffer(t,e,i,r,n){new Uint8Array(t,i,n).set(new Uint8Array(e,r,n),0)}_textToArrayBuffer(t){return(new TextEncoder).encode(t).buffer}_alignTo(t,e){return e*Math.ceil(t/e)}}e.HEADER_SIZE=12,e.CHUNK_HEADER_SIZE=8,e.MAGIC=1179937895,e.VERSION=2;export{e as GLB};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nvar E,A,R,L,o,I,N;!function(E){E[E.External=0]=\"External\",E[E.DataURI=1]=\"DataURI\",E[E.GLB=2]=\"GLB\"}(E||(E={})),function(E){E[E.External=0]=\"External\",E[E.DataURI=1]=\"DataURI\",E[E.GLB=2]=\"GLB\"}(A||(A={})),function(E){E[E.ARRAY_BUFFER=34962]=\"ARRAY_BUFFER\",E[E.ELEMENT_ARRAY_BUFFER=34963]=\"ELEMENT_ARRAY_BUFFER\"}(R||(R={})),function(E){E.SCALAR=\"SCALAR\",E.VEC2=\"VEC2\",E.VEC3=\"VEC3\",E.VEC4=\"VEC4\",E.MAT2=\"MAT2\",E.MAT3=\"MAT3\",E.MAT4=\"MAT4\"}(L||(L={})),function(E){E[E.POINTS=0]=\"POINTS\",E[E.LINES=1]=\"LINES\",E[E.LINE_LOOP=2]=\"LINE_LOOP\",E[E.LINE_STRIP=3]=\"LINE_STRIP\",E[E.TRIANGLES=4]=\"TRIANGLES\",E[E.TRIANGLE_STRIP=5]=\"TRIANGLE_STRIP\",E[E.TRIANGLE_FAN=6]=\"TRIANGLE_FAN\"}(o||(o={})),function(E){E.OPAQUE=\"OPAQUE\",E.MASK=\"MASK\",E.BLEND=\"BLEND\"}(I||(I={})),function(E){E[E.NoColor=0]=\"NoColor\",E[E.FaceColor=1]=\"FaceColor\",E[E.VertexColor=2]=\"VertexColor\"}(N||(N={}));export{I as AlphaMode,L as AttributeType,E as BufferOutputType,N as ColorMode,A as ImageOutputType,o as MeshMode,R as TargetBuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{TargetBuffer as e,AttributeType as t}from\"./types.js\";import{DataType as s}from\"../../../../../views/webgl/enums.js\";class i{constructor(t,s,i,r,n){this._buffer=t,this._componentType=i,this._dataType=r,this._data=[],this._isFinalized=!1,this._accessorIndex=-1,this._accessorAttribute=null,this._accessorMin=null,this._accessorMax=null,s.bufferViews||(s.bufferViews=[]),this.index=s.bufferViews.length,this._bufferView={buffer:t.index,byteLength:-1,target:n};const a=this._getElementSize();a>=4&&n!==e.ELEMENT_ARRAY_BUFFER&&(this._bufferView.byteStride=a),s.bufferViews.push(this._bufferView),this._numComponentsForDataType=this._calculateNumComponentsForDataType()}push(e){const t=this._data.length;if(this._data.push(e),this._accessorIndex>=0){const s=t%this._numComponentsForDataType,i=this._accessorMin[s];this._accessorMin[s]=\"number\"!=typeof i?e:Math.min(i,e);const r=this._accessorMax[s];this._accessorMax[s]=\"number\"!=typeof r?e:Math.max(r,e)}}get dataSize(){return this._data.length*this._sizeComponentType()}get byteSize(){function e(e,t){return t*Math.ceil(e/t)}return e(this.dataSize,4)}getByteOffset(){if(!this._isFinalized)throw new Error(\"Cannot get BufferView offset until it is finalized\");return this._buffer.getByteOffset(this)}get byteOffset(){if(!this._isFinalized)throw new Error(\"Cannot get BufferView offset until it is finalized\");return this._buffer.getByteOffset(this)}_createTypedArray(e,t){switch(this._componentType){case s.BYTE:return new Int8Array(e,t);case s.FLOAT:return new Float32Array(e,t);case s.SHORT:return new Int16Array(e,t);case s.UNSIGNED_BYTE:return new Uint8Array(e,t);case s.UNSIGNED_INT:return new Uint32Array(e,t);case s.UNSIGNED_SHORT:return new Uint16Array(e,t)}}writeOutToBuffer(e,t){this._createTypedArray(e,t).set(this._data)}writeAsync(e){if(this._asyncWritePromise)throw new Error(\"Can't write multiple bufferView values asynchronously\");return this._asyncWritePromise=e.then((e=>{const t=new Uint8Array(e);for(let s=0;s<t.length;++s)this._data.push(t[s]);delete this._asyncWritePromise})),this._asyncWritePromise}startAccessor(e){if(this._accessorIndex>=0)throw new Error(\"Accessor was started without ending the previous one\");this._accessorIndex=this._data.length,this._accessorAttribute=e;const t=this._numComponentsForDataType;this._accessorMin=new Array(t),this._accessorMax=new Array(t)}endAccessor(){if(this._accessorIndex<0)throw new Error(\"An accessor was not started, but was attempted to be ended\");const e=this._getElementSize(),t=this._numComponentsForDataType,i=(this._data.length-this._accessorIndex)/t;if(i%1)throw new Error(\"An accessor was ended with missing component values\");for(let s=0;s<this._accessorMin.length;++s)\"number\"!=typeof this._accessorMin[s]&&(this._accessorMin[s]=0),\"number\"!=typeof this._accessorMax[s]&&(this._accessorMax[s]=0);const r={byteOffset:e*(this._accessorIndex/t),componentType:this._componentType,count:i,type:this._dataType,min:this._accessorMin,max:this._accessorMax,name:this._accessorAttribute};switch(this._accessorAttribute){case\"TEXCOORD_0\":case\"TEXCOORD_1\":case\"COLOR_0\":case\"WEIGHTS_0\":switch(this._componentType){case s.UNSIGNED_BYTE:case s.UNSIGNED_SHORT:r.normalized=!0}}return this._accessorIndex=-1,this._accessorAttribute=null,this._accessorMin=null,this._accessorMax=null,r}get finalized(){return this._finalizedPromise?this._finalizedPromise:this._isFinalized?this._finalizedPromise=Promise.resolve():this._finalizedPromise=new Promise((e=>this._finalizedPromiseResolve=e))}async finalize(){const e=this._bufferView,t=this._buffer.getViewFinalizePromises(this);this._asyncWritePromise&&t.push(this._asyncWritePromise),await Promise.allSettled(t),this._isFinalized=!0,e.byteOffset=this.getByteOffset(),e.byteLength=this.dataSize,this._finalizedPromiseResolve&&this._finalizedPromiseResolve()}_getElementSize(){return this._sizeComponentType()*this._numComponentsForDataType}_sizeComponentType(){switch(this._componentType){case s.BYTE:case s.UNSIGNED_BYTE:return 1;case s.SHORT:case s.UNSIGNED_SHORT:return 2;case s.UNSIGNED_INT:case s.FLOAT:return 4}}_calculateNumComponentsForDataType(){switch(this._dataType){case t.SCALAR:return 1;case t.VEC2:return 2;case t.VEC3:return 3;case t.VEC4:case t.MAT2:return 4;case t.MAT3:return 9;case t.MAT4:return 16}}}export{i as BufferView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{BufferView as e}from\"./bufferview.js\";class i{constructor(e){this._gltf=e,this._bufferViews=[],this._isFinalized=!1,e.buffers||(e.buffers=[]),this.index=e.buffers.length;const i={byteLength:-1};e.buffers.push(i),this._buffer=i}addBufferView(i,t,r){if(this._finalizePromise)throw new Error(\"Cannot add buffer view after fiinalizing buffer\");const f=new e(this,this._gltf,i,t,r);return this._bufferViews.push(f),f}getByteOffset(e){let i=0;for(const t of this._bufferViews){if(t===e)return i;i+=t.byteSize}throw new Error(\"Given bufferView was not present in this buffer\")}getViewFinalizePromises(e){const i=[];for(const t of this._bufferViews){if(e&&t===e)return i;i.push(t.finalized)}return i}getArrayBuffer(){if(!this._isFinalized)throw new Error(\"Cannot get ArrayBuffer from Buffer before it is finalized\");const e=this._getTotalSize(),i=new ArrayBuffer(e);let t=0;for(const r of this._bufferViews)r.writeOutToBuffer(i,t),t+=r.byteSize;return i}finalize(){if(this._finalizePromise)throw new Error(`Buffer ${this.index} was already finalized`);return this._finalizePromise=Promise.allSettled(this.getViewFinalizePromises()).then((()=>{this._isFinalized=!0;const e=this.getArrayBuffer();this._buffer.byteLength=e.byteLength,this._buffer.uri=e})),this._gltf.extras?.promises.push(this._finalizePromise),this._finalizePromise}_getTotalSize(){let e=0;for(const i of this._bufferViews)e+=i.byteSize;return e}}export{i as Buffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{s as o,f as n,b as s,n as t}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";function c(o,n){if(o.components)for(const s of o.components)s.faces&&\"smooth\"===s.shading&&e(s,n)}function e(r,c){null==c.normal&&(c.normal=new Float32Array(c.position.length));const e=r.faces,{position:m,normal:p}=c,h=e.length/3;for(let t=0;t<h;++t){const r=3*e[3*t],c=3*e[3*t+1],l=3*e[3*t+2],h=o(a,m[r],m[r+1],m[r+2]),g=o(f,m[c],m[c+1],m[c+2]),u=o(i,m[l],m[l+1],m[l+2]),b=n(g,g,h),j=n(u,u,h),v=s(b,b,j);p[r]+=v[0],p[r+1]+=v[1],p[r+2]+=v[2],p[c]+=v[0],p[c+1]+=v[1],p[c+2]+=v[2],p[l]+=v[0],p[l+1]+=v[1],p[l+2]+=v[2]}for(let n=0;n<p.length;n+=3)o(l,p[n],p[n+1],p[n+2]),t(l,l),p[n]=l[0],p[n+1]=l[1],p[n+2]=l[2]}const a=r(),f=r(),i=r(),l=r();export{c as smoothNormals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import t from\"../../../../../core/Logger.js\";import{getOrCreateMapValue as s}from\"../../../../../core/MapUtils.js\";import{deg2rad as r}from\"../../../../../core/mathUtils.js\";import{getMetersPerCartesianUnitForSR as i}from\"../../../../../core/unitUtils.js\";import{scale as a}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as o,create as n}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{exactEquals as l}from\"../../../../../core/libs/gl-matrix-2/math/quat.js\";import{IDENTITY as c,clone as h}from\"../../../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{j as f}from\"../../../../../chunks/vec32.js\";import{ZEROS as u,clone as m,ONES as p}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import d from\"../../../MeshGeoreferencedVertexSpace.js\";import g from\"../../../MeshMaterialMetallicRoughness.js\";import{ungeoreferenceByTransform as _,applyTransform as x}from\"../../georeference.js\";import{Buffer as T}from\"./buffer.js\";import{smoothNormals as R}from\"./geometry.js\";import{BufferOutputType as A,ImageOutputType as b,AttributeType as E,TargetBuffer as M,AlphaMode as O}from\"./types.js\";import{imageToArrayBuffer as w,imageToDataURI as I}from\"./imageutils.js\";import{isEncodedMeshTexture as N}from\"../../../../../views/3d/glTF/internal/resourceUtils.js\";import{DataType as B,TextureWrapMode as C}from\"../../../../../views/webgl/enums.js\";const L=()=>t.getLogger(\"gltf\");class S{constructor(e,t,s){this.params={},this._materialMap=new Array,this._imageMap=new Map,this._textureMap=new Map,this.gltf={asset:{version:\"2.0\",copyright:e.copyright,generator:e.generator},extras:{options:t,binChunkBuffer:null,promises:[]}},s&&(this.params=s),this._addScenes(e)}_addScenes(e){this.gltf.scene=e.defaultScene;const t=this.gltf.extras,s=t.options.bufferOutputType===A.GLB||t.options.imageOutputType===b.GLB;s&&(t.binChunkBuffer=new T(this.gltf)),e.forEachScene((e=>{this._addScene(e)})),s&&t.binChunkBuffer.finalize()}_addScene(e){this.gltf.scenes||(this.gltf.scenes=[]);const t={};e.name&&(t.name=e.name),e.forEachNode((e=>{t.nodes||(t.nodes=[]),t.nodes.push(...this._addNodes(e))})),this.gltf.scenes.push(t)}_addNodes(e){this.gltf.nodes||(this.gltf.nodes=[]);const t={};e.name&&(t.name=e.name);const s=e.translation;f(s,u)||(t.translation=m(s));const r=e.rotation;l(r,c)||(t.rotation=h(r));const i=e.scale;f(i,p)||(t.scale=m(i));const a=this.gltf.nodes.length;if(this.gltf.nodes.push(t),e.mesh&&e.mesh.vertexAttributes.position){const s=this._createMeshes(e.mesh),r=[a];if(1===s.length)this._addMesh(t,s[0]);else for(const e of s){const t={};this._addMesh(t,e),r.push(this.gltf.nodes.length),this.gltf.nodes.push(t)}return r}return e.forEachNode((e=>{t.children||(t.children=[]),t.children.push(...this._addNodes(e))})),[a]}_addMesh(e,t){this.gltf.meshes??=[];const s=this.gltf.meshes.length;this.gltf.meshes.push(t),e.mesh=s}_createMeshes(t){const s=this.gltf.extras,r=s.options.bufferOutputType===A.GLB;let n;n=r?s.binChunkBuffer:new T(this.gltf),this.params.origin||(this.params.origin=t.anchor);const{ignoreLocalTransform:l}=this.params,c=l?null:t.transform,{vertexSpace:h,spatialReference:f}=t,u=h.origin,p=t.vertexAttributes;let g=null;if(\"local\"===h.type){const e=i(f);a(v,c?.localMatrix??o,[e,e,e]),g=x(p,v)}else{const e=l?new d({origin:u?m(u):null}):h;g=_(p,e,c,this.params.origin,{geographic:this.params.geographic,unit:\"meters\"})}if(null==g)throw new e(\"Error during gltf export.\");p.position&&g.position===p.position&&(g.position=p.position.slice()),p.normal&&g.normal===p.normal&&(g.normal=p.normal.slice()),p.tangent&&g.tangent===p.tangent&&(g.tangent=p.tangent.slice()),R(t,g),this._flipYZAxis(g);const b=n.addBufferView(B.FLOAT,E.VEC3,M.ARRAY_BUFFER);let O,w,I,N;g.normal&&(O=n.addBufferView(B.FLOAT,E.VEC3,M.ARRAY_BUFFER)),p.uv&&(w=n.addBufferView(B.FLOAT,E.VEC2,M.ARRAY_BUFFER)),g.tangent&&(I=n.addBufferView(B.FLOAT,E.VEC4,M.ARRAY_BUFFER)),p.color&&(N=n.addBufferView(B.UNSIGNED_BYTE,E.VEC4,M.ARRAY_BUFFER)),b.startAccessor(\"POSITION\"),O&&O.startAccessor(\"NORMAL\"),w&&w.startAccessor(\"TEXCOORD_0\"),I&&I.startAccessor(\"TANGENT\"),N&&N.startAccessor(\"COLOR_0\");const C=g.position.length/3,{position:L,normal:S,tangent:y}=g,{color:F,uv:j}=p;for(let e=0;e<C;++e)b.push(L[3*e]),b.push(L[3*e+1]),b.push(L[3*e+2]),O&&null!=S&&(O.push(S[3*e]),O.push(S[3*e+1]),O.push(S[3*e+2])),w&&null!=j&&(w.push(j[2*e]),w.push(j[2*e+1])),I&&null!=y&&(I.push(y[4*e]),I.push(y[4*e+1]),I.push(y[4*e+2]),I.push(y[4*e+3])),N&&null!=F&&(N.push(F[4*e]),N.push(F[4*e+1]),N.push(F[4*e+2]),N.push(F[4*e+3]));const V=b.endAccessor(),D=this._addAccessor(b.index,V);let k,G,Y,U,P;if(O){const e=O.endAccessor();k=this._addAccessor(O.index,e)}if(w){const e=w.endAccessor();G=this._addAccessor(w.index,e)}if(I){const e=I.endAccessor();Y=this._addAccessor(I.index,e)}if(N){const e=N.endAccessor();U=this._addAccessor(N.index,e)}const z=[];return t.components&&t.components.length>0&&t.components[0].faces?(P=n.addBufferView(B.UNSIGNED_INT,E.SCALAR,M.ELEMENT_ARRAY_BUFFER),this._addMeshVertexIndexed(P,t.components,z,D,k,G,Y,U)):this._addMeshVertexNonIndexed(t.components,z,D,k,G,Y,U),b.finalize(),O&&O.finalize(),w&&w.finalize(),I&&I.finalize(),P&&P.finalize(),N&&N.finalize(),r||n.finalize(),z}_flipYZAxis({position:e,normal:t,tangent:s}){this._flipYZBuffer(e,3),this._flipYZBuffer(t,3),this._flipYZBuffer(s,4)}_flipYZBuffer(e,t){if(null!=e)for(let s=1,r=2;s<e.length;s+=t,r+=t){const t=e[s],i=e[r];e[s]=i,e[r]=-t}}_addMaterial(e){if(null===e)return;const t=this._materialMap.indexOf(e);if(-1!==t)return t;this.gltf.materials||(this.gltf.materials=[]);const s={};switch(e.alphaMode){case\"mask\":s.alphaMode=O.MASK;break;case\"auto\":case\"blend\":s.alphaMode=O.BLEND}.5!==e.alphaCutoff&&(s.alphaCutoff=e.alphaCutoff),e.doubleSided&&(s.doubleSided=e.doubleSided),s.pbrMetallicRoughness={};const r=e=>e**2.1,i=e=>{const t=e.toRgba();return t[0]=r(t[0]/255),t[1]=r(t[1]/255),t[2]=r(t[2]/255),t};if(null!=e.color&&(s.pbrMetallicRoughness.baseColorFactor=i(e.color)),null!=e.colorTexture&&(s.pbrMetallicRoughness.baseColorTexture=this._createTextureInfo(e.colorTexture,e.colorTextureTransform)),null!=e.normalTexture&&(s.normalTexture=this._createTextureInfo(e.normalTexture,e.normalTextureTransform)),e instanceof g){if(null!=e.emissiveTexture&&(s.emissiveTexture=this._createTextureInfo(e.emissiveTexture,e.emissiveTextureTransform)),null!=e.emissiveColor){const t=i(e.emissiveColor);s.emissiveFactor=[t[0],t[1],t[2]]}null!=e.occlusionTexture&&(s.occlusionTexture=this._createTextureInfo(e.occlusionTexture,e.occlusionTextureTransform)),null!=e.metallicRoughnessTexture&&(s.pbrMetallicRoughness.metallicRoughnessTexture=this._createTextureInfo(e.metallicRoughnessTexture,e.metallicRoughnessTextureTransform)),s.pbrMetallicRoughness.metallicFactor=e.metallic,s.pbrMetallicRoughness.roughnessFactor=e.roughness}else s.pbrMetallicRoughness.metallicFactor=1,s.pbrMetallicRoughness.roughnessFactor=1,L().warnOnce(\"Meshes exported to GLTF without MeshMaterialMetallicRoughness material will appear different when imported back.\");const a=this.gltf.materials.length;return this.gltf.materials.push(s),this._materialMap.push(e),a}_createTextureInfo(e,t){const s={index:this._addTexture(e)};return t?(s.extensions||(s.extensions={}),s.extensions.KHR_texture_transform={scale:t.scale,offset:t.offset,rotation:r(t.rotation)},s):s}_addTexture(e){const t=this.gltf.textures??[];return this.gltf.textures=t,s(this._textureMap,e,(()=>{const s={sampler:this._addSampler(e),source:this._addImage(e)},r=t.length;return t.push(s),r}))}_addImage(e){const t=this._imageMap.get(e);if(null!=t)return t;this.gltf.images||(this.gltf.images=[]);const s={};if(e.url)s.uri=e.url;else{const t=e.data;s.extras=t;for(let e=0;e<this.gltf.images.length;++e)if(t===this.gltf.images[e].extras)return e;const r=this.gltf.extras;switch(r.options.imageOutputType){case b.GLB:{const e=r.binChunkBuffer.addBufferView(B.UNSIGNED_BYTE,E.SCALAR);if(N(t))null!=t.data&&e.writeOutToBuffer(t.data,0);else{const r=w(t).then((({data:e,type:t})=>(s.mimeType=t,e)));e.writeAsync(r).then((()=>{e.finalize()}))}s.bufferView=e.index;break}case b.DataURI:if(N(t)){L().warnOnce(\"Image export for basis compressed textures not available.\");break}s.uri=I(t);break;default:if(N(t)){L().warnOnce(\"Image export for basis compressed textures not available.\");break}r.promises.push(w(t).then((({data:e,type:t})=>{s.uri=e,s.mimeType=t})))}}const r=this.gltf.images.length;return this.gltf.images.push(s),this._imageMap.set(e,r),r}_addSampler(e){this.gltf.samplers||(this.gltf.samplers=[]);let t=C.REPEAT,s=C.REPEAT;if(\"string\"==typeof e.wrap)switch(e.wrap){case\"clamp\":t=C.CLAMP_TO_EDGE,s=C.CLAMP_TO_EDGE;break;case\"mirror\":t=C.MIRRORED_REPEAT,s=C.MIRRORED_REPEAT}else{switch(e.wrap.vertical){case\"clamp\":s=C.CLAMP_TO_EDGE;break;case\"mirror\":s=C.MIRRORED_REPEAT}switch(e.wrap.horizontal){case\"clamp\":t=C.CLAMP_TO_EDGE;break;case\"mirror\":t=C.MIRRORED_REPEAT}}const r={wrapS:t,wrapT:s};for(let a=0;a<this.gltf.samplers.length;++a)if(JSON.stringify(r)===JSON.stringify(this.gltf.samplers[a]))return a;const i=this.gltf.samplers.length;return this.gltf.samplers.push(r),i}_addAccessor(e,t){this.gltf.accessors||(this.gltf.accessors=[]);const s={bufferView:e,byteOffset:t.byteOffset,componentType:t.componentType,count:t.count,type:t.type,min:t.min,max:t.max,name:t.name};t.normalized&&(s.normalized=!0);const r=this.gltf.accessors.length;return this.gltf.accessors.push(s),r}_addMeshVertexIndexed(e,t,s,r,i,a,o,n){const l=new Map;for(const c of t){e.startAccessor(\"INDICES\");for(let s=0;s<c.faces.length;++s)e.push(c.faces[s]);const t=e.endAccessor(),h={attributes:{POSITION:r},indices:this._addAccessor(e.index,t),material:this._addMaterial(c.material)};i&&\"flat\"!==c.shading&&(h.attributes.NORMAL=i),a&&(h.attributes.TEXCOORD_0=a),o&&\"flat\"!==c.shading&&(h.attributes.TANGENT=o),n&&(h.attributes.COLOR_0=n);const f=l.get(c.name);if(f)f.primitives.push(h);else{const e={name:c.name,primitives:[h]};l.set(c.name,e),s.push(e)}}}_addMeshVertexNonIndexed(e,t,s,r,i,a,o){const n={primitives:[]};t.push(n);const l={attributes:{POSITION:s}};r&&(l.attributes.NORMAL=r),i&&(l.attributes.TEXCOORD_0=i),a&&(l.attributes.TANGENT=a),o&&(l.attributes.COLOR_0=o),e&&(l.material=this._addMaterial(e[0].material)),n.primitives.push(l)}}const v=n();export{S as GLTF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../../../../../core/arrayUtils.js\";class s{constructor(){this.copyright=\"\",this.defaultScene=0,this.generator=\"\",this._scenes=[]}addScene(e){if(this._scenes.includes(e))throw new Error(\"Scene already added\");this._scenes.push(e)}removeScene(s){e(this._scenes,s)}forEachScene(e){this._scenes.forEach(e)}}export{s as Asset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass d{constructor(){this.name=\"\",this._nodes=[]}addNode(d){if(this._nodes.includes(d))throw new Error(\"Node already added\");this._nodes.push(d)}forEachNode(d){this._nodes.forEach(d)}}export{d as Scene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{fromEuler as t}from\"../../../../../core/libs/gl-matrix-2/math/quat.js\";import{create as s}from\"../../../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{create as o,clone as r,ONES as i}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class e{constructor(t){this.mesh=t,this.name=\"\",this.translation=o(),this.rotation=s(),this.scale=r(i),this._nodes=[]}addNode(t){if(this._nodes.includes(t))throw new Error(\"Node already added\");this._nodes.push(t)}forEachNode(t){this._nodes.forEach(t)}set rotationAngles(s){t(this.rotation,s[0],s[1],s[2])}}export{e as Node};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Point.js\";import{GLB as t}from\"./glb.js\";import{GLTF as r}from\"./gltf.js\";import{ImageOutputType as o,BufferOutputType as n}from\"./types.js\";export{AlphaMode,AttributeType,ColorMode,MeshMode}from\"./types.js\";import{isArrayBufferPNG as s,encodeBase64DataUri as i}from\"./imageutils.js\";export{Asset}from\"./asset.js\";export{Scene}from\"./scene.js\";export{Node}from\"./node.js\";const a=\"model.gltf\",f=\"model.glb\";async function u(u,p,m){const c=new r(u,p=p||{},m);let l=c.params;l?l.origin||(l.origin=new e({x:-1,y:-1,z:-1})):l={origin:new e({x:-1,y:-1,z:-1})};const g=l.origin,y=c.gltf,d=y.extras?.promises??[];let j=1,x=1,b=null;await Promise.allSettled(d);const w={origin:g};delete y.extras;const B=\"number\"==typeof p.jsonSpacing?p.jsonSpacing:4,h=JSON.stringify(y,((e,t)=>{if(\"extras\"!==e){if(t instanceof ArrayBuffer){if(s(t))switch(p.imageOutputType){case o.DataURI:case o.GLB:break;case o.External:default:{const e=`img${x}.png`;return x++,w[e]=t,e}}switch(p.bufferOutputType){case n.DataURI:return i(t);case n.GLB:if(b)throw new Error(\"Already encountered an ArrayBuffer, there should only be one in the GLB format.\");return void(b=t);case n.External:default:{const e=`data${j}.bin`;return j++,w[e]=t,e}}}return t}}),B);return p.bufferOutputType===n.GLB||p.imageOutputType===o.GLB?w[f]=new t(h,b).buffer:w[a]=h,w}function p(e,t){return u(e,{bufferOutputType:n.GLB,imageOutputType:o.GLB,jsonSpacing:0},t)}export{n as BufferOutputType,o as ImageOutputType,p as exportGLB,u as exportGLTF,f as modelNameGlb,a as modelNameGltf};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{downloadBlobAsFile as e}from\"../../../../../core/urlUtils.js\";import{exportGLB as o,modelNameGlb as t}from\"./index.js\";import{Node as r}from\"./node.js\";import{Asset as i}from\"./asset.js\";import{Scene as n}from\"./scene.js\";class s{constructor(e,o){this._file={type:\"model/gltf-binary\",data:e},this.origin=o}buffer(){return Promise.resolve(this._file)}download(o){e(new Blob([this._file.data],{type:this._file.type}),o)}}function f(e,f){const d=new i,l=new n;return d.addScene(l),l.addNode(new r(e)),o(d,f).then((e=>new s(e[t],e.origin)))}export{f as toBinaryGLTF};\n"],"mappings":"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"}