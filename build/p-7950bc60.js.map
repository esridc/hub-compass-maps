{"version":3,"names":["l","s","y","e","n","fromJSON","toJSON","u","f","Date","d","o","g","r","T","F","t","O","toLowerCase","v","type","extent","i","xmin","x","ymin","xmax","ymax","spatialReference","b","Standardised","StandardisedNoInterval","SqlServer","Oracle","Postgres","PGDB","FILEGDB","NotEvaluated","InFeatureSet","NotInFeatureSet","Unknown","D","N","point","polygon","polyline","multipoint","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline","esriGeometryMultipoint","esriGeometryEnvelope","envelope","w","E","integer","long","single","double","string","date","oid","geometry","blob","raster","guid","xml","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeLong","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeBigInteger","k","replace","split","J","cmp","cycles","key","value","isFinite","JSON","stringify","Array","isArray","length","includes","TypeError","push","Object","keys","sort","splice","M","j"],"sources":["./node_modules/@arcgis/core/arcade/featureset/support/shared.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ArcadeDate as e}from\"../../ArcadeDate.js\";import{DateOnly as r}from\"../../../core/sql/DateOnly.js\";import{TimeOnly as t}from\"../../../core/sql/TimeOnly.js\";import i from\"../../../geometry/Extent.js\";import n from\"../../../layers/support/Field.js\";import{DateTime as o}from\"luxon\";var l,s;function y(e){return n.fromJSON(e.toJSON())}function u(e){return e.toJSON?e.toJSON():e}function p(e){return\"string\"==typeof e||e instanceof String}function a(e){return\"boolean\"==typeof e}function c(e){return\"number\"==typeof e}function m(e){return Array.isArray(e)}function f(e){return e instanceof Date}function d(e){return e instanceof o}function g(r){return r instanceof e}function T(e){return e instanceof r}function F(e){return e instanceof t}function G(e,r){return e===r||!(!f(e)&&!g(e)||!f(r)&&!g(r))&&e.getTime()===r.getTime()}function S(e){const r={};for(const t in e)r[t]=e[t];return r}function O(e){if(null==e)return null;if(\"number\"==typeof e)return e;switch(e.toLowerCase()){case\"meters\":case\"meter\":return 109404;case\"miles\":case\"mile\":return 109439;case\"kilometers\":case\"kilometer\":case\"km\":return 109414}return null}function v(e){if(null==e)return null;switch(e.type){case\"polygon\":case\"multipoint\":case\"polyline\":return e.extent;case\"point\":return new i({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case\"extent\":return e}return null}function b(e){if(null==e)return null;if(\"number\"==typeof e)return e;if(\"number\"==typeof e)return e;switch(e.toLowerCase()){case\"meters\":case\"meter\":return 9001;case\"miles\":case\"mile\":return 9093;case\"kilometers\":case\"kilometer\":case\"km\":return 9036}return null}function I(e,r){return e===r||(\"point\"===e&&\"esriGeometryPoint\"===r||(\"polyline\"===e&&\"esriGeometryPolyline\"===r||(\"polygon\"===e&&\"esriGeometryPolygon\"===r||(\"extent\"===e&&\"esriGeometryEnvelope\"===r||(\"multipoint\"===e&&\"esriGeometryMultipoint\"===r||(\"point\"===r&&\"esriGeometryPoint\"===e||(\"polyline\"===r&&\"esriGeometryPolyline\"===e||(\"polygon\"===r&&\"esriGeometryPolygon\"===e||(\"extent\"===r&&\"esriGeometryEnvelope\"===e||\"multipoint\"===r&&\"esriGeometryMultipoint\"===e)))))))))}!function(e){e[e.Standardised=0]=\"Standardised\",e[e.StandardisedNoInterval=1]=\"StandardisedNoInterval\",e[e.SqlServer=2]=\"SqlServer\",e[e.Oracle=3]=\"Oracle\",e[e.Postgres=4]=\"Postgres\",e[e.PGDB=5]=\"PGDB\",e[e.FILEGDB=6]=\"FILEGDB\",e[e.NotEvaluated=7]=\"NotEvaluated\"}(l||(l={})),function(e){e[e.InFeatureSet=0]=\"InFeatureSet\",e[e.NotInFeatureSet=1]=\"NotInFeatureSet\",e[e.Unknown=2]=\"Unknown\"}(s||(s={}));const D=1e3;function P(e){return function(r){e.reject(r)}}function x(e,r){return function(){try{e.apply(null,arguments)}catch(t){r.reject(t)}}}const N={point:\"point\",polygon:\"polygon\",polyline:\"polyline\",multipoint:\"multipoint\",extent:\"extent\",esriGeometryPoint:\"point\",esriGeometryPolygon:\"polygon\",esriGeometryPolyline:\"polyline\",esriGeometryMultipoint:\"multipoint\",esriGeometryEnvelope:\"extent\",envelope:\"extent\"},w={point:\"esriGeometryPoint\",polygon:\"esriGeometryPolygon\",polyline:\"esriGeometryPolyline\",multipoint:\"esriGeometryMultipoint\",extent:\"esriGeometryEnvelope\",esriGeometryPoint:\"esriGeometryPoint\",esriGeometryPolygon:\"esriGeometryPolygon\",esriGeometryPolyline:\"esriGeometryPolyline\",esriGeometryMultipoint:\"esriGeometryMultipoint\",esriGeometryEnvelope:\"esriGeometryEnvelope\",envelope:\"esriGeometryEnvelope\"},E={\"small-integer\":\"esriFieldTypeSmallInteger\",integer:\"esriFieldTypeInteger\",long:\"esriFieldTypeLong\",single:\"esriFieldTypeSingle\",double:\"esriFieldTypeDouble\",string:\"esriFieldTypeString\",date:\"esriFieldTypeDate\",\"date-only\":\"esriFieldTypeDateOnly\",\"time-only\":\"esriFieldTypeTimeOnly\",\"timestamp-offset\":\"esriFieldTypeTimestampOffset\",oid:\"esriFieldTypeOID\",geometry:\"esriFieldTypeGeometry\",blob:\"esriFieldTypeBlob\",raster:\"esriFieldTypeRaster\",guid:\"esriFieldTypeGUID\",\"global-id\":\"esriFieldTypeGlobalID\",xml:\"esriFieldTypeXML\",\"big-integer\":\"esriFieldTypeBigInteger\",esriFieldTypeSmallInteger:\"esriFieldTypeSmallInteger\",esriFieldTypeInteger:\"esriFieldTypeInteger\",esriFieldTypeLong:\"esriFieldTypeLong\",esriFieldTypeSingle:\"esriFieldTypeSingle\",esriFieldTypeDouble:\"esriFieldTypeDouble\",esriFieldTypeString:\"esriFieldTypeString\",esriFieldTypeDate:\"esriFieldTypeDate\",esriFieldTypeDateOnly:\"esriFieldTypeDateOnly\",esriFieldTypeTimeOnly:\"esriFieldTypeTimeOnly\",esriFieldTypeTimestampOffset:\"esriFieldTypeTimestampOffset\",esriFieldTypeOID:\"esriFieldTypeOID\",esriFieldTypeGeometry:\"esriFieldTypeGeometry\",esriFieldTypeBlob:\"esriFieldTypeBlob\",esriFieldTypeRaster:\"esriFieldTypeRaster\",esriFieldTypeGUID:\"esriFieldTypeGUID\",esriFieldTypeGlobalID:\"esriFieldTypeGlobalID\",esriFieldTypeXML:\"esriFieldTypeXML\",esriFieldTypeBigInteger:\"esriFieldTypeBigInteger\"};function h(e){switch(e){case\"point\":default:return\"esriGeometryPoint\";case\"polygon\":return\"esriGeometryPolygon\";case\"multipoint\":return\"esriGeometryMultipoint\";case\"polyline\":return\"esriGeometryPolyline\"}}function k(e){return void 0===e?\"\":e=(e=(e=e.replace(/\\/featureserver\\/[0-9]*/i,\"/FeatureServer\")).replace(/\\/mapserver\\/[0-9]*/i,\"/MapServer\")).split(\"?\")[0]}function J(e,r){r||(r={}),\"function\"==typeof r&&(r={cmp:r});const t=\"boolean\"==typeof r.cycles&&r.cycles,i=r.cmp&&(n=r.cmp,function(e){return function(r,t){const i={key:r,value:e[r]},o={key:t,value:e[t]};return n(i,o)}});var n;const o=[];return function e(r){if(r?.toJSON&&\"function\"==typeof r.toJSON&&(r=r.toJSON()),void 0===r)return;if(\"number\"==typeof r)return isFinite(r)?\"\"+r:\"null\";if(\"object\"!=typeof r)return JSON.stringify(r);let n,l;if(Array.isArray(r)){for(l=\"[\",n=0;n<r.length;n++)n&&(l+=\",\"),l+=e(r[n])||\"null\";return l+\"]\"}if(null===r)return\"null\";if(o.includes(r)){if(t)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}const s=o.push(r)-1,y=Object.keys(r).sort(i?.(r));for(l=\"\",n=0;n<y.length;n++){const t=y[n],i=e(r[t]);i&&(l&&(l+=\",\"),l+=JSON.stringify(t)+\":\"+i)}return o.splice(s,1),\"{\"+l+\"}\"}(e)}function M(e){switch(e.type){case\"catalog\":case\"csv\":case\"feature\":case\"geojson\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return!0;default:return!1}}function j(e){switch(e.type){case\"catalog-footprint\":case\"subtype-sublayer\":return!0;default:return M(e)}}export{l as FeatureServiceDatabaseType,s as IdState,x as callback,S as cloneAttributes,y as cloneField,b as convertLinearUnitsToCode,O as convertSquareUnitsToCode,D as defaultMaxRecords,G as equalityTest,P as errback,u as esriFieldToJson,k as extractServiceUrl,g as isArcadeDate,T as isArcadeDateOnly,F as isArcadeTime,m as isArray,a as isBoolean,f as isDate,d as isLuxonDate,c as isNumber,p as isString,j as isSupportedLayer,M as isSupportedSourceLayer,E as layerFieldEsriConstants,N as layerGeometryEsriConstants,w as layerGeometryEsriRestConstants,I as sameGeomType,v as shapeExtent,J as stableStringify,h as toEsriGeometryType};\n"],"mappings":"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"}