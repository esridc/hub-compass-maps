{"version":3,"names":["l","y","n","o","m","c","e","type","isValid","raster","t","r","datasetFormat","primaryRasters","rasters","tileType","errorMessage","p","layerJSON","Promise","resolve","Object","keys","length","async","u","parsedUrl","title","fullExtent","url","path","extent","a","i","METADATA","s","TILED_IMAGERY","g","layer","itemType","validateLayer","createItemData","errorNamePrefix","v","newItem","setItemProperties"],"sources":["./node_modules/@arcgis/core/layers/save/imageryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as i,addTypeKeyword as s}from\"../../portal/support/portalItemUtils.js\";const l=\"Image Service\",y=\"imagery-layer-save\",n=\"imagery-layer-save-as\",o=\"imagery-tile-layer-save\",m=\"imagery-tile-layer-save-as\";function c(e){if(\"imagery\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function p(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function u(e,t){const{parsedUrl:l,title:y,fullExtent:n}=e;t.url=l.path,t.title||=y;try{t.extent=await r(n)}catch{t.extent=void 0}a(t,i.METADATA),\"imagery-tile\"===e.type&&s(t,i.TILED_IMAGERY)}async function g(t,r){const a=\"imagery\"===t.type?y:o;return e({layer:t,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:a},r)}async function v(e,r,a){const i=\"imagery\"===e.type?n:m;return t({layer:e,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:i,newItem:r,setItemProperties:u},a)}export{g as save,v as saveAs};\n"],"mappings":"gOAI0L,MAAMA,EAAE,gBAAgBC,EAAE,qBAAqBC,EAAE,wBAAwBC,EAAE,0BAA0BC,EAAE,6BAA6B,SAASC,EAAEC,GAAG,GAAG,YAAYA,EAAEC,KAAK,MAAM,CAACC,SAAS,GAAG,MAAMC,OAAOC,GAAGJ,EAAEK,EAAE,aAAaD,GAAGE,cAAcF,EAAEG,gBAAgBC,QAAQ,GAAGJ,EAAE,MAAM,CAACF,QAAQ,qBAAqBG,GAAGC,gBAAgB,WAAWD,EAAEI,UAAU,QAAQJ,EAAEI,UAAUC,aAAa,mEAAmE,CAAC,SAASC,EAAEX,GAAG,MAAMI,EAAEJ,EAAEY,UAAU,OAAOC,QAAQC,QAAQV,GAAGW,OAAOC,KAAKZ,GAAGa,OAAOb,EAAE,KAAK,CAACc,eAAeC,EAAEnB,EAAEI,GAAG,MAAMgB,UAAU1B,EAAE2B,MAAM1B,EAAE2B,WAAW1B,GAAGI,EAAEI,EAAEmB,IAAI7B,EAAE8B,KAAKpB,EAAEiB,QAAQ1B,EAAE,IAAIS,EAAEqB,aAAapB,EAAET,EAAwB,CAArB,MAAMQ,EAAEqB,YAAY,CAAC,CAACC,EAAEtB,EAAEuB,EAAEC,UAAU,iBAAiB5B,EAAEC,MAAM4B,EAAEzB,EAAEuB,EAAEG,cAAc,CAACZ,eAAea,EAAE3B,EAAEC,GAAG,MAAMqB,EAAE,YAAYtB,EAAEH,KAAKN,EAAEE,EAAE,OAAOG,EAAE,CAACgC,MAAM5B,EAAE6B,SAASvC,EAAEwC,cAAcnC,EAAEoC,eAAexB,EAAEyB,gBAAgBV,GAAGrB,EAAE,CAACa,eAAemB,EAAErC,EAAEK,EAAEqB,GAAG,MAAMC,EAAE,YAAY3B,EAAEC,KAAKL,EAAEE,EAAE,OAAOM,EAAE,CAAC4B,MAAMhC,EAAEiC,SAASvC,EAAEwC,cAAcnC,EAAEoC,eAAexB,EAAEyB,gBAAgBT,EAAEW,QAAQjC,EAAEkC,kBAAkBpB,GAAGO,EAAE,Q"}