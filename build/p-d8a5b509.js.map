{"version":3,"names":["f","n","s","c","r","o","t","d","i","m","a","origin","direction","p","x","get","l","h","e","u","_","w","M","E","y","L","O","b","T","k","z","N","V","Z","B","U","X","getLogger","error","Y","G","F","t0","t1","D","A","j","W","Math","abs","v","H","sqrt","I","J","K","R","C","tt","P","Q","q","$","rt","nt","S","g","sin","cos","et","at","ot","st","it","ct","Object","freeze","defineProperty","__proto__","NullSphere","altitudeAt","angleToSilhouette","axisAt","clear","closestPoint","closestPointOnSilhouette","containsPoint","copy","create","distanceToSilhouette","elevate","equals","exactEquals","fromCenterAndRadius","fromRadius","fromValues","getCenter","getRadius","intersectLine","intersectRay","intersectRayClosestSilhouette","intersectsRay","projectPoint","setAltitudeAt","setExtent","tmpSphere","union","wrap","Symbol","toStringTag","value"],"sources":["./node_modules/@arcgis/core/geometry/support/vector.js","./node_modules/@arcgis/core/geometry/support/ray.js","./node_modules/@arcgis/core/chunks/sphere.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{acosClamped as t}from\"../../core/mathUtils.js\";import{k as r,h as n,l as o,n as s,b as c}from\"../../chunks/vec32.js\";import{create as i}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";function e(t,o,s){const c=r(t,o)/r(t,t);return n(s,t,c)}function a(t,n){return r(t,n)/o(t)}function f(n,s){const c=r(n,s)/(o(n)*o(s));return-t(c)}function u(n,o,i){s(m,n),s(h,o);const e=r(m,h),a=t(e),f=c(m,m,h);return r(f,i)<0?2*Math.PI-a:a}const m=i(),h=i();export{f as angle,u as angleAroundAxis,e as projectPoint,a as projectPointSignedLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{equals as i}from\"../../core/arrayUtils.js\";import{ObjectStack as r}from\"../../core/ObjectStack.js\";import{c as n,f as o,b as t,n as c,k as e,g as s,h as u}from\"../../chunks/vec32.js\";import{clone as a,create as f}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{sv3d as g}from\"./vectorStacks.js\";function d(i){return i?m(a(i.origin),a(i.direction)):m(f(),f())}function m(i,r){return{origin:i,direction:r}}function j(r,n){return i(r.origin,n.origin)&&i(r.direction,n.direction)}function p(i,r){const n=x.get();return n.origin=i,n.direction=r,n}function k(i,r=d()){return b(i.origin,i.direction,r)}function l(i,r,t=d()){return n(t.origin,i),o(t.direction,r,i),t}function b(i,r,o=d()){return n(o.origin,i),n(o.direction,r),o}function v(i,r){const n=t(g.get(),c(g.get(),i.direction),o(g.get(),r,i.origin));return e(n,n)}function h(i,r,n){const t=e(i.direction,o(n,r,i.origin));return s(n,i.origin,u(n,i.direction,t)),n}const x=new r((()=>d()));export{h as closestPoint,k as copy,d as create,v as distance2,j as equals,l as fromPoints,b as fromValues,p as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import t from\"../core/Logger.js\";import{acosClamped as r,cartesianToSpherical as n}from\"../core/mathUtils.js\";import{fromRotation as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{g as o,h as s,q as i,l as a,b as c,e as u,f,p as m,n as l,s as g,a as p,m as h,r as d}from\"./vec32.js\";import{create as j}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{e as y,c as b}from\"./vec42.js\";import{create as M,fromValues as x}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getEpsilon as v}from\"../core/libs/gl-matrix-2/math/common.js\";import{Axis as S}from\"../geometry/support/Axis.js\";import{fromPoints as A,closestPoint as q}from\"../geometry/support/ray.js\";import{angle as P}from\"../geometry/support/vector.js\";import{sv3d as R,sm4d as C}from\"../geometry/support/vectorStacks.js\";const _=w();function w(){return M()}const E=y,L=y;function O(t,r){return b(r,t)}function T(t,r){return x(t[0],t[1],t[2],r)}function k(t){return t}function z(t){t[0]=t[1]=t[2]=t[3]=0}function N(t,r){return t[0]=t[1]=t[2]=0,t[3]=r,t}function V(t){return t[3]}function Z(t){return t}function B(t,r,n,e){return x(t,r,n,e)}function U(t,r,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+r,n}function X(r,n,e){return t.getLogger(\"esri.geometry.support.sphere\").error(\"sphere.setExtent is not yet supported\"),r!==e&&O(r,e),e}function Y(t,r,n){if(null==r)return!1;if(!G(t,r,F))return!1;let{t0:e,t1:o}=F;if((e<0||o<e&&o>0)&&(e=o),e<0)return!1;if(n){const{origin:t,direction:o}=r;n[0]=t[0]+o[0]*e,n[1]=t[1]+o[1]*e,n[2]=t[2]+o[2]*e}return!0}function D(t,r,n){const e=A(r,n);if(!G(t,e,F))return[];const{origin:o,direction:s}=e,{t0:i,t1:a}=F,c=r=>{const n=j();return d(n,o,s,r),W(t,n,n)};return Math.abs(i-a)<v()?[c(i)]:[c(i),c(a)]}const F={t0:0,t1:0};function G(t,r,n){const{origin:e,direction:o}=r,s=H;s[0]=e[0]-t[0],s[1]=e[1]-t[1],s[2]=e[2]-t[2];const i=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(0===i)return!1;const a=2*(o[0]*s[0]+o[1]*s[1]+o[2]*s[2]),c=a*a-4*i*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-t[3]*t[3]);if(c<0)return!1;const u=Math.sqrt(c);return n.t0=(-a-u)/(2*i),n.t1=(-a+u)/(2*i),!0}const H=j();function I(t,r){return Y(t,r,null)}function J(t,r,n){if(Y(t,r,n))return n;const e=K(t,r,R.get());return o(n,r.origin,s(R.get(),r.direction,i(r.origin,e)/a(r.direction))),n}function K(t,r,n){const o=R.get(),i=C.get();c(o,r.origin,r.direction);const f=V(t);c(n,o,r.origin),s(n,n,1/a(n)*f);const m=tt(t,r.origin),l=P(r.origin,n);return e(i,l+m,o),u(n,n,i),n}function Q(t,r,n){return Y(t,r,n)?n:(q(r,Z(t),n),W(t,n,n))}function W(t,r,n){const e=f(R.get(),r,Z(t)),i=s(R.get(),e,t[3]/a(e));return o(n,i,Z(t))}function $(t,r){const n=f(R.get(),r,Z(t)),e=m(n),o=t[3]*t[3];return Math.sqrt(Math.abs(e-o))}function tt(t,n){const e=f(R.get(),n,Z(t)),o=a(e),s=V(t),i=s+Math.abs(s-o);return r(s/i)}const rt=j();function nt(t,r,e,o){const s=f(rt,r,Z(t));switch(e){case S.X:{const t=n(s,rt)[2];return g(o,-Math.sin(t),Math.cos(t),0)}case S.Y:{const t=n(s,rt),r=t[1],e=t[2],i=Math.sin(r);return g(o,-i*Math.cos(e),-i*Math.sin(e),Math.cos(r))}case S.Z:return l(o,s);default:return}}function et(t,r){const n=f(at,r,Z(t));return a(n)-t[3]}function ot(t,r,n,e){const i=et(t,r),a=nt(t,r,S.Z,at),c=s(at,a,n-i);return o(e,r,c)}function st(t,r){const n=p(Z(t),r),e=V(t);return n<=e*e}function it(t,r,n=M()){const e=i(Z(t),Z(r)),o=t[3],s=r[3];return e+s<o?(b(n,t),n):e+o<s?(b(n,r),n):(h(n,Z(t),Z(r),(e+s-o)/(2*e)),n[3]=(e+o+s)/2,n)}const at=j(),ct=w(),ut=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:_,altitudeAt:et,angleToSilhouette:tt,axisAt:nt,clear:z,closestPoint:Q,closestPointOnSilhouette:K,containsPoint:st,copy:O,create:w,distanceToSilhouette:$,elevate:U,equals:L,exactEquals:E,fromCenterAndRadius:T,fromRadius:N,fromValues:B,getCenter:Z,getRadius:V,intersectLine:D,intersectRay:Y,intersectRayClosestSilhouette:J,intersectsRay:I,projectPoint:W,setAltitudeAt:ot,setExtent:X,tmpSphere:ct,union:it,wrap:k},Symbol.toStringTag,{value:\"Module\"}));export{nt as A,et as B,ot as C,_ as N,O as a,V as b,w as c,$ as d,K as e,B as f,Z as g,N as h,Y as i,I as j,T as k,E as l,D as m,st as n,L as o,W as p,z as q,U as r,ut as s,ct as t,it as u,X as v,k as w,J as x,Q as y,tt as z};\n"],"mappings":"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"}