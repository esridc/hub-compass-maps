import{o as t}from"./p-1e93177b.js";import{aQ as o}from"./p-028496e2.js";import{t as n}from"./p-6b5df147.js";import{$ as r}from"./p-b362a32c.js";function e(t){switch(t.type){case"CIMPointSymbol":{const o=t.symbolLayers;if(!o||1!==o.length)return null;const n=o[0];return"CIMVectorMarker"!==n.type?null:e(n)}case"CIMVectorMarker":{const o=t.markerGraphics;if(!o||1!==o.length)return null;const n=o[0];if(!n)return null;const r=n.geometry;if(!r)return null;const e=n.symbol;return!e||"CIMPolygonSymbol"!==e.type&&"CIMLineSymbol"!==e.type||e.symbolLayers?.some((t=>!!t.effects))?null:{type:"sdf",geom:r,asFill:"CIMPolygonSymbol"===e.type}}}}function f(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function l(t){let o=1/0,r=-1/0,e=1/0,f=-1/0;for(const n of t)for(const t of n)t[0]<o&&(o=t[0]),t[0]>r&&(r=t[0]),t[1]<e&&(e=t[1]),t[1]>f&&(f=t[1]);return new n(o,e,r-o,f-e)}function c(t){let o=1/0,n=-1/0,r=1/0,e=-1/0;for(const f of t)for(const t of f)t[0]<o&&(o=t[0]),t[0]>n&&(n=t[0]),t[1]<r&&(r=t[1]),t[1]>e&&(e=t[1]);return[o,r,n,e]}function s(t){return t?t.rings?c(t.rings):t.paths?c(t.paths):o(t)?[t.xmin,t.ymin,t.xmax,t.ymax]:null:null}function u(t,o,n,e,f){const[l,c,s,u]=t;if(s<l||u<c)return[0,0,0,1];const i=s-l,a=u-c,M=128,h=r,m=Math.floor(.5*(.5*M-h)),p=(M-2*(m+h))/Math.max(i,a),y=Math.round(i*p)+2*m,b=Math.round(a*p)+2*m;let d=1;if(o){d=b/p/(o.ymax-o.ymin)}let C=0,I=0,j=1;e&&(f?o&&n&&o.ymax-o.ymin>0&&(j=(o.xmax-o.xmin)/(o.ymax-o.ymin),C=e.x/(n*j),I=e.y/n):(C=e.x,I=e.y)),o&&(C=.5*(o.xmax+o.xmin)+C*(o.xmax-o.xmin),I=.5*(o.ymax+o.ymin)+I*(o.ymax-o.ymin)),C-=l,I-=c,C*=p,I*=p,C+=m,I+=m;let v=C/y-.5,w=I/b-.5;return f&&n&&(v*=n*j,w*=n),[d,v,w,j]}function i(t){const o=f(t.geom),n=l(o),e=128,c=r,s=Math.floor(.5*(.5*e-c)),u=(e-2*(s+c))/Math.max(n.width,n.height),i=Math.round(n.width*u)+2*s,m=Math.round(n.height*u)+2*s,p=[];for(const r of o)if(r&&r.length>1){const o=[];for(const e of r){let[r,f]=e;r-=n.x,f-=n.y,r*=u,f*=u,r+=s-.5,f+=s-.5,t.asFill?o.push([r,f]):o.push([Math.round(r),Math.round(f)])}if(t.asFill){const t=o.length-1;o[0][0]===o[t][0]&&o[0][1]===o[t][1]||o.push(o[0])}p.push(o)}const y=a(p,i,m,s);return t.asFill&&M(p,i,m,s,y),[h(y,s),i,m]}function a(t,o,n,r){const e=o*n,f=new Array(e),l=r*r+1;for(let t=0;t<e;++t)f[t]=l;for(const e of t){const t=e.length;for(let l=1;l<t;++l){const t=e[l-1],c=e[l];let s,u,i,a;t[0]<c[0]?(s=t[0],u=c[0]):(s=c[0],u=t[0]),t[1]<c[1]?(i=t[1],a=c[1]):(i=c[1],a=t[1]);let M=Math.floor(s)-r,h=Math.floor(u)+r,m=Math.floor(i)-r,p=Math.floor(a)+r;M<0&&(M=0),h>o&&(h=o),m<0&&(m=0),p>n&&(p=n);const y=c[0]-t[0],b=c[1]-t[1],d=y*y+b*b;for(let r=M;r<h;r++)for(let e=m;e<p;e++){let l,s,u=(r-t[0])*y+(e-t[1])*b;u<0?(l=t[0],s=t[1]):u>d?(l=c[0],s=c[1]):(u/=d,l=t[0]+u*y,s=t[1]+u*b);const i=(r-l)*(r-l)+(e-s)*(e-s),a=(n-e-1)*o+r;i<f[a]&&(f[a]=i)}}}for(let t=0;t<e;++t)f[t]=Math.sqrt(f[t]);return f}function M(t,o,n,r,e){for(const f of t){const t=f.length;for(let l=1;l<t;++l){const t=f[l-1],c=f[l];let s,u,i,a;t[0]<c[0]?(s=t[0],u=c[0]):(s=c[0],u=t[0]),t[1]<c[1]?(i=t[1],a=c[1]):(i=c[1],a=t[1]);let M=Math.floor(s),h=Math.floor(u)+1,m=Math.floor(i),p=Math.floor(a)+1;M<r&&(M=r),h>o-r&&(h=o-r),m<r&&(m=r),p>n-r&&(p=n-r);for(let f=m;f<p;++f){if(t[1]>f==c[1]>f)continue;const l=(n-f-1)*o;for(let o=M;o<h;++o)o<(c[0]-t[0])*(f-t[1])/(c[1]-t[1])+t[0]&&(e[l+o]=-e[l+o]);for(let t=r;t<M;++t)e[l+t]=-e[l+t]}}}}function h(o,n){const r=2*n,e=o.length,f=new Uint8Array(4*e);for(let n=0;n<e;++n){const e=.5-o[n]/r;t(e,f,4*n)}return f}export{i as a,e,s as f,u as m};
//# sourceMappingURL=p-06dd709d.js.map