import{dC as e,x as s}from"./p-aad64c9f.js";import{f as t,_ as r,y as a}from"./p-682c165c.js";const n=(e,s)=>e.key.level-s.key.level!=0?e.key.level-s.key.level:e.key.row-s.key.row!=0?e.key.row-s.key.row:e.key.col-s.key.col;class i extends t{constructor(e){super(),this.tileInfoView=e,this.sortFunction=n}renderChildren(e){this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:s}=e,t=super.createRenderParams(e);return t.requiredLevel=this.tileInfoView.getClosestInfoForScale(s.scale).level,t.displayLevel=this.tileInfoView.tileInfo.scaleToZoom(s.scale),t}prepareRenderPasses(t){const n=super.prepareRenderPasses(t);return n.push(t.registerRenderPass({name:"stencil",brushes:[r],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT|e.LABEL,target:()=>this.getStencilTarget()})),s("esri-tiles-debug")&&n.push(t.registerRenderPass({name:"tileInfo",brushes:[a],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let s=1;for(const e of this.children)e.stencilRef=s++}}export{i};
//# sourceMappingURL=p-d6556377.js.map