{"version":3,"names":["A","P","E","g","$","x","N","e","isValid","w","type","dynamicDataSource","errorMessage","O","a","r","layer","t","layerJSON","n","isTable","push","layers","tables","U","async","j","test","url","F","reverse","J","C","D","fetchData","M","R","customParameters","apiKey","o","_","map","layerId","Array","isArray","K","length","id","sort","Y","slice","indexOf","serviceJSON","s","layersJSON","i","h","l","z","c","itemResources","u","added","y","G","filter","removed","some","forEach","includes","k","get","sourceJSON","find","Promise","allSettled","load","loaded","defaultPopupTemplate","popupInfo","toJSON","operationalLayerType","layerType","B","v","all","Map","set","V","findIndex","q","H","portalItem","Set","size","Q","W","p","f","itemType","errorNamePrefix","X","title","fullExtent","d","serverType","extent","b","I","T","METADATA","MULTI_LAYER","S","SINGLE_LAYER","TABLE","Z","parsedUrl","path","m","every","ee","ae","reduce","clone","union","L","re","validateLayer","createItemData","te","update","data","reload","ne","resolve","newItem","setItemProperties","oe"],"sources":["./node_modules/@arcgis/core/layers/save/featureLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{equals as e,difference as a,isSome as r}from\"../../core/arrayUtils.js\";import t from\"../../core/Error.js\";import{updateOrigins as n}from\"../../core/accessorSupport/originUtils.js\";import{save as o,createJSONContextForWrite as s,getLayerJSON as i,setCommonItemProperties as l,saveAs as c,getPortalItem as u,addItem as y,ensureLayerConfig as p,ensureItemConfig as f,createErrorMessage as m}from\"./utils.js\";import{parse as d}from\"../support/arcgisLayerUrl.js\";import{fetchFeatureService as h}from\"../support/fetchService.js\";import{isLayerWithFeatureLayerSource as w}from\"../support/layerUtils.js\";import{layerLookupMap as v}from\"../support/lazyLayerLoader.js\";import{getWGS84ExtentForItem as b,removeTypeKeyword as I,typeKeyword as T,toggleTypeKeyword as L,addTypeKeyword as S}from\"../../portal/support/portalItemUtils.js\";const A=\"Feature Service\",P=\"feature-layer-utils\",E=`${P}-save`,g=`${P}-save-as`,$=`${P}-saveall`,x=`${P}-saveall-as`;function N(e){return{isValid:w(e)&&(\"feature\"!==e.type||!e.dynamicDataSource),errorMessage:\"Feature layer should be a layer or table in a map or feature service\"}}function O(e){const a=[],r=[];for(const{layer:t,layerJSON:n}of e)t.isTable?r.push(n):a.push(n);return{layers:a,tables:r}}function U(e){return O([e])}async function j(e,a){return/\\/\\d+\\/?$/.test(e.url)?U(a[0]):F(a,e)}async function F(e,a){if(e.reverse(),!a)return O(e);const r=await J(a,e);for(const t of e)C(t.layer,t.layerJSON,r);return D(r,e),r}async function J(e,a){let r=await e.fetchData(\"json\");if(M(r))return r;r||={},R(r);const{layer:{url:t,customParameters:n,apiKey:o}}=a[0];return await _(r,{url:t??\"\",customParameters:n,apiKey:o},a.map((e=>e.layer.layerId))),r}function M(e){return!!(e&&Array.isArray(e.layers)&&Array.isArray(e.tables))}function R(e){e.layers||=[],e.tables||=[]}function D(e,a){const r=[],t=[];for(const{layer:n}of a){const{isTable:e,layerId:a}=n;e?t.push(a):r.push(a)}K(e.layers,r),K(e.tables,t)}function K(a,r){if(a.length<2)return;const t=[];for(const{id:e}of a)t.push(e);e(t.sort(Y),r.slice().sort(Y))&&a.sort(((e,a)=>{const t=r.indexOf(e.id),n=r.indexOf(a.id);return t<n?-1:t>n?1:0}))}function Y(e,a){return e<a?-1:e>a?1:0}async function _(e,a,r){const{url:t,customParameters:n,apiKey:o}=a,{serviceJSON:s,layersJSON:i}=await h(t,{customParameters:n,apiKey:o}),l=z(e.layers,s.layers,r),c=z(e.tables,s.tables,r);e.layers=l.itemResources,e.tables=c.itemResources;const u=[...l.added,...c.added],y=i?[...i.layers,...i.tables]:[];await G(e,u,t,y)}function z(e,r,t){const n=a(e,r,((e,a)=>e.id===a.id));e=e.filter((e=>!n.removed.some((a=>a.id===e.id))));const o=n.added;return o.forEach((({id:a})=>{e.push({id:a})})),{itemResources:e,added:o.filter((({id:e})=>!t.includes(e)))}}async function G(e,a,r,t){const n=await k(a),o=a.map((({id:e,type:a})=>new(n.get(a))({url:r,layerId:e,sourceJSON:t.find((({id:a})=>a===e))})));await Promise.allSettled(o.map((e=>e.load()))),o.forEach((a=>{const{layerId:r,loaded:t,defaultPopupTemplate:n}=a;if(!t||null==n)return;const o={id:r,popupInfo:n.toJSON()};\"ArcGISFeatureLayer\"!==a.operationalLayerType&&(o.layerType=a.operationalLayerType),C(a,o,e)}))}async function k(e){const a=[];e.forEach((({type:e})=>{const r=B(e),t=v[r];a.push(t())}));const r=await Promise.all(a),t=new Map;return e.forEach((({type:e},a)=>{t.set(e,r[a])})),t}function B(e){let a;switch(e){case\"Feature Layer\":case\"Table\":a=\"FeatureLayer\";break;case\"Oriented Imagery Layer\":a=\"OrientedImageryLayer\";break;case\"Catalog Layer\":a=\"CatalogLayer\"}return a}function C(e,a,r){e.isTable?V(r.tables,a):V(r.layers,a)}function V(e,a){const r=e.findIndex((({id:e})=>e===a.id));-1===r?e.push(a):e[r]=a}function q(e,a){if(!e.length)throw new t(`${a}:missing-parameters`,\"'layers' array should contain at least one feature layer\")}function H(e,a){const r=e.map((e=>e.portalItem.id));if(new Set(r).size>1)throw new t(`${a}:invalid-parameters`,\"All layers in the 'layers' array should be loaded from the same portal item\")}function Q(e,a){const r=e.map((e=>e.layerId));if(new Set(r).size!==r.length)throw new t(`${a}:invalid-parameters`,\"'layers' array should contain only one instance each of layer or table in a feature service\")}async function W(e){q(e,$),await Promise.all(e.map((e=>e.load())));for(const a of e)p(a,$,N),f({layer:a,itemType:A,errorNamePrefix:$});H(e,$),Q(e,$)}async function X(e,a){const{url:r,layerId:t,title:n,fullExtent:o,isTable:s}=e,i=d(r);a.url=\"FeatureServer\"===i?.serverType?r:`${r}/${t}`,a.title||=n,a.extent=null,s||null==o||(a.extent=await b(o)),I(a,T.METADATA),I(a,T.MULTI_LAYER),S(a,T.SINGLE_LAYER),s&&S(a,T.TABLE)}function Z(e,a){for(const s of e){const r=s.parsedUrl.path,n=d(r),o=n?.url.path;if(!o)throw new t(`${a}:invalid-parameters`,m(s,`has unsupported url pattern: ${r}`),{layer:s});const i=n?.serverType;if(\"FeatureServer\"!==i&&\"MapServer\"!==i)throw new t(`${a}:invalid-parameters`,m(s,`has unsupported server type: ${i}`),{layer:s});if(\"MapServer\"===i&&e.length>1)throw new t(`${a}:invalid-parameters`,\"Only one layer or table in a map service can be saved\")}const r=d(e[0].parsedUrl.path),n=r?.url.path,o=e.every((e=>{const a=d(e.parsedUrl.path);return a?.url.path===n}));if(!o)throw new t(`${a}:invalid-parameters`,\"'layers' array should only contain layers or tables that belong to the same feature service\")}async function ee(e){q(e,x),await Promise.all(e.map((e=>e.load())));for(const a of e)p(a,x,N);Z(e,x),Q(e,x)}async function ae(e,a){let t=0,n=0;for(const{isTable:r}of a)r?n++:t++;const o=a[0].parsedUrl.path,s=d(o);if(e.url=\"FeatureServer\"===s?.serverType?s.url.path:o,e.title||=s.title,e.extent=null,t>0){const t=a.map((e=>e.fullExtent)).filter(r).reduce(((e,a)=>e.clone().union(a)));t&&(e.extent=await b(t))}I(e,T.METADATA),L(e,T.MULTI_LAYER,a.length>1),L(e,T.SINGLE_LAYER,1===a.length),L(e,T.TABLE,n>0&&0===t),l(e)}async function re(e,a){return o({layer:e,itemType:A,validateLayer:N,createItemData:(e,a)=>j(a,[e]),errorNamePrefix:E},a)}async function te(e,a){await W(e);const r=e[0].portalItem,t=s(r),o=await Promise.all(e.map((e=>i(e,t,a)))),c=await j(r,e.map(((e,a)=>({layer:e,layerJSON:o[a]}))));return l(r),await r.update({data:c}),await Promise.all(e.slice(1).map((e=>e.portalItem.reload()))),n(t),r.clone()}async function ne(e,a,r){return c({layer:e,itemType:A,validateLayer:N,createItemData:(e,a)=>Promise.resolve(U(e)),errorNamePrefix:g,newItem:a,setItemProperties:X},r)}async function oe(e,a,r){await ee(e);const t=u({itemType:A,errorNamePrefix:x,newItem:a}),o=s(t),l=await Promise.all(e.map((e=>i(e,o,r)))),c=await F(e.map(((e,a)=>({layer:e,layerJSON:l[a]}))));await ae(t,e),await y(t,c,r);for(const n of e)n.portalItem=t.clone();return n(o),t}export{re as save,te as saveAll,oe as saveAllAs,ne as saveAs};\n"],"mappings":"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"}