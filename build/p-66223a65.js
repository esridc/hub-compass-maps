import{$ as e,j as r}from"./p-296bc59a.js";import{cK as a,cP as t,cN as s,d0 as o,cO as i}from"./p-3013819f.js";import{p}from"./p-52a3c31d.js";import"./p-055b59cb.js";import"./p-8be499c9.js";import"./p-5f878e96.js";import"./p-897087fa.js";import"./p-3b51db5e.js";import"./p-a76822de.js";const n="Group Layer",c="group-layer-save",m="group-layer-save-as",u=o.GROUP_LAYER_MAP;function y(e){return{isValid:"group"===e.type,errorMessage:"Layer.type should be 'group'"}}function f(e){return{isValid:t(e,u),errorMessage:`Layer.portalItem.typeKeywords should have '${u}'`}}function l(e,r){return{...a(e,"web-map",!0),initiator:r}}function d(e){const r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}async function j(e,r){r.title||=e.title,s(r,o.METADATA),i(r,u)}async function v(r,a){return e({layer:r,itemType:n,validateLayer:y,validateItem:f,createJSONContext:e=>l(e,r),createItemData:d,errorNamePrefix:c,saveResources:async(e,a)=>(r.sourceIsPortalItem||await e.removeAllResources().catch((()=>{})),p(r.resourceReferences,a))},a)}async function b(e,a,t){return r({layer:e,itemType:n,validateLayer:y,createJSONContext:r=>l(r,e),createItemData:d,errorNamePrefix:m,newItem:a,setItemProperties:j,saveResources:(r,a)=>p(e.resourceReferences,a)},t)}export{v as save,b as saveAs};
//# sourceMappingURL=p-66223a65.js.map