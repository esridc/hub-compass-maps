{"version":3,"names":["overflowActionsDebounceInMs","groupBufferPx","getAverage","arr","reduce","p","c","length","geActionDimensions","actions","actionsNotSlotted","filter","action","slot","SLOTS$1","menuActions","actionLen","actionWidth","map","clientWidth","actionHeight","clientHeight","getMaxActionCount","width","layout","height","groupCount","maxContainerPx","avgItemPx","Math","floor","getOverflowCount","actionCount","max","queryActions","el","Array","from","querySelectorAll","closest","SLOTS","trigger","overflowActions","actionGroups","expanded","overflowCount","needToSlotCount","reverse","forEach","group","slottedWithinGroupCount","groupActions","groupAction","removeAttribute","textEnabled","some","unslottedActions","setAttribute","forceUpdate","ICONS","chevronsLeft","chevronsRight","getCalcitePosition","position","toggleChildActionText","setTooltipReference","tooltip","referenceElement","ref","ExpandToggle","expandText","collapseText","toggle","scale","rtl","getElementDir","text","icons","end","expandIcon","collapseIcon","actionNode","h","icon","onClick","title","CSS","actionGroupEnd","actionsEnd","bottomActions","expandTooltip","actionBarCss","ActionBar","proxyCustomElement","HTMLElement","constructor","super","this","__registerHost","__attachShadow","calciteActionBarToggle","createEvent","mutationObserver","createObserver","resizeObserver","entries","resizeHandlerEntries","actionMenuOpenHandler","event","target","menuOpen","composedPath","includes","resizeHandler","entry","contentRect","resize","debounce","expandDisabled","overflowActionsDisabled","setGroupLayout","hasActionsEnd","hasBottomActions","toggleExpand","emit","setExpandToggleRef","expandToggleEl","handleDefaultSlotChange","groups","slotChangeGetAssignedElements","matches","handleActionsEndSlotChange","slotChangeHasAssignedElement","handleBottomActionsSlotChange","handleTooltipSlotChange","tooltips","actionsEndGroupLabel","undefined","overlayPositioning","messages","messageOverrides","effectiveLocale","defaultMessages","expandHandler","expandedHandler","layoutHandler","updateGroups","overflowDisabledHandler","disconnect","observe","onMessagesChange","effectiveLocaleChange","updateMessages","componentDidLoad","setComponentLoaded","connectedCallback","connectLocalized","connectMessages","childList","subtree","connectConditionalSlotComponent","async","setUpLoadableComponent","setUpMessages","disconnectedCallback","disconnectConditionalSlotComponent","disconnectLocalized","disconnectMessages","componentFocusable","focusFirstTabbable","renderBottomActionGroup","expandToggleNode","collapse","expand","class","hidden","label","name","onSlotchange","render","Host","onCalciteActionMenuOpen","assetsDirs","watchers","style","setFocus","defineCustomElement$1","customElements","components","tagName","get","define","defineCustomElement$7","defineCustomElement$6","defineCustomElement$5","defineCustomElement$4","defineCustomElement$3","defineCustomElement$2","CalciteActionBar","defineCustomElement"],"sources":["./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/ExpandToggle.js","./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-action-bar.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nimport { forceUpdate, h } from '@stencil/core/internal/client/index.js';\nimport { a as getElementDir } from './dom.js';\nimport { S as SLOTS$1 } from './action-group.js';\nimport { S as SLOTS } from './action-menu.js';\n\nconst overflowActionsDebounceInMs = 150;\nconst groupBufferPx = 2;\nconst getAverage = (arr) => arr.reduce((p, c) => p + c, 0) / arr.length;\nconst geActionDimensions = (actions) => {\n    const actionsNotSlotted = actions.filter((action) => action.slot !== SLOTS$1.menuActions);\n    const actionLen = actionsNotSlotted?.length;\n    return {\n        actionWidth: actionLen ? getAverage(actionsNotSlotted.map((action) => action.clientWidth || 0)) : 0,\n        actionHeight: actionLen ? getAverage(actionsNotSlotted.map((action) => action.clientHeight || 0)) : 0,\n    };\n};\nconst getMaxActionCount = ({ width, actionWidth, layout, height, actionHeight, groupCount, }) => {\n    const maxContainerPx = layout === \"horizontal\" ? width : height;\n    const avgItemPx = layout === \"horizontal\" ? actionWidth : actionHeight;\n    return Math.floor((maxContainerPx - groupCount * groupBufferPx) / avgItemPx);\n};\nconst getOverflowCount = ({ layout, actionCount, actionWidth, width, actionHeight, height, groupCount, }) => {\n    return Math.max(actionCount - getMaxActionCount({ width, actionWidth, layout, height, actionHeight, groupCount }), 0);\n};\nconst queryActions = (el) => {\n    return Array.from(el.querySelectorAll(\"calcite-action\")).filter((action) => action.closest(\"calcite-action-menu\") ? action.slot === SLOTS.trigger : true);\n};\nconst overflowActions = ({ actionGroups, expanded, overflowCount, }) => {\n    let needToSlotCount = overflowCount;\n    actionGroups.reverse().forEach((group) => {\n        let slottedWithinGroupCount = 0;\n        const groupActions = queryActions(group).reverse();\n        groupActions.forEach((groupAction) => {\n            if (groupAction.slot === SLOTS$1.menuActions) {\n                groupAction.removeAttribute(\"slot\");\n                groupAction.textEnabled = expanded;\n            }\n        });\n        if (needToSlotCount > 0) {\n            groupActions.some((groupAction) => {\n                const unslottedActions = groupActions.filter((action) => !action.slot);\n                if (unslottedActions.length > 1 && groupActions.length > 2 && !groupAction.closest(\"calcite-action-menu\")) {\n                    groupAction.textEnabled = true;\n                    groupAction.setAttribute(\"slot\", SLOTS$1.menuActions);\n                    slottedWithinGroupCount++;\n                    if (slottedWithinGroupCount > 1) {\n                        needToSlotCount--;\n                    }\n                }\n                return needToSlotCount < 1;\n            });\n        }\n        forceUpdate(group);\n    });\n};\n\nconst ICONS = {\n    chevronsLeft: \"chevrons-left\",\n    chevronsRight: \"chevrons-right\",\n};\nfunction getCalcitePosition(position, el) {\n    return position || el.closest(\"calcite-shell-panel\")?.position || \"start\";\n}\nfunction toggleChildActionText({ el, expanded, }) {\n    queryActions(el)\n        .filter((el) => el.slot !== SLOTS$1.menuActions)\n        .forEach((action) => (action.textEnabled = expanded));\n    el.querySelectorAll(\"calcite-action-group, calcite-action-menu\").forEach((el) => (el.expanded = expanded));\n}\nconst setTooltipReference = ({ tooltip, referenceElement, expanded, ref, }) => {\n    if (tooltip) {\n        tooltip.referenceElement = !expanded && referenceElement ? referenceElement : null;\n    }\n    if (ref) {\n        ref(referenceElement);\n    }\n    return referenceElement;\n};\nconst ExpandToggle = ({ expanded, expandText, collapseText, toggle, el, position, tooltip, ref, scale, }) => {\n    const rtl = getElementDir(el) === \"rtl\";\n    const text = expanded ? collapseText : expandText;\n    const icons = [ICONS.chevronsLeft, ICONS.chevronsRight];\n    if (rtl) {\n        icons.reverse();\n    }\n    const end = getCalcitePosition(position, el) === \"end\";\n    const expandIcon = end ? icons[1] : icons[0];\n    const collapseIcon = end ? icons[0] : icons[1];\n    const actionNode = (h(\"calcite-action\", { icon: expanded ? expandIcon : collapseIcon, onClick: toggle, scale: scale, text: text, textEnabled: expanded, title: !expanded && !tooltip ? text : null, \n        // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n        ref: (referenceElement) => setTooltipReference({ tooltip, referenceElement, expanded, ref }) }));\n    return actionNode;\n};\n\nexport { ExpandToggle as E, overflowActions as a, getOverflowCount as b, geActionDimensions as g, overflowActionsDebounceInMs as o, queryActions as q, toggleChildActionText as t };\n\n//# sourceMappingURL=ExpandToggle.js.map","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h, Host } from '@stencil/core/internal/client/index.js';\nimport { c as connectConditionalSlotComponent, d as disconnectConditionalSlotComponent } from './conditionalSlot.js';\nimport { s as slotChangeGetAssignedElements, d as slotChangeHasAssignedElement, f as focusFirstTabbable } from './dom.js';\nimport { a as setComponentLoaded, s as setUpLoadableComponent, c as componentFocusable } from './loadable.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale.js';\nimport { c as createObserver } from './observers.js';\nimport { u as updateMessages, c as connectMessages, s as setUpMessages, d as disconnectMessages } from './t9n.js';\nimport { t as toggleChildActionText, E as ExpandToggle, o as overflowActionsDebounceInMs, q as queryActions, g as geActionDimensions, a as overflowActions, b as getOverflowCount } from './ExpandToggle.js';\nimport { d as defineCustomElement$7 } from './action.js';\nimport { d as defineCustomElement$6 } from './action-group.js';\nimport { d as defineCustomElement$5 } from './action-menu.js';\nimport { d as defineCustomElement$4 } from './icon.js';\nimport { d as defineCustomElement$3 } from './loader.js';\nimport { d as defineCustomElement$2 } from './popover.js';\nimport { d as debounce } from './debounce.js';\n\nconst CSS = {\n    actionGroupEnd: \"action-group--end\",\n};\nconst SLOTS = {\n    actionsEnd: \"actions-end\",\n    bottomActions: \"bottom-actions\",\n    expandTooltip: \"expand-tooltip\",\n};\n\nconst actionBarCss = \":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{pointer-events:auto;display:inline-flex;align-self:stretch;--calcite-action-bar-expanded-max-width:auto}:host([layout=vertical]){flex-direction:column}:host([layout=vertical]) .action-group--end{margin-block-start:auto}:host([layout=horizontal]){flex-direction:row}:host([layout=horizontal]) .action-group--end{margin-inline-start:auto}:host([layout=vertical][overflow-actions-disabled]){overflow-y:auto}:host([layout=horizontal][overflow-actions-disabled]){overflow-x:auto}:host([layout=vertical][expanded]){max-inline-size:var(--calcite-action-bar-expanded-max-width)}::slotted(calcite-action-group){border-block-end:1px solid var(--calcite-color-border-3)}:host([layout=horizontal]) ::slotted(calcite-action-group){border-block-end:0;border-inline-end:1px solid var(--calcite-color-border-3)}:host([layout=horizontal][expand-disabled]) ::slotted(calcite-action-group:last-of-type){border-inline-end:0}::slotted(calcite-action-group:last-child){border-block-end:0;border-inline-end:0}.action-group--end{justify-content:flex-end}:host([hidden]){display:none}[hidden]{display:none}\";\n\nconst ActionBar = /*@__PURE__*/ proxyCustomElement(class ActionBar extends HTMLElement {\n    constructor() {\n        super();\n        this.__registerHost();\n        this.__attachShadow();\n        this.calciteActionBarToggle = createEvent(this, \"calciteActionBarToggle\", 6);\n        this.mutationObserver = createObserver(\"mutation\", () => {\n            const { el, expanded } = this;\n            toggleChildActionText({ el, expanded });\n            this.overflowActions();\n        });\n        this.resizeObserver = createObserver(\"resize\", (entries) => this.resizeHandlerEntries(entries));\n        // --------------------------------------------------------------------------\n        //\n        //  Private Methods\n        //\n        // --------------------------------------------------------------------------\n        this.actionMenuOpenHandler = (event) => {\n            if (event.target.menuOpen) {\n                const composedPath = event.composedPath();\n                Array.from(this.el.querySelectorAll(\"calcite-action-group\")).forEach((group) => {\n                    if (!composedPath.includes(group)) {\n                        group.menuOpen = false;\n                    }\n                });\n            }\n        };\n        this.resizeHandlerEntries = (entries) => {\n            entries.forEach(this.resizeHandler);\n        };\n        this.resizeHandler = (entry) => {\n            const { width, height } = entry.contentRect;\n            this.resize({ width, height });\n        };\n        this.resize = debounce(({ width, height }) => {\n            const { el, expanded, expandDisabled, layout, overflowActionsDisabled } = this;\n            if (overflowActionsDisabled ||\n                (layout === \"vertical\" && !height) ||\n                (layout === \"horizontal\" && !width)) {\n                return;\n            }\n            const actions = queryActions(el);\n            const actionCount = expandDisabled ? actions.length : actions.length + 1;\n            const actionGroups = Array.from(el.querySelectorAll(\"calcite-action-group\"));\n            this.setGroupLayout(actionGroups);\n            const groupCount = this.hasActionsEnd || this.hasBottomActions || !expandDisabled\n                ? actionGroups.length + 1\n                : actionGroups.length;\n            const { actionHeight, actionWidth } = geActionDimensions(actions);\n            const overflowCount = getOverflowCount({\n                layout,\n                actionCount,\n                actionHeight,\n                actionWidth,\n                height,\n                width,\n                groupCount,\n            });\n            overflowActions({\n                actionGroups,\n                expanded,\n                overflowCount,\n            });\n        }, overflowActionsDebounceInMs);\n        this.toggleExpand = () => {\n            this.expanded = !this.expanded;\n            this.calciteActionBarToggle.emit();\n        };\n        this.setExpandToggleRef = (el) => {\n            this.expandToggleEl = el;\n        };\n        this.handleDefaultSlotChange = (event) => {\n            const groups = slotChangeGetAssignedElements(event).filter((el) => el.matches(\"calcite-action-group\"));\n            this.setGroupLayout(groups);\n        };\n        this.handleActionsEndSlotChange = (event) => {\n            this.hasActionsEnd = slotChangeHasAssignedElement(event);\n        };\n        this.handleBottomActionsSlotChange = (event) => {\n            this.hasBottomActions = slotChangeHasAssignedElement(event);\n        };\n        this.handleTooltipSlotChange = (event) => {\n            const tooltips = slotChangeGetAssignedElements(event).filter((el) => el?.matches(\"calcite-tooltip\"));\n            this.expandTooltip = tooltips[0];\n        };\n        this.actionsEndGroupLabel = undefined;\n        this.expandDisabled = false;\n        this.expanded = false;\n        this.layout = \"vertical\";\n        this.overflowActionsDisabled = false;\n        this.overlayPositioning = \"absolute\";\n        this.position = undefined;\n        this.scale = undefined;\n        this.messages = undefined;\n        this.messageOverrides = undefined;\n        this.effectiveLocale = undefined;\n        this.hasActionsEnd = false;\n        this.hasBottomActions = false;\n        this.expandTooltip = undefined;\n        this.defaultMessages = undefined;\n    }\n    expandHandler() {\n        this.overflowActions();\n    }\n    expandedHandler() {\n        const { el, expanded } = this;\n        toggleChildActionText({ el, expanded });\n        this.overflowActions();\n    }\n    layoutHandler() {\n        this.updateGroups();\n    }\n    overflowDisabledHandler(overflowActionsDisabled) {\n        if (overflowActionsDisabled) {\n            this.resizeObserver?.disconnect();\n            return;\n        }\n        this.resizeObserver?.observe(this.el);\n        this.overflowActions();\n    }\n    onMessagesChange() {\n        /* wired up by t9n util */\n    }\n    effectiveLocaleChange() {\n        updateMessages(this, this.effectiveLocale);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    componentDidLoad() {\n        const { el, expanded } = this;\n        setComponentLoaded(this);\n        toggleChildActionText({ el, expanded });\n        this.overflowActions();\n    }\n    connectedCallback() {\n        const { el, expanded } = this;\n        connectLocalized(this);\n        connectMessages(this);\n        toggleChildActionText({ el, expanded });\n        this.mutationObserver?.observe(el, { childList: true, subtree: true });\n        if (!this.overflowActionsDisabled) {\n            this.resizeObserver?.observe(el);\n        }\n        this.overflowActions();\n        connectConditionalSlotComponent(this);\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        await setUpMessages(this);\n    }\n    disconnectedCallback() {\n        this.mutationObserver?.disconnect();\n        this.resizeObserver?.disconnect();\n        disconnectConditionalSlotComponent(this);\n        disconnectLocalized(this);\n        disconnectMessages(this);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Methods\n    //\n    // --------------------------------------------------------------------------\n    /**\n     * Overflows actions that won't fit into menus.\n     *\n     * @internal\n     */\n    async overflowActions() {\n        this.resize({ width: this.el.clientWidth, height: this.el.clientHeight });\n    }\n    /**\n     * Sets focus on the component's first focusable element.\n     */\n    async setFocus() {\n        await componentFocusable(this);\n        focusFirstTabbable(this.el);\n    }\n    updateGroups() {\n        this.setGroupLayout(Array.from(this.el.querySelectorAll(\"calcite-action-group\")));\n    }\n    setGroupLayout(groups) {\n        groups.forEach((group) => (group.layout = this.layout));\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    renderBottomActionGroup() {\n        const { expanded, expandDisabled, el, position, toggleExpand, scale, layout, messages, actionsEndGroupLabel, overlayPositioning, } = this;\n        const expandToggleNode = !expandDisabled ? (h(ExpandToggle, { collapseText: messages.collapse, el: el, expandText: messages.expand, expanded: expanded, position: position, scale: scale, toggle: toggleExpand, tooltip: this.expandTooltip,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setExpandToggleRef })) : null;\n        return (h(\"calcite-action-group\", { class: CSS.actionGroupEnd, hidden: this.expandDisabled && !(this.hasActionsEnd || this.hasBottomActions), label: actionsEndGroupLabel, layout: layout, overlayPositioning: overlayPositioning, scale: scale }, h(\"slot\", { name: SLOTS.actionsEnd, onSlotchange: this.handleActionsEndSlotChange }), h(\"slot\", { name: SLOTS.bottomActions, onSlotchange: this.handleBottomActionsSlotChange }), h(\"slot\", { name: SLOTS.expandTooltip, onSlotchange: this.handleTooltipSlotChange }), expandToggleNode));\n    }\n    render() {\n        return (h(Host, { onCalciteActionMenuOpen: this.actionMenuOpenHandler }, h(\"slot\", { onSlotchange: this.handleDefaultSlotChange }), this.renderBottomActionGroup()));\n    }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return this; }\n    static get watchers() { return {\n        \"expandDisabled\": [\"expandHandler\"],\n        \"expanded\": [\"expandedHandler\"],\n        \"layout\": [\"layoutHandler\"],\n        \"overflowActionsDisabled\": [\"overflowDisabledHandler\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"effectiveLocale\": [\"effectiveLocaleChange\"]\n    }; }\n    static get style() { return actionBarCss; }\n}, [1, \"calcite-action-bar\", {\n        \"actionsEndGroupLabel\": [1, \"actions-end-group-label\"],\n        \"expandDisabled\": [516, \"expand-disabled\"],\n        \"expanded\": [1540],\n        \"layout\": [513],\n        \"overflowActionsDisabled\": [516, \"overflow-actions-disabled\"],\n        \"overlayPositioning\": [513, \"overlay-positioning\"],\n        \"position\": [513],\n        \"scale\": [513],\n        \"messages\": [1040],\n        \"messageOverrides\": [1040],\n        \"effectiveLocale\": [32],\n        \"hasActionsEnd\": [32],\n        \"hasBottomActions\": [32],\n        \"expandTooltip\": [32],\n        \"defaultMessages\": [32],\n        \"overflowActions\": [64],\n        \"setFocus\": [64]\n    }, undefined, {\n        \"expandDisabled\": [\"expandHandler\"],\n        \"expanded\": [\"expandedHandler\"],\n        \"layout\": [\"layoutHandler\"],\n        \"overflowActionsDisabled\": [\"overflowDisabledHandler\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"effectiveLocale\": [\"effectiveLocaleChange\"]\n    }]);\nfunction defineCustomElement$1() {\n    if (typeof customElements === \"undefined\") {\n        return;\n    }\n    const components = [\"calcite-action-bar\", \"calcite-action\", \"calcite-action-group\", \"calcite-action-menu\", \"calcite-icon\", \"calcite-loader\", \"calcite-popover\"];\n    components.forEach(tagName => { switch (tagName) {\n        case \"calcite-action-bar\":\n            if (!customElements.get(tagName)) {\n                customElements.define(tagName, ActionBar);\n            }\n            break;\n        case \"calcite-action\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$7();\n            }\n            break;\n        case \"calcite-action-group\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$6();\n            }\n            break;\n        case \"calcite-action-menu\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$5();\n            }\n            break;\n        case \"calcite-icon\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$4();\n            }\n            break;\n        case \"calcite-loader\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$3();\n            }\n            break;\n        case \"calcite-popover\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$2();\n            }\n            break;\n    } });\n}\ndefineCustomElement$1();\n\nconst CalciteActionBar = ActionBar;\nconst defineCustomElement = defineCustomElement$1;\n\nexport { CalciteActionBar, defineCustomElement };\n\n//# sourceMappingURL=calcite-action-bar.js.map"],"mappings":"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"}