const t=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["«","»"],["»","«"],["‹","›"],["›","‹"],["⁽","⁾"],["⁾","⁽"],["₍","₎"],["₎","₍"],["≤","≥"],["≥","≤"],["〈","〉"],["〉","〈"],["﹙","﹚"],["﹚","﹙"],["﹛","﹜"],["﹜","﹛"],["﹝","﹞"],["﹞","﹝"],["﹤","﹥"],["﹥","﹤"]],r=["آ","أ","إ","ا"],n=["ﻵ","ﻷ","ﻹ","ﻻ"],e=["ﻶ","ﻸ","ﻺ","ﻼ"],i=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ی","ئ","ؤ"],o=["ﺍ","ﺏ","ﺕ","ﺙ","ﺝ","ﺡ","ﺥ","ﺩ","ﺫ","ﺭ","ﺯ","ﺱ","ﺵ","ﺹ","ﺽ","ﻁ","ﻅ","ﻉ","ﻍ","ﻑ","ﻕ","ﻙ","ﻝ","ﻡ","ﻥ","ﻩ","ﻭ","ﻱ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯼ","ﺉ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺉ","ﺅ"],f=["ﺎ","ﺐ","ﺖ","ﺚ","ﺞ","ﺢ","ﺦ","ﺪ","ﺬ","ﺮ","ﺰ","ﺲ","ﺶ","ﺺ","ﺾ","ﻂ","ﻆ","ﻊ","ﻎ","ﻒ","ﻖ","ﻚ","ﻞ","ﻢ","ﻦ","ﻪ","ﻮ","ﻲ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯽ","ﺊ","ﺆ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺊ","ﺆ"],u=["ﺎ","ﺒ","ﺘ","ﺜ","ﺠ","ﺤ","ﺨ","ﺪ","ﺬ","ﺮ","ﺰ","ﺴ","ﺸ","ﺼ","ﻀ","ﻄ","ﻈ","ﻌ","ﻐ","ﻔ","ﻘ","ﻜ","ﻠ","ﻤ","ﻨ","ﻬ","ﻮ","ﻴ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯿ","ﺌ","ﺆ","ﹱ","ﹲ","ﹴ","ﹷ","ﹹ","ﹻ","ﹽ","ﹿ","ﺀ","ﺌ","ﺆ"],s=["ﺍ","ﺑ","ﺗ","ﺛ","ﺟ","ﺣ","ﺧ","ﺩ","ﺫ","ﺭ","ﺯ","ﺳ","ﺷ","ﺻ","ﺿ","ﻃ","ﻇ","ﻋ","ﻏ","ﻓ","ﻗ","ﻛ","ﻟ","ﻣ","ﻧ","ﻫ","ﻭ","ﻳ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯾ","ﺋ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺋ","ﺅ"],c=["ء","آ","أ","ؤ","إ","ا","ة","د","ذ","ر","ز","و","ى"],T=["ً","ً","ٌ","؟","ٍ","؟","َ","َ","ُ","ُ","ِ","ِ","ّ","ّ","ْ","ْ","ء","آ","آ","أ","أ","ؤ","ؤ","إ","إ","ئ","ئ","ئ","ئ","ا","ا","ب","ب","ب","ب","ة","ة","ت","ت","ت","ت","ث","ث","ث","ث","ج","ج","ج","ج","ح","ح","ح","ح","خ","خ","خ","خ","د","د","ذ","ذ","ر","ر","ز","ز","س","س","س","س","ش","ش","ش","ش","ص","ص","ص","ص","ض","ض","ض","ض","ط","ط","ط","ط","ظ","ظ","ظ","ظ","ع","ع","ع","ع","غ","غ","غ","غ","ف","ف","ف","ف","ق","ق","ق","ق","ك","ك","ك","ك","ل","ل","ل","ل","م","م","م","م","ن","ن","ن","ن","ه","ه","ه","ه","و","و","ى","ى","ي","ي","ي","ي","ﻵ","ﻶ","ﻷ","ﻸ","ﻹ","ﻺ","ﻻ","ﻼ","؟","؟","؟"],L=["ء","ف"],l=["غ","ي"],R=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],B=0,h=1,_=2,U=3,a=4,d=5,N=6,S=7,V=8,E=9,m=10,g=11,C=12,F=13,w=14,v=15,p=16,b=17,O=18,D=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],I=100,x=[I+0,B,B,B,B,I+1,I+2,I+3,h,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,I+4,a,a,a,B,a,B,a,B,a,a,a,B,B,a,a,B,B,B,B,B,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,B,B,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,B,B,a,a,B,B,a,a,B,B,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,B,B,B,I+5,S,S,I+6,I+7],y=[[O,O,O,O,O,O,O,O,O,N,d,N,V,d,O,O,O,O,O,O,O,O,O,O,O,O,O,O,d,d,d,N,V,a,a,g,g,g,a,a,a,a,a,m,E,m,E,E,_,_,_,_,_,_,_,_,_,_,E,a,a,a,a,a,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,a,a,a,a,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,a,a,a,O,O,O,O,O,O,d,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,E,a,g,g,g,g,a,a,a,a,B,a,a,O,a,a,g,g,_,_,a,B,a,a,a,_,B,a,a,a,a,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,B,B,B,B,B,B,B,B],[B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,a,a,a,a,a,a,a,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,a,B,B,B,B,B,B,B,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,B,a,a,a,a,a,a,a,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,h,C,h,C,C,h,C,C,h,C,a,a,a,a,a,a,a,a,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,a,a,a,a,a,h,h,h,h,h,a,a,a,a,a,a,a,a,a,a,a],[U,U,U,U,a,a,a,a,S,g,g,S,E,S,a,a,C,C,C,C,C,C,C,C,C,C,C,S,a,a,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,U,U,U,U,U,U,U,U,U,U,g,U,U,S,S,S,C,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,C,C,C,C,C,C,C,U,a,C,C,C,C,C,C,S,S,C,C,a,C,C,C,C,S,S,_,_,_,_,_,_,_,_,_,_,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,a,S,S,C,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,a,a,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,C,C,C,C,C,C,C,C,C,C,C,S,a,a,a,a,a,a,a,a,a,a,a,a,a,a,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,C,C,C,C,C,C,C,C,C,h,h,a,a,a,a,h,a,a,a,a,a],[V,V,V,V,V,V,V,V,V,V,V,O,O,O,B,h,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,V,d,F,w,v,p,b,E,g,g,g,g,g,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,E,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,V,O,O,O,O,O,a,a,a,a,a,O,O,O,O,O,O,_,B,a,a,_,_,_,_,_,_,m,m,a,a,a,B,_,_,_,_,_,_,_,_,_,_,m,m,a,a,a,a,B,B,B,B,B,B,B,B,B,B,B,B,B,a,a,a,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[B,B,B,B,B,B,B,a,a,a,a,a,a,a,a,a,a,a,a,B,B,B,B,B,a,a,a,a,a,h,C,h,h,h,h,h,h,h,h,h,h,m,h,h,h,h,h,h,h,h,h,h,h,h,h,a,h,h,h,h,h,a,h,a,h,h,a,h,h,a,h,h,h,h,h,h,h,h,h,h,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,C,C,C,C,C,C,C,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,E,a,E,a,a,E,a,a,a,a,a,a,a,a,a,g,a,a,m,m,a,a,a,a,a,g,g,a,a,a,a,a,S,S,S,S,S,a,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,a,a,O],[a,a,a,g,g,g,a,a,a,a,a,m,E,m,E,E,_,_,_,_,_,_,_,_,_,_,E,a,a,a,a,a,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,a,a,a,a,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,a,a,a,a,a,a,a,a,a,a,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,a,a,a,B,B,B,B,B,B,a,a,B,B,B,B,B,B,a,a,B,B,B,B,B,B,a,a,B,B,B,a,a,a,g,g,a,a,a,g,g,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]];class Y{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(t,r,n){if(this.sourceToTarget=[],this.targetToSource=[],!t)return"";if(lt(this.sourceToTarget,this.targetToSource,t.length),!this.checkParameters(r,n))return t;r=this.inputFormat,n=this.outputFormat;let e=t;const i=Ut,o=ct(r.charAt(1)),f=ct(n.charAt(1)),u=("I"===r.charAt(0)?"L":r.charAt(0))+o,s=("I"===n.charAt(0)?"L":n.charAt(0))+f,c=r.charAt(2)+n.charAt(2);i.defInFormat=u,i.defOutFormat=s,i.defSwap=c;const T=k(t,u,s,c,i);let L=!1;return"R"===n.charAt(1)?L=!0:"C"!==n.charAt(1)&&"D"!==n.charAt(1)||(L="rtl"===this.checkContextual(T)),this.sourceToTarget=Bt,this.targetToSource=Rt(this.sourceToTarget),ht=this.targetToSource,e=r.charAt(3)===n.charAt(3)?T:"S"===n.charAt(3)?P(L,T,!0):Z(T,L,!0),this.sourceToTarget=Bt,this.targetToSource=ht,this.levels=_t,e}_inputFormatSetter(t){if(!Vt.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=t}_outputFormatSetter(t){if(!Vt.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=t}checkParameters(t,r){return t?this._inputFormatSetter(t):t=this.inputFormat,r?this._outputFormatSetter(r):r=this.outputFormat,t!==r}checkContextual(t){let r=z(t);if("ltr"!==r&&"rtl"!==r){try{r=document.dir.toLowerCase()}catch(t){}"ltr"!==r&&"rtl"!==r&&(r="ltr")}return r}hasBidiChar(t){return Et.test(t)}}function k(t,r,n,e,i){const o=M(t,{inFormat:r,outFormat:n,swap:e},i);if(o.inFormat===o.outFormat)return t;r=o.inFormat,n=o.outFormat,e=o.swap;const f=r.substring(0,1),u=r.substring(1,4),s=n.substring(0,1),c=n.substring(1,4);if(i.inFormat=r,i.outFormat=n,i.swap=e,"L"===f&&"VLTR"===n){if("LTR"===u)return i.dir=Nt,$(t,i);if("RTL"===u)return i.dir=St,$(t,i)}if("V"===f&&"V"===s)return i.dir="RTL"===u?St:Nt,K(t,i);if("L"===f&&"VRTL"===n)return"LTR"===u?(i.dir=Nt,t=$(t,i)):(i.dir=St,t=$(t,i)),K(t);if("VLTR"===r&&"LLTR"===n)return i.dir=Nt,$(t,i);if("V"===f&&"L"===s&&u!==c)return t=K(t),"RTL"===u?k(t,"LLTR","VLTR",e,i):k(t,"LRTL","VRTL",e,i);if("VRTL"===r&&"LRTL"===n)return k(t,"LRTL","VRTL",e,i);if("L"===f&&"L"===s){const r=i.swap;return i.swap=r.substr(0,1)+"N","RTL"===u?(i.dir=St,t=$(t,i),i.swap="N"+r.substr(1,2),i.dir=Nt,t=$(t,i)):(i.dir=Nt,t=$(t,i),i.swap="N"+r.substr(1,2),t=k(t,"VLTR","LRTL",i.swap,i)),t}return t}function M(t,r,n){if(void 0===r.inFormat&&(r.inFormat=n.defInFormat),void 0===r.outFormat&&(r.outFormat=n.defOutFormat),void 0===r.swap&&(r.swap=n.defSwap),r.inFormat===r.outFormat)return r;const e=r.inFormat.substring(0,1),i=r.outFormat.substring(0,1);let o,f=r.inFormat.substring(1,4),u=r.outFormat.substring(1,4);return"C"===f.charAt(0)&&(o=z(t),f="ltr"===o||"rtl"===o?o.toUpperCase():"L"===r.inFormat.charAt(2)?"LTR":"RTL",r.inFormat=e+f),"C"===u.charAt(0)&&(o=z(t),"rtl"===o?u="RTL":"ltr"===o?(o=W(t),u=o.toUpperCase()):u="L"===r.outFormat.charAt(2)?"LTR":"RTL",r.outFormat=i+u),r}function P(t,r,n){if(0===r.length)return"";void 0===t&&(t=!0),void 0===n&&(n=!0);const e=(r=String(r)).split("");let i=0,o=1,f=e.length;t||(i=e.length-1,o=-1,f=1);const u=j(e,i,o,f,n);let s="";for(let r=0;r<e.length;r++)n&&Q(u,u.length,r)>-1?(At(ht,r,!t,-1),Bt.splice(r,1)):s+=e[r];return s}function j(t,r,i,u,c){let T=0;const L=[];let l=0;for(let R=r;R*i<u;R+=i)if(X(t[R])||st(t[R])){if("ل"===t[R]&&rt(t,R+i,i,u)){t[R]=Lt(t[R+i],0===T?n:e),R+=i,Tt(t,R,i,u),c&&(L[l]=R,l++),T=0;continue}const r=t[R];1===T?t[R]=tt(t,R+i,i,u)?ft(t[R]):ut(t[R],f):!0===tt(t,R+i,i,u)?t[R]=ut(t[R],s):t[R]=ut(t[R],o),st(r)||(T=1),!0===ot(r)&&(T=0)}else T=0;return L}function z(t){const r=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(t);return r?r[0]<="z"?"ltr":"rtl":""}function W(t){const r=t.split("");return r.reverse(),z(r.join(""))}function Z(t,n,e){if(0===t.length)return"";void 0===e&&(e=!0),void 0===n&&(n=!0);let i="";const o=(t=String(t)).split("");for(let f=0;f<t.length;f++){let u=!1;if(o[f]>="ﹰ"&&o[f]<"\ufeff"){const s=t.charCodeAt(f);o[f]>="ﻵ"&&o[f]<="ﻼ"?(n?(f>0&&e&&" "===o[f-1]?i=i.substring(0,i.length-1)+"ل":(i+="ل",u=!0),i+=r[(s-65269)/2]):(i+=r[(s-65269)/2],i+="ل",f+1<t.length&&e&&" "===o[f+1]?f++:u=!0),u&&(At(ht,f,!0,1),Bt.splice(f,0,Bt[f]))):i+=T[s-65136]}else i+=o[f]}return i}function $(t,r){const n=t.split(""),e=[];return q(n,e,r),H(n,e,r),nt(2,n,e,r),nt(1,n,e,r),_t=e,n.join("")}function q(t,r,n){const e=t.length,i=n.dir?A:R;let o=0,f=-1;const u=[],s=[];n.hiLevel=n.dir,n.lastArabic=!1,n.hasUbatAl=!1,n.hasUbatB=!1,n.hasUbatS=!1;for(let r=0;r<e;r++)u[r]=J(t[r]);for(let c=0;c<e;c++){const e=o,T=et(t,u,s,c,n);s[c]=T,o=i[e][T];const L=240&o;o&=15;const l=i[o][at];if(r[c]=l,L>0)if(16===L){for(let t=f;t<c;t++)r[t]=1;f=-1}else f=-1;if(i[o][dt])-1===f&&(f=c);else if(f>-1){for(let t=f;t<c;t++)r[t]=l;f=-1}u[c]===d&&(r[c]=0),n.hiLevel|=l}n.hasUbatS&&G(u,r,e,n)}function G(t,r,n,e){for(let i=0;i<n;i++)if(t[i]===N){r[i]=e.dir;for(let n=i-1;n>=0&&t[n]===V;n--)r[n]=e.dir}}function H(t,r,n){if(0!==n.hiLevel&&n.swap.substr(0,1)!==n.swap.substr(1,2))for(let n=0;n<t.length;n++)1===r[n]&&(t[n]=it(t[n]))}function J(t){const r=t.charCodeAt(0),n=x[r>>8];return n<I?n:y[n-I][255&r]}function K(t,r){const n=t.split("");if(r){const t=[];q(n,t,r),_t=t}return n.reverse(),Bt.reverse(),n.join("")}function Q(t,r,n){for(let e=0;e<r;e++)if(t[e]===n)return e;return-1}function X(t){for(let r=0;r<L.length;r++)if(t>=L[r]&&t<=l[r])return!0;return!1}function tt(t,r,n,e){for(;r*n<e&&st(t[r]);)r+=n;return!!(r*n<e&&X(t[r]))}function rt(t,n,e,i){for(;n*e<i&&st(t[n]);)n+=e;let o=" ";if(!(n*e<i))return!1;o=t[n];for(let t=0;t<r.length;t++)if(r[t]===o)return!0;return!1}function nt(t,r,n,e){if(e.hiLevel<t)return;if(1===t&&e.dir===St&&!e.hasUbatB)return r.reverse(),void Bt.reverse();const i=r.length;let o,f,u,s,c,T=0;for(;T<i;){if(n[T]>=t){for(o=T+1;o<i&&n[o]>=t;)o++;for(f=T,u=o-1;f<u;f++,u--)s=r[f],r[f]=r[u],r[u]=s,c=Bt[f],Bt[f]=Bt[u],Bt[u]=c;T=o}T++}}function et(t,r,n,e,i){const o=r[e];return{UBAT_L:()=>(i.lastArabic=!1,B),UBAT_R:()=>(i.lastArabic=!1,h),UBAT_ON:()=>a,UBAT_AN:()=>U,UBAT_EN:()=>i.lastArabic?U:_,UBAT_AL:()=>(i.lastArabic=!0,i.hasUbatAl=!0,h),UBAT_WS:()=>a,UBAT_CS:()=>{let t,o;return e<1||e+1>=r.length||(t=n[e-1])!==_&&t!==U||(o=r[e+1])!==_&&o!==U?a:(i.lastArabic&&(o=U),o===t?o:a)},UBAT_ES:()=>(e>0?n[e-1]:d)===_&&e+1<r.length&&r[e+1]===_?_:a,UBAT_ET:()=>{if(e>0&&n[e-1]===_)return _;if(i.lastArabic)return a;let t=e+1;const o=r.length;for(;t<o&&r[t]===g;)t++;return t<o&&r[t]===_?_:a},UBAT_NSM:()=>{if("VLTR"===i.inFormat){const n=r.length;let i=e+1;for(;i<n&&r[i]===C;)i++;if(i<n){const n=t[e].charCodeAt(0),o=n>=1425&&n<=2303||64286===n,f=r[i];if(o&&(f===h||f===S))return h}}return e<1||r[e-1]===d?a:n[e-1]},UBAT_B:()=>(i.lastArabic=!0,i.hasUbatB=!0,i.dir),UBAT_S:()=>(i.hasUbatS=!0,a),UBAT_LRE:()=>(i.lastArabic=!1,a),UBAT_RLE:()=>(i.lastArabic=!1,a),UBAT_LRO:()=>(i.lastArabic=!1,a),UBAT_RLO:()=>(i.lastArabic=!1,a),UBAT_PDF:()=>(i.lastArabic=!1,a),UBAT_BN:()=>a}[D[o]]()}function it(r){let n,e=0,i=t.length-1;for(;e<=i;)if(n=Math.floor((e+i)/2),r<t[n][0])i=n-1;else{if(!(r>t[n][0]))return t[n][1];e=n+1}return r}function ot(t){for(let r=0;r<c.length;r++)if(c[r]===t)return!0;return!1}function ft(t){for(let r=0;r<i.length;r++)if(t===i[r])return u[r];return t}function ut(t,r){for(let n=0;n<i.length;n++)if(t===i[n])return r[n];return t}function st(t){return t>="ً"&&t<="ٕ"}function ct(t){return"L"===t?"LTR":"R"===t?"RTL":"C"===t?"CLR":"D"===t?"CRL":""}function Tt(t,r,n,e){for(;r*n<e&&st(t[r]);)r+=n;return r*n<e&&(t[r]=" ",!0)}function Lt(t,n){for(let e=0;e<r.length;e++)if(t===r[e])return n[e];return t}function lt(t,r,n){Bt=[],_t=[];for(let e=0;e<n;e++)t[e]=e,r[e]=e,Bt[e]=e}function Rt(t){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[t[n]]=n;return r}function At(t,r,n,e){for(let i=0;i<t.length;i++)(t[i]>r||!n&&t[i]===r)&&(t[i]+=e)}let Bt=[],ht=[],_t=[];const Ut={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},at=5,dt=6,Nt=0,St=1,Vt=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,Et=/[\u0591-\u06ff\ufb1d-\ufefc]/;export{Y as C};
//# sourceMappingURL=p-3811f238.js.map