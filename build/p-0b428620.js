import{a8 as t,hu as o,U as a,kR as s,s as e,hv as i}from"./p-aad64c9f.js";import"./p-2af77f97.js";async function n(e,n,r){const l=t(e),u=n.toJSON();n.validationSet&&(u.validationSet=JSON.stringify(n.validationSet));const c={...u,returnEdits:!0,f:"json"},k=o({...l.query,...c}),p=i(k,{...r,method:"post"}),w=`${l.path}/validateNetworkTopology`,{data:y}=await a(w,p);return s.fromJSON(d(y))}async function r(s,n,r){if(!n.gdbVersion)throw new e("submit-validate-network-topology-job:missing-gdb-version","version is missing");const d=t(s),l=n.toJSON();n.validationSet&&(l.validationSet=JSON.stringify(n.validationSet));const u=i(d.query,{query:o({...l,returnEdits:!0,async:!0,f:"json"}),...r,method:"post"}),c=`${d.path}/validateNetworkTopology`,{data:k}=await a(c,u);return k?k.statusUrl:null}function d(t){return t.serviceEdits&&(t.serviceEdits=t.serviceEdits.map((t=>(t.editedFeatures.spatialReference&&(t.editedFeatures.spatialReference={wkid:t.editedFeatures.spatialReference.wkid,wkt:t.editedFeatures.spatialReference.wkt,wkt2:t.editedFeatures.spatialReference.wkt2,latestWkid:t.editedFeatures.spatialReference.latestWkid,latestVcsWkid:t.editedFeatures.spatialReference.latestVcsWkid,vcsWkid:t.editedFeatures.spatialReference.vcsWkid}),t={layerId:t.id,editedFeatures:t.editedFeatures})))),t}export{d as handleValidateNetworkTopologyResult,r as submitValidateNetworkTopologyJob,n as validateNetworkTopology};
//# sourceMappingURL=p-0b428620.js.map