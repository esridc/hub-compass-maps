import{U as a}from"./p-aad64c9f.js";async function e(e,t){const{data:r}=await a(e,{responseType:"json",query:{f:"json",...t?.customParameters,token:t?.apiKey}});return r}const t={BingMapsLayer:async()=>(await import("./p-1f74338d.js")).default,BuildingSceneLayer:async()=>(await import("./p-8b6f2738.js")).default,CSVLayer:async()=>(await import("./p-84dab256.js")).default,CatalogLayer:async()=>(await import("./p-f2821199.js")).default,DimensionLayer:async()=>(await import("./p-2c832615.js")).default,ElevationLayer:async()=>(await import("./p-93f8d3a8.js")).default,FeatureLayer:async()=>(await import("./p-aad64c9f.js").then((function(a){return a.s$}))).default,GeoJSONLayer:async()=>(await import("./p-38a6cd09.js")).default,GeoRSSLayer:async()=>(await import("./p-8fd6d4cd.js")).default,GroupLayer:async()=>(await import("./p-3f3508f2.js")).default,ImageryLayer:async()=>(await import("./p-f1e3b235.js")).default,ImageryTileLayer:async()=>(await import("./p-45847686.js")).default,IntegratedMesh3DTilesLayer:async()=>(await import("./p-5b25f5fd.js")).default,IntegratedMeshLayer:async()=>(await import("./p-d314ce5a.js")).default,KMLLayer:async()=>(await import("./p-3cf8559e.js")).default,KnowledgeGraphLayer:async()=>(await import("./p-555540b4.js")).default,LineOfSightLayer:async()=>(await import("./p-47375d12.js")).default,LinkChartLayer:async()=>(await import("./p-d4897433.js")).default,MapImageLayer:async()=>(await import("./p-a113e7b4.js")).default,MapNotesLayer:async()=>(await import("./p-6eabac3d.js")).default,MediaLayer:async()=>(await import("./p-65a09ee4.js")).default,OGCFeatureLayer:async()=>(await import("./p-693636b0.js")).default,OpenStreetMapLayer:async()=>(await import("./p-a8cc7fbc.js")).default,OrientedImageryLayer:async()=>(await import("./p-a4bb3f1f.js")).default,PointCloudLayer:async()=>(await import("./p-cda62e1f.js")).default,RouteLayer:async()=>(await import("./p-e9c16e09.js")).default,SceneLayer:async()=>(await import("./p-70c568ad.js")).default,StreamLayer:async()=>(await import("./p-d2814921.js")).default,SubtypeGroupLayer:async()=>(await import("./p-aa869567.js")).default,TileLayer:async()=>(await import("./p-0b47e97c.js")).default,UnknownLayer:async()=>(await import("./p-a8bf24ee.js")).default,UnsupportedLayer:async()=>(await import("./p-1765e8c9.js")).default,VectorTileLayer:async()=>(await import("./p-7d46593c.js")).default,VideoLayer:async()=>(await import("./p-a2d6aaf4.js")).default,ViewshedLayer:async()=>(await import("./p-ce07972b.js")).default,VoxelLayer:async()=>(await import("./p-2b19f735.js")).default,WFSLayer:async()=>(await import("./p-b3b3e4db.js")).default,WMSLayer:async()=>(await import("./p-d60a4468.js")).default,WMTSLayer:async()=>(await import("./p-d5133fd1.js")).default,WebTileLayer:async()=>(await import("./p-b7b90f92.js").then((function(a){return a.W}))).default};const r=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function i(a,t){const{loadContext:r,...i}=t||{},s=r?await r.fetchServiceMetadata(a,i):await e(a,i);o(s),y(s);const n={serviceJSON:s};if((s.currentVersion??0)<10.5)return n;const p=`${a}/layers`,c=r?await r.fetchServiceMetadata(p,i):await e(p,i);return o(c),y(c),n.layersJSON={layers:c.layers,tables:c.tables},n}function s(a){const{type:e}=a;return!!e&&r.has(e)}function n(a){return"Table"===a.type}function y(a){a.layers=a.layers?.filter(s),a.tables=a.tables?.filter(n)}function p(a){a.type||="Feature Layer"}function c(a){a.type||="Table"}function o(a){a.layers?.forEach(p),a.tables?.forEach(c)}function L(a){switch(a){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}export{t as a,e as b,L as i,i as t};
//# sourceMappingURL=p-c679ddd9.js.map