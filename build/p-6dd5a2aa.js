import{b as e,r,k as t,B as n,a as i,d as s}from"./p-32a39338.js";import{s as a}from"./p-ecde740d.js";import{b as l,u as o}from"./p-4713be1a.js";import{fl as u}from"./p-028496e2.js";import{crosses as p,touches as f,within as c,overlaps as m,contains as w,intersects as R,relate as S}from"./p-3ccaca74.js";import"./p-7db7fa08.js";import"./p-2b21de69.js";import"./p-854d8fad.js";import"./p-1f0b604e.js";import"./p-347800d3.js";import"./p-94b15954.js";import"./p-70a81651.js";import"./p-3b51db5e.js";function h(e){return e instanceof u}function j(i,s,S,j){return j(i,s,(async(j,d,b)=>{if(b.length<2)throw new e(i,r.WrongNumberOfParameters,s);if(null===(b=t(b))[0]&&null===b[1])return!1;if(n(b[0])){if(b[1]instanceof u)return new l({parentfeatureset:b[0],relation:S,relationGeom:b[1]});if(null===b[1])return new o({parentfeatureset:b[0]});throw new e(i,r.InvalidParameter,s)}if(h(b[0])){if(h(b[1])){switch(S){case"esriSpatialRelEnvelopeIntersects":return R(a(b[0]),a(b[1]));case"esriSpatialRelIntersects":return R(b[0],b[1]);case"esriSpatialRelContains":return w(b[0],b[1]);case"esriSpatialRelOverlaps":return m(b[0],b[1]);case"esriSpatialRelWithin":return c(b[0],b[1]);case"esriSpatialRelTouches":return f(b[0],b[1]);case"esriSpatialRelCrosses":return p(b[0],b[1])}throw new e(i,r.InvalidParameter,s)}if(n(b[1]))return new l({parentfeatureset:b[1],relation:S,relationGeom:b[0]});if(null===b[1])return!1;throw new e(i,r.InvalidParameter,s)}if(null!==b[0])throw new e(i,r.InvalidParameter,s);return n(b[1])?new o({parentfeatureset:b[1]}):!(b[1]instanceof u||null===b[1])&&void 0}))}function d(a){"async"===a.mode&&(a.functions.intersects=function(e,r){return j(e,r,"esriSpatialRelIntersects",a.standardFunctionAsync)},a.functions.envelopeintersects=function(e,r){return j(e,r,"esriSpatialRelEnvelopeIntersects",a.standardFunctionAsync)},a.signatures.push({name:"envelopeintersects",min:2,max:2}),a.functions.contains=function(e,r){return j(e,r,"esriSpatialRelContains",a.standardFunctionAsync)},a.functions.overlaps=function(e,r){return j(e,r,"esriSpatialRelOverlaps",a.standardFunctionAsync)},a.functions.within=function(e,r){return j(e,r,"esriSpatialRelWithin",a.standardFunctionAsync)},a.functions.touches=function(e,r){return j(e,r,"esriSpatialRelTouches",a.standardFunctionAsync)},a.functions.crosses=function(e,r){return j(e,r,"esriSpatialRelCrosses",a.standardFunctionAsync)},a.functions.relate=function(l,p){return a.standardFunctionAsync(l,p,((a,f,c)=>{if(c=t(c),i(c,3,3,l,p),h(c[0])&&h(c[1]))return S(c[0],c[1],s(c[2]));if(c[0]instanceof u&&null===c[1])return!1;if(c[1]instanceof u&&null===c[0])return!1;if(n(c[0])&&null===c[1])return new o({parentfeatureset:c[0]});if(n(c[1])&&null===c[0])return new o({parentfeatureset:c[1]});if(n(c[0])&&c[1]instanceof u)return c[0].relate(c[1],s(c[2]));if(n(c[1])&&c[0]instanceof u)return c[1].relate(c[0],s(c[2]));if(null===c[0]&&null===c[1])return!1;throw new e(l,r.InvalidParameter,p)}))})}export{d as registerFunctions};
//# sourceMappingURL=p-6dd5a2aa.js.map