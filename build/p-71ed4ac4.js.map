{"version":3,"names":["p","o","e","l","t","f","s","n","a","c","get","wkid","latestWkid","i","r","wkt2","wkt","toUpperCase","k","m","set","Map","Math","sin","cos","R","E","P","UNKNOWN","C","A","LON_LAT","L","_","u","WEB_MERCATOR","PLATE_CARREE","WGS84","CGCS2000","SPHERICAL_ECEF","SPHERICAL_MARS_PCPF","SPHERICAL_MOON_PCPF"],"sources":["./node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js","./node_modules/@arcgis/core/geometry/projection/localRotationUtils.js","./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{SphericalECEFSpatialReferenceLike as e,SphericalPCPFMarsLike as t,SphericalPCPFMoonLike as s,WGS84ECEFSpatialReferenceLike as n}from\"./ellipsoidUtils.js\";import o from\"./SpatialReference.js\";import{isWKIDFromMars as i,isWKIDFromMoon as r}from\"./support/spatialReferenceUtils.js\";const p=new o(e),l=new o(t),f=new o(s),w=new o(n);function a(e){const t=c.get(e);if(t)return t;let s=p;if(e)if(e===l)s=l;else if(e===f)s=f;else{const t=e.wkid,n=e.latestWkid;if(null!=t||null!=n)i(t)||i(n)?s=l:(r(t)||r(n))&&(s=f);else{const t=e.wkt2??e.wkt;if(t){const e=t.toUpperCase();e===k?s=l:e===m&&(s=f)}}}return c.set(e,s),s}const c=new Map,k=l.wkt.toUpperCase(),m=f.wkt.toUpperCase();export{p as SphericalECEFSpatialReference,l as SphericalPCPFMars,f as SphericalPCPFMoon,w as WGS84ECEFSpatialReference,a as getSphericalPCPF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{transpose as t}from\"../../core/libs/gl-matrix-2/math/mat4.js\";function n(t,n,o){const r=Math.sin(t),a=Math.cos(t),i=Math.sin(n),s=Math.cos(n),c=o;return c[0]=-r,c[4]=-i*a,c[8]=s*a,c[12]=0,c[1]=a,c[5]=-i*r,c[9]=s*r,c[13]=0,c[2]=0,c[6]=s,c[10]=i,c[14]=0,c[3]=0,c[7]=0,c[11]=0,c[15]=1,c}function o(o,r,a){return n(o,r,a),t(a,a),a}export{n as computeENUToSphericalPCPFLocalRotation,o as computeSphericalPCPFToENULocalRotation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{deg2rad as r}from\"../../core/mathUtils.js\";import{fromTranslation as t,identity as o}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeENUToSphericalPCPFLocalRotation as l,computeSphericalPCPFToENULocalRotation as n}from\"./localRotationUtils.js\";import{classifySpatialReference as E,sourceClassificationCache as s,destClassificationCache as e,ProjectionID as m,projectionTable as A}from\"./projectors.js\";import{equals as C}from\"../support/spatialReferenceUtils.js\";function R(r,i,R,c){if(null==r||null==c)return!1;const p=E(r,s),P=E(c,e);if(p===P&&!f(P)&&(p!==m.UNKNOWN||C(r,c)))return t(R,i),!0;if(f(P)){const r=A[p][m.LON_LAT],t=A[m.LON_LAT][P];return null!=r&&null!=t&&(r(i,0,L,0),t(L,0,_,0),l(u*L[0],u*L[1],R),R[12]=_[0],R[13]=_[1],R[14]=_[2],!0)}if((P===m.WEB_MERCATOR||P===m.PLATE_CARREE||P===m.WGS84)&&(p===m.WGS84||p===m.CGCS2000&&P===m.PLATE_CARREE||p===m.SPHERICAL_ECEF||p===m.WEB_MERCATOR)){const r=A[p][m.LON_LAT],t=A[m.LON_LAT][P];return null!=r&&null!=t&&(r(i,0,L,0),t(L,0,_,0),p===m.SPHERICAL_ECEF?n(u*L[0],u*L[1],R):o(R),R[12]=_[0],R[13]=_[1],R[14]=_[2],!0)}return!1}function f(r){return r===m.SPHERICAL_ECEF||r===m.SPHERICAL_MARS_PCPF||r===m.SPHERICAL_MOON_PCPF}const u=r(1),L=i(),_=i();export{R as computeTranslationToOriginAndRotation};\n"],"mappings":"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"}