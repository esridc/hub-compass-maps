import{q3 as t,rt as o,U as e}from"./p-aad64c9f.js";import{t as r}from"./p-1062e8df.js";import{a as n}from"./p-a7013a3f.js";import"./p-2af77f97.js";import"./p-4e60756f.js";import"./p-21ce5524.js";import"./p-aff89b86.js";import"./p-da522976.js";import"./p-d492d39b.js";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(",")),o.keywords&&(o.keywords=o.keywords.join(",")),o.globalIds&&(o.globalIds=o.globalIds.join(",")),o.objectIds&&(o.objectIds=o.objectIds.join(",")),o.size&&(o.size=o.size.join(",")),o}function a(e,r){const s={};for(const a of r){const{parentObjectId:r,parentGlobalId:c,attachmentInfos:f}=a;for(const a of f){const{id:f}=a,p=t(o(`${e.path}/${r}/attachments/${f}`)),m=n.fromJSON(a);m.set({url:p,parentObjectId:r,parentGlobalId:c}),s[r]?s[r].push(m):s[r]=[m]}}return s}function c(t,o,n){let a={query:r({...t.query,f:"json",...s(o)})};return n&&(a={...n,...a,query:{...n.query,...a.query}}),e(t.path+"/queryAttachments",a).then((t=>t.data.attachmentGroups))}async function f(t,o,r){const{objectIds:n}=o,s=[];for(const o of n)s.push(e(t.path+"/"+o+"/attachments",r));return Promise.all(s).then((t=>n.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,f as fetchAttachments,a as processAttachmentQueryResult};
//# sourceMappingURL=p-e0fa5109.js.map